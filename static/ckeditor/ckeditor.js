/*
Copyright (c) 2003-2009, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){if(!window.CKEDITOR)window.CKEDITOR=(function(){var a={timestamp:'92L1',_:{},status:'unloaded',basePath:(function(){var d=window.CKEDITOR_BASEPATH||'';if(!d){var e=document.getElementsByTagName('script');for(var f=0;f<e.length;f++){var g=e[f].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(g){d=g[1];break;}}}if(d.indexOf('://')==-1)if(d.indexOf('/')===0)d=location.href.match(/^.*?:\/\/[^\/]*/)[0]+d;else d=location.href.match(/^[^\?]*\/(?:)/)[0]+d;return d;})(),getUrl:function(d){if(d.indexOf('://')==-1&&d.indexOf('/')!==0)d=this.basePath+d;if(this.timestamp&&d.charAt(d.length-1)!='/')d+=(d.indexOf('?')>=0?'&':'?')+('t=')+this.timestamp;return d;}},b=window.CKEDITOR_GETURL;if(b){var c=a.getUrl;a.getUrl=function(d){return b.call(a,d)||c.call(a,d);};}return a;})();var a=CKEDITOR;if(!a.event){a.event=function(){var c=this;var b=c._&&c._.events;if(!b)(c._||(c._={})).events={};};a.event.implementOn=function(b,c){if(!c)a.event.call(b);for(var d in a.event.prototype)(function(){var e=d;if(b[e]==undefined)b[e]=c?function(){var f=this;if(!(f._&&f._.events))a.event.call(f);(f[e]=a.event.prototype[e]).apply(f,arguments);}:a.event.prototype[e];})();};a.event.prototype=(function(){var b=function(c){this.name=c;this.listeners=[];};b.prototype={getListenerIndex:function(c){for(var d=0,e=this.listeners;d<e.length;d++)if(e[d].fn==c)return d;return-1;}};return{on:function(c,d,e,f,g){var h=this._.events[c]||(this._.events[c]=new b(c));if(h.getListenerIndex(d)<0){var i=h.listeners;if(!e)e=this;if(isNaN(g))g=10;var j=this,k=function(m,n,o,p){var q={name:c,sender:this,editor:m,data:n,listenerData:f,stop:o,cancel:p,removeListener:function(){j.removeListener(c,d);}};d.call(e,q);return q.data;};k.fn=d;k.priority=g;for(var l=i.length-1;l>=0;l--)if(i[l].priority<=g){i.splice(l+1,0,k);return;}i.unshift(k);}},fire:(function(){var c=false,d=function(){c=true;},e=false,f=function(){e=true;};return function(g,h,i){var j=this._.events[g],k=c,l=e;c=e=false;if(j){var m=j.listeners;if(m.length){m=m.slice(0);for(var n=0;n<m.length;n++){var o=m[n].call(this,i,h,d,f);if(typeof o!='undefined')h=o;if(c||e)break;}}}var p=e||(typeof h=='undefined'?false:h);c=k;e=l;return p;};})(),fireOnce:function(c,d,e){var f=this.fire(c,d,e);delete this._.events[c];return f;},removeListener:function(c,d){var e=this._.events[c];if(e){var f=e.getListenerIndex(d);if(f>=0)e.listeners.splice(f,1);}},hasListeners:function(c){var d=this._.events[c];return d&&d.listeners.length>0;}};})();
}if(!a.editor){a.ELEMENT_MODE_NONE=0;a.ELEMENT_MODE_REPLACE=1;a.ELEMENT_MODE_APPENDTO=2;a.editor=function(b,c,d){var e=this;e._={instanceConfig:b,element:c};e.elementMode=d||0;a.event.call(e);e._init();};a.editor.replace=function(b,c){var d=b;if(typeof d!='object'){d=document.getElementById(b);if(!d){var e=0,f=document.getElementsByName(b);while((d=f[e++])&&(d.tagName.toLowerCase()!='textarea')){}}if(!d)throw '[CKEDITOR.editor.replace] The element with id or name "'+b+'" was not found.';}d.style.visibility='hidden';return new a.editor(c,d,1);};a.editor.appendTo=function(b,c){if(typeof b!='object'){b=document.getElementById(b);if(!b)throw '[CKEDITOR.editor.appendTo] The element with id "'+b+'" was not found.';}return new a.editor(c,b,2);};a.editor.prototype={_init:function(){var b=a.editor._pending||(a.editor._pending=[]);b.push(this);},fire:function(b,c){return a.event.prototype.fire.call(this,b,c,this);},fireOnce:function(b,c){return a.event.prototype.fireOnce.call(this,b,c,this);}};a.event.implementOn(a.editor.prototype,true);}if(!a.env)a.env=(function(){var b=navigator.userAgent.toLowerCase(),c=window.opera,d={ie:/*@cc_on!@*/false,opera:!!c&&c.version,webkit:b.indexOf(' applewebkit/')>-1,air:b.indexOf(' adobeair/')>-1,mac:b.indexOf('macintosh')>-1,quirks:document.compatMode=='BackCompat'};d.gecko=navigator.product=='Gecko'&&!d.webkit&&!d.opera;var e=0;if(d.ie){e=parseFloat(b.match(/msie (\d+)/)[1]);d.ie6Compat=e<7||d.quirks;}if(d.gecko){var f=b.match(/rv:([\d\.]+)/);if(f){f=f[1].split('.');e=f[0]*10000+(f[1]||0)*(100)+(f[2]||0);}}if(d.opera)e=parseFloat(c.version());if(d.air)e=parseFloat(b.match(/ adobeair\/(\d+)/)[1]);if(d.webkit)e=parseFloat(b.match(/ applewebkit\/(\d+)/)[1]);d.version=e;d.isCompatible=d.ie&&e>=6||d.gecko&&e>=10801||d.opera&&e>=9.5||d.air&&e>=1||d.webkit&&e>=522||false;return d;})();var b=a.env;var c=b.ie;if(a.status=='unloaded')(function(){a.event.implementOn(a);a.loadFullCore=function(){if(a.status!='basic_ready'){a.loadFullCore._load=true;return;}delete a.loadFullCore;var e=document.createElement('script');e.type='text/javascript';e.src=a.basePath+'ckeditor.js';document.getElementsByTagName('head')[0].appendChild(e);};a.loadFullCoreTimeout=0;a.replaceClass='ckeditor';a.replaceByClassEnabled=true;var d=function(e,f,g){if(b.isCompatible){if(a.loadFullCore)a.loadFullCore();var h=g(e,f);a.add(h);return h;}return null;};a.replace=function(e,f){return d(e,f,a.editor.replace);};a.appendTo=function(e,f){return d(e,f,a.editor.appendTo);
};a.add=function(e){var f=this._.pending||(this._.pending=[]);f.push(e);};a.replaceAll=function(){var e=document.getElementsByTagName('textarea');for(var f=0;f<e.length;f++){var g=null,h=e[f],i=h.name;if(!h.name&&!h.id)continue;if(typeof arguments[0]=='string'){var j=new RegExp('(?:^| )'+arguments[0]+'(?:$| )');if(!j.test(h.className))continue;}else if(typeof arguments[0]=='function'){g={};if(arguments[0](h,g)===false)continue;}this.replace(h,g);}};(function(){var e=function(){var f=a.loadFullCore,g=a.loadFullCoreTimeout;if(a.replaceByClassEnabled)a.replaceAll(a.replaceClass);a.status='basic_ready';if(f&&f._load)f();else if(g)setTimeout(function(){if(a.loadFullCore)a.loadFullCore();},g*1000);};if(window.addEventListener)window.addEventListener('load',e,false);else if(window.attachEvent)window.attachEvent('onload',e);})();a.status='basic_loaded';})();a.dom={};var d=a.dom;(function(){var e=[];a.tools={arrayCompare:function(f,g){if(!f&&!g)return true;if(!f||!g||f.length!=g.length)return false;for(var h=0;h<f.length;h++)if(f[h]!=g[h])return false;return true;},clone:function(f){var g={};for(var h in f){var i=f[h];if(typeof i=='object')i=this.clone(i);g[h]=i;}return g;},extend:function(f){var g=arguments.length,h,i;if(typeof (h=arguments[g-1])=='boolean')g--;else if(typeof (h=arguments[g-2])=='boolean'){i=arguments[g-1];g-=2;}for(var j=1;j<g;j++){var k=arguments[j];for(var l in k)if(h===true||f[l]==undefined)if(!i||l in i)f[l]=k[l];}return f;},prototypedCopy:function(f){var g=function(){};g.prototype=f;return new g();},isArray:function(f){return!!f&&f instanceof Array;},cssStyleToDomStyle:function(f){if(f=='float')return 'cssFloat';else return f.replace(/-./g,function(g){return g.substr(1).toUpperCase();});},htmlEncode:function(f){var g=function(h){var i=new d.element('span');i.setText(h);return i.getHtml();};this.htmlEncode=g('>')=='>'?function(h){return g(h).replace(/>/g,'&gt;');}:g;return this.htmlEncode(f);},getNextNumber:(function(){var f=0;return function(){return++f;};})(),override:function(f,g){return g(f);},setTimeout:function(f,g,h,i,j){if(!j)j=window;if(!h)h=j;return j.setTimeout(function(){if(i)f.apply(h,[].concat(i));else f.apply(h);},g||0);},trim:(function(){var f=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(g){return g.replace(f,'');};})(),ltrim:(function(){var f=/^[ \t\n\r]+/g;return function(g){return g.replace(f,'');};})(),rtrim:(function(){var f=/[ \t\n\r]+$/g;return function(g){return g.replace(f,'');};})(),indexOf:Array.prototype.indexOf?function(f,g){return f.indexOf(g);
}:function(f,g){for(var h=0,i=f.length;h<i;h++)if(f[h]===g)return h;return-1;},bind:function(f,g){return function(){return f.apply(g,arguments);};},createClass:function(f){var g=f.$,h=f.base,i=f.privates||f._,j=f.proto,k=f.statics;if(i){var l=g;g=function(){var p=this;var m=p._||(p._={});for(var n in i){var o=i[n];m[n]=typeof o=='function'?a.tools.bind(o,p):o;}l.apply(p,arguments);};}if(h){g.prototype=this.prototypedCopy(h.prototype);g.prototype['constructor']=g;g.prototype.base=function(){this.base=h.prototype.base;h.apply(this,arguments);this.base=arguments.callee;};}if(j)this.extend(g.prototype,j,true);if(k)this.extend(g,k,true);return g;},addFunction:function(f,g){return e.push(function(){f.apply(g||this,arguments);})-1;},callFunction:function(f){var g=e[f];return g.apply(window,Array.prototype.slice.call(arguments,1));},cssLength:(function(){var f=/^\d+(?:\.\d+)?$/;return function(g){return g+(f.test(g)?'px':'');};})()};})();var e=a.tools;a.dtd=(function(){var f=e.extend,g={isindex:1,fieldset:1},h={input:1,button:1,select:1,textarea:1,label:1},i=f({a:1},h),j=f({iframe:1},i),k={hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1},l={ins:1,del:1,script:1},m=f({b:1,acronym:1,bdo:1,'var':1,'#':1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1},l),n=f({sub:1,img:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1},m),o=f({p:1},n),p=f({iframe:1},n,h),q={img:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,'#':1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,'var':1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1},r=f({a:1},p),s={tr:1},t={'#':1},u=f({param:1},q),v=f({form:1},g,j,k,o),w={li:1},x={address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1};return{$block:x,$body:f({script:1},x),$empty:{area:1,base:1,br:1,col:1,hr:1,img:1,input:1,link:1,meta:1,param:1},$listItem:{dd:1,dt:1,li:1},$nonEditable:{applet:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,script:1,textarea:1},$removeEmpty:{abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},col:{},tr:{td:1,th:1},img:{},colgroup:{col:1},noscript:v,td:v,br:{},th:v,center:v,kbd:r,button:f(o,k),basefont:{},h5:r,h4:r,samp:r,h6:r,ol:w,h1:r,h3:r,option:t,h2:r,form:f(g,j,k,o),select:{optgroup:1,option:1},font:r,ins:v,menu:w,abbr:r,label:r,table:{thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1},code:r,script:t,tfoot:s,cite:r,li:v,input:{},iframe:v,strong:r,textarea:t,noframes:v,big:r,small:r,span:r,hr:{},dt:r,sub:r,optgroup:{option:1},param:{},bdo:r,'var':r,div:v,object:u,sup:r,dd:v,strike:r,area:{},dir:w,map:f({area:1,form:1,p:1},g,l,k),applet:u,dl:{dt:1,dd:1},del:v,isindex:{},fieldset:f({legend:1},q),thead:s,ul:w,acronym:r,b:r,a:p,blockquote:v,caption:r,i:r,u:r,tbody:s,s:r,address:f(j,o),tt:r,legend:r,q:r,pre:f(m,i),p:r,em:r,dfn:r};
})();var f=a.dtd;d.event=function(g){this.$=g;};d.event.prototype={getKey:function(){return this.$.keyCode||this.$.which;},getKeystroke:function(){var h=this;var g=h.getKey();if(h.$.ctrlKey||h.$.metaKey)g+=1000;if(h.$.shiftKey)g+=2000;if(h.$.altKey)g+=4000;return g;},preventDefault:function(g){var h=this.$;if(h.preventDefault)h.preventDefault();else h.returnValue=false;if(g)if(h.stopPropagation)h.stopPropagation();else h.cancelBubble=true;},getTarget:function(){var g=this.$.target||this.$.srcElement;return g?new d.node(g):null;}};a.CTRL=1000;a.SHIFT=2000;a.ALT=4000;d.domObject=function(g){var h=this;if(g){h.$=g;if(!(h._=h.getCustomData('_')))h.setCustomData('_',h._={});if(!h._.events)a.event.call(h);}};d.domObject.prototype=(function(){var g=function(h,i){return function(j){if(typeof a!='undefined')h.fire(i,new d.event(j));};};return{on:function(h){var k=this;var i=k.getCustomData('_cke_nativeListeners');if(!i){i={};k.setCustomData('_cke_nativeListeners',i);}if(!i[h]){var j=i[h]=g(k,h);if(k.$.addEventListener)k.$.addEventListener(h,j,false);else if(k.$.attachEvent)k.$.attachEvent('on'+h,j);}return a.event.prototype.on.apply(k,arguments);},removeListener:function(h){var k=this;a.event.prototype.removeListener.apply(k,arguments);if(!k.hasListeners(h)){var i=k.getCustomData('_cke_nativeListeners'),j=i&&i[h];if(j){if(k.$.removeEventListener)k.$.removeEventListener(h,j,false);else if(k.$.detachEvent)k.$.detachEvent('on'+h,j);delete i[h];}}}};})();(function(g){var h={};g.equals=function(i){return i&&i.$===this.$;};g.setCustomData=function(i,j){var k=this.getUniqueId(),l=h[k]||(h[k]={});l[i]=j;return this;};g.getCustomData=function(i){var j=this.$._cke_expando,k=j&&h[j];if(k&&k[i]!==undefined)return k[i];return null;};g.removeCustomData=function(i){var j=this.$._cke_expando,k=j&&h[j],l=k[i];delete k[i];return l||null;};g.getUniqueId=function(){return this.$._cke_expando||(this.$._cke_expando=e.getNextNumber());};a.event.implementOn(g,true);})(d.domObject.prototype);d.node=function(g){if(g){switch(g.nodeType){case 1:return new d.element(g);case 3:return new d.text(g);}d.domObject.call(this,g);}return this;};d.node.prototype=new d.domObject();a.NODE_ELEMENT=1;a.NODE_TEXT=3;a.NODE_COMMENT=8;a.NODE_DOCUMENT_FRAGMENT=11;a.POSITION_IDENTICAL=0;a.POSITION_DISCONNECTED=1;a.POSITION_FOLLOWING=2;a.POSITION_PRECEDING=4;a.POSITION_IS_CONTAINED=8;a.POSITION_CONTAINS=16;e.extend(d.node.prototype,{appendTo:function(g,h){g.append(this,h);return g;},clone:function(g,h){var i=this.$.cloneNode(g);
if(this.type==1&&!h){i.removeAttribute('id',false);i.removeAttribute('_cke_expando',false);}return new d.node(i);},hasPrevious:function(){return!!this.$.previousSibling;},hasNext:function(){return!!this.$.nextSibling;},insertAfter:function(g){g.$.parentNode.insertBefore(this.$,g.$.nextSibling);return g;},insertBefore:function(g){g.$.parentNode.insertBefore(this.$,g.$);return g;},insertBeforeMe:function(g){this.$.parentNode.insertBefore(g.$,this.$);return g;},getAddress:function(g){var h=[],i=this.getDocument().$.documentElement,j=this.$;while(j&&j!=i){var k=j.parentNode,l=-1;for(var m=0;m<k.childNodes.length;m++){var n=k.childNodes[m];if(g&&n.nodeType==3&&n.previousSibling&&n.previousSibling.nodeType==3)continue;l++;if(n==j)break;}h.unshift(l);j=j.parentNode;}return h;},getChild:function(g){var h=this.$;if(!g.slice)h=h.childNodes[g];else while(g.length>0&&h)h=h.childNodes[g.shift()];return h?new d.node(h):null;},getChildCount:function(){return this.$.childNodes.length;},getDocument:function(){var g=new d.document(this.$.ownerDocument||this.$.parentNode.ownerDocument);return(this.getDocument=function(){return g;})();},getIndex:function(){var g=this.$,h=g.parentNode&&g.parentNode.firstChild,i=-1;while(h){i++;if(h==g)return i;h=h.nextSibling;}return-1;},getNext:function(){var g=this.$.nextSibling;return g?new d.node(g):null;},getNextSourceNode:function(g,h){var i=this.$,j=!g&&i.firstChild?i.firstChild:i.nextSibling,k;while(!j&&(k=(k||i).parentNode))j=k.nextSibling;if(!j)return null;if(h&&h!=j.nodeType)return arguments.callee.call({$:j},false,h);return new d.node(j);},getPreviousSourceNode:function(g,h){var i=this.$,j=!g&&i.lastChild?i.lastChild:i.previousSibling,k;while(!j&&(k=(k||i).parentNode))j=k.previousSibling;if(!j)return null;if(h&&j.nodeType!=h)return arguments.callee.call({$:j},false,h);return new d.node(j);},getPrevious:function(){var g=this.$.previousSibling;return g?new d.node(g):null;},getParent:function(){var g=this.$.parentNode;return g&&g.nodeType==1?new d.node(g):null;},getParents:function(){var g=this,h=[];do h.unshift(g);while(g=g.getParent())return h;},getCommonAncestor:function(g){var i=this;if(g.equals(i))return i;if(g.contains&&g.contains(i))return g;var h=i.contains?i:i.getParent();do if(h.contains(g))return h;while(h=h.getParent())return null;},getPosition:function(g){var m=this;var h=m.$,i=g.$;if(h.compareDocumentPosition)return h.compareDocumentPosition(i);if(h==i)return 0;if(m.type!=1||g.type!=1)if(h.parentNode==i)return 8+2;else if(i.parentNode==h)return 16+4;
else if(h.parentNode==i.parentNode)return m.getIndex()<g.getIndex()?4:2;else{h=h.parentNode;i=i.parentNode;}if(h.contains(i))return 16+4;if(i.contains(h))return 8+2;if('sourceIndex' in h)return h.sourceIndex<0||i.sourceIndex<0?1:h.sourceIndex<i.sourceIndex?4:2;var j=m.getDocument().$,k=j.createRange(),l=j.createRange();k.selectNode(h);l.selectNode(i);return k.compareBoundaryPoints(1,l)>0?2:4;},getAscendant:function(g,h){var i=this.$;if(!h)i=i.parentNode;while(i){if(i.nodeName&&i.nodeName.toLowerCase()==g)return new d.node(i);i=i.parentNode;}return null;},hasAscendant:function(g,h){var i=this.$;if(!h)i=i.parentNode;while(i){if(i.nodeName&&i.nodeName.toLowerCase()==g)return true;i=i.parentNode;}return false;},move:function(g,h){g.append(this.remove(),h);},remove:function(g){var h=this.$,i=h.parentNode;if(i){if(g)for(var j;j=h.firstChild;)i.insertBefore(h.removeChild(j),h);i.removeChild(h);}return this;},replace:function(g){this.insertBefore(g);g.remove();},trim:function(){this.ltrim();this.rtrim();},ltrim:function(){var j=this;var g;while(j.getFirst&&(g=j.getFirst())){if(g.type==3){var h=e.ltrim(g.getText()),i=g.getLength();if(h.length==0){g.remove();continue;}else if(h.length<i){g.split(i-h.length);j.$.removeChild(j.$.firstChild);}}break;}},rtrim:function(){var j=this;var g;while(j.getLast&&(g=j.getLast())){if(g.type==3){var h=e.rtrim(g.getText()),i=g.getLength();if(h.length==0){g.remove();continue;}else if(h.length<i){g.split(h.length);j.$.lastChild.parentNode.removeChild(j.$.lastChild);}}break;}if(!c&&!b.opera){g=j.$.lastChild;if(g&&g.type==1&&g.nodeName.toLowerCase()=='br')g.parentNode.removeChild(g);}}});d.nodeList=function(g){this.$=g;};d.nodeList.prototype={count:function(){return this.$.length;},getItem:function(g){var h=this.$[g];return h?new d.node(h):null;}};d.element=function(g,h){if(typeof g=='string')g=(h?h.$:document).createElement(g);d.domObject.call(this,g);};var g=d.element;g.get=function(h){return h&&(h.$?h:new g(h));};g.prototype=new d.node();g.createFromHtml=function(h,i){var j=new g('div',i);j.setHtml(h);return j.getFirst().remove();};g.setMarker=function(h,i,j,k){var l=i.getCustomData('list_marker_id')||i.setCustomData('list_marker_id',e.getNextNumber()).getCustomData('list_marker_id'),m=i.getCustomData('list_marker_names')||i.setCustomData('list_marker_names',{}).getCustomData('list_marker_names');h[l]=i;m[j]=1;return i.setCustomData(j,k);};g.clearAllMarkers=function(h){for(var i in h)g.clearMarkers(h,h[i],true);};g.clearMarkers=function(h,i,j){var k=i.getCustomData('list_marker_names'),l=i.getCustomData('list_marker_id');
for(var m in k)i.removeCustomData(m);i.removeCustomData('list_marker_names');if(j){i.removeCustomData('list_marker_id');delete h[l];}};e.extend(g.prototype,{type:1,addClass:function(h){var i=this.$.className;if(i){var j=new RegExp('(?:^|\\s)'+h+'(?:\\s|$)','');if(!j.test(i))i+=' '+h;}this.$.className=i||h;},removeClass:function(h){var i=this.$.className;if(i){var j=new RegExp('(?:^|\\s+)'+h+'(?=\\s|$)','');if(j.test(i)){i=i.replace(j,'').replace(/^\s+/,'');if(i)this.$.className=i;else this.removeAttribute('class');}}},hasClass:function(h){var i=new RegExp('(?:^|\\s+)'+h+'(?=\\s|$)','');return i.test(this.$.className);},append:function(h,i){var j=this;if(typeof h=='string')h=j.getDocument().createElement(h);if(i)j.$.insertBefore(h.$,j.$.firstChild);else j.$.appendChild(h.$);return h;},appendHtml:function(h){var j=this;if(!j.$.childNodes.length)j.setHtml(h);else{var i=new g('div',j.getDocument());i.setHtml(h);i.moveChildren(j);}},appendText:function(h){if(this.$.text!=undefined)this.$.text+=h;else this.append(new d.text(h));},appendBogus:function(){var i=this;var h=i.getLast();while(h&&h.type==3&&e.rtrim(h.getText()).length==0)h=h.getPrevious();if(!h||h.is&&(!h.is('br')||!h.getAttribute('_cke_bogus')))i.append(b.opera?i.getDocument().createText(''):i.getDocument().createElement('br',{attributes:{_cke_bogus:1}}));},breakParent:function(h){var k=this;var i=new d.range(k.getDocument());i.setStartAfter(k);i.setEndAfter(h);var j=i.extractContents();i.insertNode(k.remove());j.insertAfterNode(k);},contains:c||b.webkit?function(h){var i=this.$;return h.type!=1?i.contains(h.getParent().$):i!=h.$&&i.contains(h.$);}:function(h){return!!(this.$.compareDocumentPosition(h.$)&16);},focus:function(){try{this.$.focus();}catch(h){}},getHtml:function(){return this.$.innerHTML;},getOuterHtml:function(){var i=this;if(i.$.outerHTML)return i.$.outerHTML;var h=i.$.ownerDocument.createElement('div');h.appendChild(i.$.cloneNode(true));return h.innerHTML;},setHtml:function(h){return this.$.innerHTML=h;},setText:function(h){g.prototype.setText=this.$.innerText!=undefined?function(i){return this.$.innerText=i;}:function(i){return this.$.textContent=i;};return this.setText(h);},getAttribute:(function(){var h=function(i){return this.$.getAttribute(i,2);};if(c)return function(i){var k=this;switch(i){case 'class':i='className';break;case 'tabindex':var j=h.call(k,i);if(j!==0&&k.$.tabIndex===0)j=null;return j;break;case 'style':return k.$.style.cssText;}return h.call(k,i);};else return h;})(),getChildren:function(){return new d.nodeList(this.$.childNodes);
},getComputedStyle:c?function(h){return this.$.currentStyle[e.cssStyleToDomStyle(h)];}:function(h){return this.getWindow().$.getComputedStyle(this.$,'').getPropertyValue(h);},getDtd:function(){var h=f[this.getName()];this.getDtd=function(){return h;};return h;},getElementsByTag:function(h,i){if(!c&&i)h=i+':'+h;return new d.nodeList(this.$.getElementsByTagName(h));},getTabIndex:c?function(){var h=this.$.tabIndex;if(h===0&&!f.$tabIndex[this.getName()]&&parseInt(this.getAttribute('tabindex'),10)!==0)h=-1;return h;}:b.webkit?function(){var h=this.$.tabIndex;if(h==undefined){h=parseInt(this.getAttribute('tabindex'),10);if(isNaN(h))h=-1;}return h;}:function(){return this.$.tabIndex;},getText:function(){return this.$.textContent||this.$.innerText;},getWindow:function(){return this.getDocument().getWindow();},getId:function(){return this.$.id||null;},getNameAtt:function(){return this.$.name||null;},getName:function(){var h=this.$.nodeName.toLowerCase();if(c){var i=this.$.scopeName;if(i!='HTML')h=i.toLowerCase()+':'+h;}return(this.getName=function(){return h;})();},getValue:function(){return this.$.value;},getFirst:function(){var h=this.$.firstChild;return h?new d.node(h):null;},getLast:function(){var h=this.$.lastChild;return h?new d.node(h):null;},getNext:function(){var h=this.$.nextSibling;return h?new d.node(h):null;},getStyle:function(h){return this.$.style[e.cssStyleToDomStyle(h)];},is:function(){var h=this.getName();for(var i=0;i<arguments.length;i++)if(arguments[i]==h)return true;return false;},isEditable:function(){var h=this.getName(),i=!f.$nonEditable[h]&&(f[h]||f.span);return i&&i['#'];},isIdentical:function(h){if(this.getName()!=h.getName())return false;var i=this.$.attributes,j=h.$.attributes,k=i.length,l=j.length;if(!c&&k!=l)return false;for(var m=0;m<k;m++){var n=i[m];if((!c||n.specified&&n.nodeName!='_cke_expando')&&(n.nodeValue!=h.getAttribute(n.nodeName)))return false;}if(c)for(m=0;m<l;m++){n=j[m];if((!c||n.specified&&n.nodeName!='_cke_expando')&&(n.nodeValue!=i.getAttribute(n.nodeName)))return false;}return true;},isVisible:function(){return this.$.offsetWidth&&this.$.style.visibility!='hidden';},hasAttributes:c?function(){var h=this.$.attributes;for(var i=0;i<h.length;i++){var j=h[i];switch(j.nodeName){case 'class':if(this.$.className.length>0)return true;case '_cke_expando':continue;default:if(j.specified)return true;}}return false;}:function(){return this.$.attributes.length>0;},hide:function(){this.setStyle('display','none');},moveChildren:function(h,i){var j=this.$;
h=h.$;if(j==h)return;var k;if(i)while(k=j.lastChild)h.insertBefore(j.removeChild(k),h.firstChild);else while(k=j.firstChild)h.appendChild(j.removeChild(k));},copyAttributes:function(h,i){var o=this;i||(i={});var j=o.$.attributes;for(var k=0;k<j.length;k++){var l=j[k];if(l.specified){var m=l.nodeName;if(m in i)continue;var n=o.getAttribute(m);if(!n)n=l.nodeValue;h.setAttribute(m,n);}}if(o.$.style.cssText!=='')h.$.style.cssText=o.$.style.cssText;},show:function(){this.setStyles({display:'',visibility:''});},setAttribute:(function(){var h=function(i,j){this.$.setAttribute(i,j);return this;};if(c)return function(i,j){var k=this;if(i=='class')k.$.className=j;else if(i=='style')k.$.style.cssText=j;else if(i=='tabindex')k.$.tabIndex=j;else h.apply(k,arguments);return k;};else return h;})(),setAttributes:function(h){for(var i in h)this.setAttribute(i,h[i]);return this;},setValue:function(h){this.$.value=h;return this;},removeAttribute:(function(){var h=function(i){this.$.removeAttribute(i);};if(c)return function(i){if(i=='class')i='className';h.call(this,i);};else return h;})(),removeAttributes:function(h){for(var i=0;i<h.length;i++)this.removeAttribute(h[i]);},removeStyle:function(h){this.setStyle(h,'');if(!this.$.style.cssText)this.removeAttribute('style');},setStyle:function(h,i){this.$.style[e.cssStyleToDomStyle(h)]=i;return this;},setStyles:function(h){for(var i in h)this.setStyle(i,h[i]);return this;},setOpacity:function(h){if(c){h=Math.round(h*100);this.setStyle('filter',h>=100?'':'progid:DXImageTransform.Microsoft.Alpha(opacity='+h+')');}else this.setStyle('opacity',h);},unselectable:b.gecko?function(){this.$.style.MozUserSelect='none';}:b.webkit?function(){this.$.style.KhtmlUserSelect='none';}:function(){if(c||b.opera){var h=this.$,i,j=0;h.unselectable='on';while(i=h.all[j++])switch(i.tagName.toLowerCase()){case 'iframe':case 'textarea':case 'input':case 'select':break;default:i.unselectable='on';}}},getPositionedAncestor:function(){var h=this;while(h.getName()!='html'){if(h.getComputedStyle('position')!='static')return h;h=h.getParent();}return null;},getDocumentPosition:function(h){var q=this;var i=0,j=0,k=q,l=null;while(k&&!(k.getName()=='body'||k.getName()=='html')){i+=k.$.offsetLeft-k.$.scrollLeft;j+=k.$.offsetTop-k.$.scrollTop;if(!b.opera){var m=l;while(m&&!m.equals(k)){i-=m.$.scrollLeft;j-=m.$.scrollTop;m=m.getParent();}}l=k;k=new g(k.$.offsetParent);}if(h){var n=k.getWindow(),o=h.getWindow();if(!n.equals(o)&&n.$.frameElement){var p=new g(n.$.frameElement).getDocumentPosition(h);
i+=p.x;j+=p.y;}}if(q.getComputedStyle('position')!='static'||c&&q.getPositionedAncestor()==null){i+=q.getDocument().getBody().$.offsetLeft;j+=q.getDocument().getBody().$.offsetTop;}return{x:i,y:j};},scrollIntoView:function(h){var n=this;var i=n.getWindow(),j=i.getViewPaneSize().height,k=j*-1;if(!h){k+=n.$.offsetHeight||0;k+=parseInt(n.getComputedStyle('marginBottom')||0,10)||0;}var l=n.getDocumentPosition();k+=l.y;var m=i.getScrollPosition().y;if(k>0&&(k>m||k<m-j))i.$.scrollTo(0,k);},setState:function(h){var i=this;switch(h){case 1:i.addClass('cke_on');i.removeClass('cke_off');i.removeClass('cke_disabled');break;case 0:i.addClass('cke_disabled');i.removeClass('cke_off');i.removeClass('cke_on');break;default:i.addClass('cke_off');i.removeClass('cke_on');i.removeClass('cke_disabled');break;}}});d.window=function(h){d.domObject.call(this,h);};d.window.prototype=new d.domObject();e.extend(d.window.prototype,{focus:function(){this.$.focus();},getViewPaneSize:function(){var h=this.$.document,i=h.compatMode=='CSS1Compat';return{width:(i?h.documentElement.clientWidth:h.body.clientWidth)||(0),height:(i?h.documentElement.clientHeight:h.body.clientHeight)||(0)};},getScrollPosition:function(){var h=this.$;if('pageXOffset' in h)return{x:h.pageXOffset||0,y:h.pageYOffset||0};else{var i=h.document;return{x:i.documentElement.scrollLeft||i.body.scrollLeft||0,y:i.documentElement.scrollTop||i.body.scrollTop||0};}}});d.document=function(h){d.domObject.call(this,h);};var h=d.document;h.prototype=new d.domObject();e.extend(h.prototype,{appendStyleSheet:function(i){if(this.$.createStyleSheet)this.$.createStyleSheet(i);else{var j=new g('link');j.setAttributes({rel:'stylesheet',type:'text/css',href:i});this.getHead().append(j);}},createElement:function(i,j){var k=new g(i,this);if(j){if(j.attributes)k.setAttributes(j.attributes);if(j.styles)k.setStyles(j.styles);}return k;},createText:function(i){return new d.text(i,this);},getById:function(i){var j=this.$.getElementById(i);return j?new g(j):null;},getByAddress:function(i,j){var k=this.$.documentElement;for(var l=0;k&&l<i.length;l++){var m=i[l];if(!j){k=k.childNodes[m];continue;}var n=-1;for(var o=0;o<k.childNodes.length;o++){var p=k.childNodes[o];if(j===true&&p.nodeType==3&&p.previousSibling&&p.previousSibling.nodeType==3)continue;n++;if(n==m){k=p;break;}}}return k?new d.node(k):null;},getHead:function(){var i=this.$.getElementsByTagName('head')[0];i=new g(i);return(this.getHead=function(){return i;})();},getBody:function(){var i=new g(this.$.body);
return(this.getBody=function(){return i;})();},getDocumentElement:function(){var i=new g(this.$.documentElement);return(this.getDocumentElement=function(){return i;})();},getWindow:function(){var i=new d.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return i;})();}});a.command=function(i,j){this.exec=function(k){if(this.state==0)return false;return j.exec.call(this,i,k)!==false;};e.extend(this,j,{modes:{wysiwyg:1},state:2});a.event.call(this);};a.command.prototype={setState:function(i){if(this.state==i)return false;this.state=i;this.fire('state');return true;},toggleState:function(){var i=this;if(i.state==2)i.setState(1);else if(i.state==1)i.setState(2);}};a.event.implementOn(a.command.prototype,true);a.ENTER_P=1;a.ENTER_BR=2;a.ENTER_DIV=3;a.config={customConfig:a.getUrl('config.js'),autoUpdateElement:true,baseHref:'',contentsCss:a.basePath+'contents.css',contentsLangDirection:'ltr',autoLanguage:true,defaultLanguage:'en',enterMode:1,shiftEnterMode:2,corePlugins:'',docType:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',fullPage:false,height:200,plugins:'basicstyles,blockquote,button,clipboard,colorbutton,contextmenu,elementspath,enterkey,entities,find,flash,font,format,forms,horizontalrule,htmldataprocessor,image,indent,justify,keystrokes,link,list,newpage,pagebreak,pastefromword,pastetext,preview,print,removeformat,save,smiley,showblocks,sourcearea,stylescombo,table,specialchar,tab,templates,toolbar,undo,wysiwygarea,wsc',tabIndex:0,theme:'default',skin:'default',width:'100%',baseFloatZIndex:10000};var i=a.config;a.focusManager=function(j){if(j.focusManager)return j.focusManager;this.hasFocus=false;this._={editor:j};return this;};a.focusManager.prototype={focus:function(){var k=this;if(k._.timer)clearTimeout(k._.timer);if(!k.hasFocus){if(a.currentInstance)a.currentInstance.focusManager.forceBlur();var j=k._.editor;j.container.getFirst().addClass('cke_focus');k.hasFocus=true;j.fire('focus');}},blur:function(){var j=this;if(j._.timer)clearTimeout(j._.timer);j._.timer=setTimeout(function(){delete j._.timer;j.forceBlur();},100);},forceBlur:function(){if(this.hasFocus){var j=this._.editor;j.container.getFirst().removeClass('cke_focus');this.hasFocus=false;j.fire('blur');}}};(function(){var j={};a.lang={languages:{en:1},load:function(k,l,m){if(l)k=this.detect(k);if(!this[k])a.scriptLoader.load(a.getUrl('lang/'+k+'.js'),function(){m(k,this[k]);},this);else m(k,this[k]);
},detect:function(k){var l=this.languages,m=(navigator.userLanguage||navigator.language).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),n=m[1],o=m[2];if(l[n+'-'+o])n=n+'-'+o;else if(!l[n])n=null;a.lang.detect=n?function(){return n;}:function(p){return p;};return n||k;}};})();a.scriptLoader=(function(){var j={},k={};return{load:function(l,m,n,o){var p=typeof l=='string';if(p)l=[l];if(!n)n=a;var q=l.length,r=[],s=[],t=function(y){if(m)if(p)m.call(n,y);else m.call(n,r,s);};if(q===0){t(true);return;}var u=function(y,z){(z?r:s).push(y);if(--q<=0)t(z);},v=function(y,z){j[y]=1;var A=k[y];delete k[y];for(var B=0;B<A.length;B++)A[B](y,z);},w=function(y){if(o!==true&&j[y]){u(y,true);return;}var z=k[y]||(k[y]=[]);z.push(u);if(z.length>1)return;var A=new g('script');A.setAttributes({type:'text/javascript',src:y});if(m)if(c)A.$.onreadystatechange=function(){if(A.$.readyState=='loaded'||A.$.readyState=='complete'){A.$.onreadystatechange=null;v(y,true);}};else{A.$.onload=function(){v(y,true);};A.$.onerror=function(){v(y,false);};}A.appendTo(a.document.getHead());};for(var x=0;x<q;x++)w(l[x]);},loadCode:function(l){var m=new g('script');m.setAttribute('type','text/javascript');m.appendText(l);m.appendTo(a.document.getHead());}};})();a.resourceManager=function(j,k){var l=this;l.basePath=j;l.fileName=k;l.registered={};l.loaded={};l.externals={};l._={waitingList:{}};};a.resourceManager.prototype={add:function(j,k){if(this.registered[j])throw '[CKEDITOR.resourceManager.add] The resource name "'+j+'" is already registered.';this.registered[j]=k||{};},get:function(j){return this.registered[j]||null;},getPath:function(j){var k=this.externals[j];return a.getUrl(k&&k.dir||this.basePath+j+'/');},getFilePath:function(j){var k=this.externals[j];return a.getUrl(this.getPath(j)+(k&&k.file||this.fileName+'.js'));},addExternal:function(j,k,l){j=j.split(',');for(var m=0;m<j.length;m++){var n=j[m];this.externals[n]={dir:k,file:l};}},load:function(j,k,l){if(!e.isArray(j))j=j?[j]:[];var m=this.loaded,n=this.registered,o=[],p={},q={};for(var r=0;r<j.length;r++){var s=j[r];if(!s)continue;if(!m[s]&&!n[s]){var t=this.getFilePath(s);o.push(t);if(!(t in p))p[t]=[];p[t].push(s);}else q[s]=this.get(s);}a.scriptLoader.load(o,function(u,v){if(v.length)throw '[CKEDITOR.resourceManager.load] Resource name "'+p[v[0]].join(',')+'" was not found at "'+v[0]+'".';for(var w=0;w<u.length;w++){var x=p[u[w]];for(var y=0;y<x.length;y++){var z=x[y];q[z]=this.get(z);m[z]=1;}}k.call(l,q);},this);}};a.plugins=new a.resourceManager('plugins/','plugin');
var j=a.plugins;j.load=e.override(j.load,function(k){return function(l,m,n){var o={},p=function(q){k.call(this,q,function(r){e.extend(o,r);var s=[];for(var t in r){var u=r[t],v=u&&u.requires;if(v)for(var w=0;w<v.length;w++)if(!o[v[w]])s.push(v[w]);}if(s.length)p.call(this,s);else{for(t in o){u=o[t];if(u.onLoad&&!u.onLoad._called){u.onLoad();u.onLoad._called=1;}}if(m)m.call(n||window,o);}},this);};p.call(this,l);};});j.setLang=function(k,l,m){var n=this.get(k);n.lang[l]=m;};(function(){var k={},l=function(m,n){var o=function(){k[m]=1;n();},p=new g('img');p.on('load',o);p.on('error',o);p.setAttribute('src',m);};a.imageCacher={load:function(m,n){var o=m.length,p=function(){if(--o===0)n();};for(var q=0;q<m.length;q++){var r=m[q];if(k[r])p();else l(r,p);}}};})();a.skins=(function(){var k={},l={},m=function(n,o,p){var q=k[n],r=function(z){for(var A=0;A<z.length;A++)z[A]=a.getUrl('skins/'+n+'/'+z[A]);};if(!l[n]){var s=q.preload;if(s&&s.length>0){r(s);a.imageCacher.load(s,function(){l[n]=1;m(n,o,p);});return;}l[n]=1;}o=q[o];var t=!o||!!o._isLoaded;if(t)p&&p();else{var u=o._pending||(o._pending=[]);u.push(p);if(u.length>1)return;var v=!o.css||!o.css.length,w=!o.js||!o.js.length,x=function(){if(v&&w){o._isLoaded=1;for(var z=0;z<u.length;z++)if(u[z])u[z]();}};if(!v){r(o.css);for(var y=0;y<o.css.length;y++)a.document.appendStyleSheet(o.css[y]);v=1;}if(!w){r(o.js);a.scriptLoader.load(o.js,function(){w=1;x();});}x();}};return{add:function(n,o){k[n]=o;o.skinPath=a.getUrl('skins/'+n+'/');},load:function(n,o,p){if(k[n])m(n,o,p);else a.scriptLoader.load(a.getUrl('skins/'+n+'/skin.js'),function(){m(n,o,p);});}};})();a.themes=new a.resourceManager('themes/','theme');a.ui=function(k){if(k.ui)return k.ui;this._={handlers:{},items:{}};return this;};var k=a.ui;k.prototype={add:function(l,m,n){this._.items[l]={type:m,args:Array.prototype.slice.call(arguments,2)};},create:function(l){var m=this._.items[l],n=m&&this._.handlers[m.type];return n&&n.create.apply(this,m.args);},addHandler:function(l,m){this._.handlers[l]=m;}};(function(){var l=0,m=function(){var x='editor'+ ++l;return a.instances&&a.instances[x]?m():x;},n={},o=function(x){var y=x.config.customConfig;if(!y)return false;var z=n[y]||(n[y]={});if(z.fn){z.fn.call(x,x.config);if(x.config.customConfig==y||!o(x))x.fireOnce('customConfigLoaded');}else a.scriptLoader.load(y,function(){if(a.editorConfig)z.fn=a.editorConfig;else z.fn=function(){};o(x);});return true;},p=function(x,y){x.on('customConfigLoaded',function(){if(y)e.extend(x.config,y,true);
q(x);});if(y&&y.customConfig!=undefined)x.config.customConfig=y.customConfig;if(!o(x))x.fireOnce('customConfigLoaded');},q=function(x){var y=x.config.skin;x.skinPath=a.getUrl('skins/'+y+'/');x.skinClass='cke_skin_'+y;x.fireOnce('configLoaded');r(x);},r=function(x){a.lang.load(x.config.defaultLanguage,x.config.autoLanguage,function(y,z){x.langCode=y;x.lang=e.prototypedCopy(z);s(x);});},s=function(x){j.load(x.config.plugins.split(','),function(y){var z=[],A=[],B=[];x.plugins=y;for(var C in y){var D=y[C],E=D.lang,F=j.getPath(C),G=null;D.path=F;if(E){G=e.indexOf(E,x.langCode)>=0?x.langCode:E[0];if(!D.lang[G])B.push(a.getUrl(F+'lang/'+G+'.js'));else{e.extend(x.lang,D.lang[G]);G=null;}}A.push(G);z.push(D);}a.scriptLoader.load(B,function(){var H=['beforeInit','init','afterInit'];for(var I=0;I<H.length;I++)for(var J=0;J<z.length;J++){var K=z[J];if(I===0&&A[J]&&K.lang)e.extend(x.lang,K.lang[A[J]]);if(K[H[I]])K[H[I]](x);}x.fire('pluginsLoaded');t(x);});});},t=function(x){a.skins.load(x.config.skin,'editor',function(){u(x);});},u=function(x){var y=x.config.theme;a.themes.load(y,function(){var z=x.theme=a.themes.get(y);z.path=a.themes.getPath(y);z.build(x);if(x.config.autoUpdateElement)v(x);});},v=function(x){var y=x.element;if(x.elementMode==1&&y.is('textarea')){var z=y.$.form&&new g(y.$.form);if(z){z.on('submit',function(){x.updateElement();});if(!z.$.submit.nodeName)z.$.submit=e.override(z.$.submit,function(A){return function(){x.updateElement();if(A.apply)A.apply(this,arguments);else A();};});}}};function w(){var x,y=this._.commands,z=this.mode;for(var A in y){x=y[A];x.setState(x.modes[z]?2:0);}};a.editor.prototype._init=function(){var z=this;var x=g.get(z._.element),y=z._.instanceConfig;delete z._.element;delete z._.instanceConfig;z._.commands={};z._.styles=[];z.element=x;z.name=x&&z.elementMode==1&&(x.getId()||x.getNameAtt())||m();z.config=e.prototypedCopy(i);z.ui=new k(z);z.focusManager=new a.focusManager(z);a.fire('instanceCreated',null,z);z.on('mode',w);p(z,y);};})();e.extend(a.editor.prototype,{addCommand:function(l,m){return this._.commands[l]=new a.command(this,m);},addCss:function(l){this._.styles.push(l);},destroy:function(l){var m=this;if(!l)m.updateElement();m.theme.destroy(m);a.remove(m);},execCommand:function(l,m){var n=this.getCommand(l),o={name:l,commandData:m,command:n};if(n&&n.state!=0)if(this.fire('beforeCommandExec',o)!==true){o.returnValue=n.exec(o.commandData);if(this.fire('afterCommandExec',o)!==true)return o.returnValue;}return false;},getCommand:function(l){return this._.commands[l];
},getData:function(){var n=this;n.fire('beforeGetData');var l=n._.data;if(typeof l!='string'){var m=n.element;if(m&&n.elementMode==1)l=m.is('textarea')?m.getValue():m.getHtml();else l='';}l={dataValue:l};n.fire('getData',l);return l.dataValue;},getSnapshot:function(){var l=this.fire('getSnapshot');if(typeof l!='string'){var m=this.element;if(m&&this.elementMode==1)l=m.is('textarea')?m.getValue():m.getHtml();}return l;},loadSnapshot:function(l){this.fire('loadSnapshot',l);},setData:function(l){var m={dataValue:l};this.fire('setData',m);this._.data=m.dataValue;this.fire('afterSetData',m);},insertHtml:function(l){this.fire('insertHtml',l);},insertElement:function(l){this.fire('insertElement',l);},checkDirty:function(){return this.mayBeDirty&&this._.previousValue!==this.getSnapshot();},resetDirty:function(){if(this.mayBeDirty)this._.previousValue=this.getSnapshot();},updateElement:function(){var m=this;var l=m.element;if(l&&m.elementMode==1)if(l.is('textarea'))l.setValue(m.getData());else l.setHtml(m.getData());}});a.on('loaded',function(){var l=a.editor._pending;if(l){delete a.editor._pending;for(var m=0;m<l.length;m++)l[m]._init();}});a.htmlParser=function(){this._={htmlPartsRegex:new RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s>]+)\\s*((?:(?:[^\"'>]+)|(?:\"[^\"]*\")|(?:'[^']*'))*)\\/?>))",'g')};};(function(){var l=/([\w:]+)\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+))?/g,m={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};a.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onComment:function(){},parse:function(n){var y=this;var o,p,q=0;while(o=y._.htmlPartsRegex.exec(n)){var r=o.index;if(r>q)y.onText(n.substring(q,r));q=y._.htmlPartsRegex.lastIndex;if(p=o[1]){y.onTagClose(p.toLowerCase());continue;}if(p=o[3]){var s={},t,u=o[4],v=!!(u&&u.charAt(u.length-1)=='/');if(u)while(t=l.exec(u)){var w=t[1].toLowerCase(),x=t[2]||t[3]||t[4]||'';if(!x&&m[w])s[w]=w;else s[w]=x;}y.onTagOpen(p.toLowerCase(),s,v);continue;}if(p=o[2])y.onComment(p);}if(n.length>q)y.onText(n.substring(q,n.length));}};})();a.htmlParser.comment=function(l){this.value=l;this._={isBlockLike:false};};a.htmlParser.comment.prototype={type:8,writeHtml:function(l,m){var n=this.value;if(m&&!(n=m.onComment(n)))return;l.comment(n);}};(function(){var l=/[\t\r\n ]{2,}|[\t\r\n]/g;a.htmlParser.text=function(m){this.value=m.replace(l,' ');this._={isBlockLike:false};};a.htmlParser.text.prototype={type:3,writeHtml:function(m,n){var o=this.value;
if(n&&!(o=n.onText(o)))return;m.text(o);}};})();a.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false};};(function(){var l={colgroup:1,dd:1,dt:1,li:1,option:1,p:1,td:1,tfoot:1,th:1,thead:1,tr:1};a.htmlParser.fragment.fromHtml=function(m,n){var o=new a.htmlParser(),p=[],q=new a.htmlParser.fragment(),r=[],s=q,t=function(u){if(r.length>0)for(var v=0;v<r.length;v++){var w=r[v],x=w.name,y=f[x],z=s.name&&f[s.name];if((!z||z[x])&&(!u||!y||y[u]||!f[u])){w=w.clone();s.add(w);s=w;r.splice(v,1);v--;}}};o.onTagOpen=function(u,v,w){if(n&&!s.type&&!f.$body[u])this.onTagOpen('p',{});var x=new a.htmlParser.element(u,v);if(x.isUnknown&&w)x.isEmpty=true;if(f.$removeEmpty[u]){r.push(x);return;}var y=s.name,z=y&&f[y]||(s._.isBlockLike?f.div:f.span);if(!x.isUnknown&&!s.isUnknown&&!z[u]){if(!y)return;var A=false;if(u!=y){if(!l[y])r.unshift(s);A=true;}s=s.parent;if(A){o.onTagOpen.apply(this,arguments);return;}}t(u);s.add(x);if(!x.isEmpty)s=x;};o.onTagClose=function(u){var v=s,w=0;while(v&&v.name!=u){if(!v._.isBlockLike){r.unshift(v);w++;}v=v.parent;}if(v)s=v.parent;else if(r.length>w)for(;w<r.length;w++)if(u==r[w].name){r.splice(w,1);w--;}};o.onText=function(u){if(!s._.hasInlineStarted){u=e.ltrim(u);if(u.length===0)return;}t();if(n&&!s.type)this.onTagOpen('p',{});s.add(new a.htmlParser.text(u));};o.onComment=function(u){s.add(new a.htmlParser.comment(u));};o.parse(m);return q;};a.htmlParser.fragment.prototype={add:function(m){var p=this;var n=p.children.length,o=n>0&&p.children[n-1]||null;if(o){if(m._.isBlockLike&&o.type==3){o.value=e.rtrim(o.value);if(o.value.length===0){p.children.pop();p.add(m);return;}}o.next=m;}m.previous=o;m.parent=p;p.children.push(m);p._.hasInlineStarted=m.type==3||m.type==1&&!m._.isBlockLike;},writeHtml:function(m,n){for(var o=0,p=this.children.length;o<p;o++)this.children[o].writeHtml(m,n);}};})();a.htmlParser.element=function(l,m){var q=this;q.name=l;q.attributes=m;q.children=[];var n=f,o=!!(n.$block[l]||n.$listItem[l]||n.$tableContent[l]),p=!!n.$empty[l];q.isEmpty=p;q.isUnknown=!n[l];q._={isBlockLike:o,hasInlineStarted:p||!o};};(function(){var l=function(m,n){m=m[0];n=n[0];return m<n?-1:m>n?1:0;};a.htmlParser.element.prototype={type:1,add:a.htmlParser.fragment.prototype.add,clone:function(){return new a.htmlParser.element(this.name,this.attributes);},writeHtml:function(m,n){var o=this.attributes;if(o._cke_replacedata){m.write(o._cke_replacedata);return;}var p=this,q=p.name,r,s;if(n){for(;;){if(!(q=n.onElementName(q)))return;
p.name=q;if(!(p=n.onElement(p)))return;if(p.name==q)break;q=p.name;}o=p.attributes;}m.openTag(q,o);if(m.sortAttributes){var t=[];for(r in o){s=o[r];if(n&&(!(r=n.onAttributeName(r))||(s=n.onAttribute(p,r,s))===(false)))continue;t.push([r,s]);}t.sort(l);for(var u=0,v=t.length;u<v;u++){var w=t[u];m.attribute(w[0],w[1]);}}else for(r in o)m.attribute(r,o[r]);m.openTagClose(q,p.isEmpty);if(!p.isEmpty){a.htmlParser.fragment.prototype.writeHtml.apply(p,arguments);m.closeTag(q);}}};})();(function(){a.htmlParser.filter=e.createClass({$:function(q){this._={elementNames:[],attributeNames:[],elements:{$length:0},attributes:{$length:0}};if(q)this.addRules(q,10);},proto:{addRules:function(q,r){var s=this;if(typeof r!='number')r=10;m(s._.elementNames,q.elementNames,r);m(s._.attributeNames,q.attributeNames,r);n(s._.elements,q.elements,r);n(s._.attributes,q.attributes,r);s._.text=o(s._.text,q.text,r)||s._.text;s._.comment=o(s._.comment,q.comment,r)||s._.comment;},onElementName:function(q){return l(q,this._.elementNames);},onAttributeName:function(q){return l(q,this._.attributeNames);},onText:function(q){var r=this._.text;return r?r.filter(q):q;},onComment:function(q){var r=this._.comment;return r?r.filter(q):q;},onElement:function(q){var v=this;var r=[v._.elements[q.name],v._.elements.$],s,t;for(var u=0;u<2;u++){s=r[u];if(s){t=s.filter(q,v);if(t===false)return null;if(t&&t!=q)return v.onElement(t);}}return q;},onAttribute:function(q,r,s){var t=this._.attributes[r];if(t){var u=t.filter(s,q,this);if(u===false)return false;if(typeof u!='undefined')return u;}return s;}}});function l(q,r){for(var s=0;q&&s<r.length;s++){var t=r[s];q=q.replace(t[0],t[1]);}return q;};function m(q,r,s){var t,u,v=q.length,w=r&&r.length;if(w){for(t=0;t<v&&q[t].pri<s;t++){}for(u=w-1;u>=0;u--){var x=r[u];x.pri=s;q.splice(t,0,x);}}};function n(q,r,s){if(r)for(var t in r){var u=q[t];q[t]=o(u,r[t],s);if(!u)q.$length++;}};function o(q,r,s){if(r){r.pri=s;if(q){if(!q.splice){if(q.pri>s)q=[r,q];else q=[q,r];q.filter=p;}else m(q,r,s);return q;}else{r.filter=r;return r;}}};function p(q){var r=typeof q=='object';for(var s=0;s<this.length;s++){var t=this[s],u=t.apply(window,arguments);if(typeof u!='undefined'){if(u===false)return false;if(r&&u!=q)return u;}}};})();a.htmlParser.basicWriter=e.createClass({$:function(){this._={output:[]};},proto:{openTag:function(l,m){this._.output.push('<',l);},openTagClose:function(l,m){if(m)this._.output.push(' />');else this._.output.push('>');},attribute:function(l,m){this._.output.push(' ',l,'="',m,'"');
},closeTag:function(l){this._.output.push('</',l,'>');},text:function(l){this._.output.push(l);},comment:function(l){this._.output.push('<!--',l,'-->');},write:function(l){this._.output.push(l);},reset:function(){this._.output=[];},getHtml:function(l){var m=this._.output.join('');if(l)this.reset();return m;}}});delete a.loadFullCore;a.instances={};a.document=new h(document);a.add=function(l){a.instances[l.name]=l;l.on('focus',function(){if(a.currentInstance!=l){a.currentInstance=l;a.fire('currentInstance');}});l.on('blur',function(){if(a.currentInstance==l){a.currentInstance=null;a.fire('currentInstance');}});};a.remove=function(l){delete a.instances[l.name];};a.TRISTATE_ON=1;a.TRISTATE_OFF=2;a.TRISTATE_DISABLED=0;(function(){var l={address:1,blockquote:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,li:1,dt:1,de:1},m={body:1,div:1,td:1,th:1,caption:1,form:1},n=function(o){var p=o.getChildren();for(var q=0,r=p.count();q<r;q++){var s=p.getItem(q);if(s.type==1&&f.$block[s.getName()])return true;}return false;};d.elementPath=function(o){var u=this;var p=null,q=null,r=[],s=o;while(s){if(s.type==1){if(!u.lastElement)u.lastElement=s;var t=s.getName();if(c&&s.$.scopeName!='HTML')t=s.$.scopeName.toLowerCase()+':'+t;if(!q){if(!p&&l[t])p=s;if(m[t])if(!p&&t=='div'&&!n(s))p=s;else q=s;}r.push(s);if(t=='body')break;}s=s.getParent();}u.block=p;u.blockLimit=q;u.elements=r;};})();d.elementPath.prototype={compare:function(l){var m=this.elements,n=l&&l.elements;if(!n||m.length!=n.length)return false;for(var o=0;o<m.length;o++)if(!m[o].equals(n[o]))return false;return true;}};d.text=function(l,m){if(typeof l=='string')l=(m?m.$:document).createTextNode(l);this.$=l;};d.text.prototype=new d.node();e.extend(d.text.prototype,{type:3,getLength:function(){return this.$.nodeValue.length;},getText:function(){return this.$.nodeValue;},split:function(l){var n=this;if(c&&l==n.getLength()){var m=n.getDocument().createText('');m.insertAfter(n);return m;}return new d.text(n.$.splitText(l));},substring:function(l,m){if(typeof m!='number')return this.$.nodeValue.substr(l);else return this.$.nodeValue.substring(l,m);}});d.documentFragment=function(l){l=l||a.document;this.$=l.$.createDocumentFragment();};e.extend(d.documentFragment.prototype,g.prototype,{type:11,insertAfterNode:function(l){l=l.$;l.parentNode.insertBefore(this.$,l.nextSibling);}},true,{append:1,getFirst:1,getLast:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});
(function(){var l=function(o,p,q){var r={from:p,to:q,type:o};this.fire(o,r);this._.actionEvents.push(r);};d.domWalker=function(o){if(arguments.length<1)return;this._={currentNode:o,actionEvents:[],stopFlag:false};a.event.implementOn(this);};d.domWalker.prototype={next:(function(){var o=function(){var s=this;var p=s._.currentNode,q;if(!p)return null;if(p.getChildCount()>0){q=p.getChild(0);l.call(s,'down',p,q);return q;}else if(p.getNext()){q=p.getNext();l.call(s,'sibling',p,q);return q;}else{var r=p.getParent();l.call(s,'up',p,r);while(r)if(r.getNext()){q=r.getNext();l.call(s,'sibling',r,q);return q;}else{q=r.getParent();l.call(s,'up',r,q);r=q;}}return null;};return function(){var p=this;p._.actionEvents=[];return{node:p._.currentNode=o.apply(p),events:p._.actionEvents};};})(),back:(function(){var o=function(){var s=this;var p=s._.currentNode,q;if(!p)return null;if(p.getPrevious()){var r=p.getPrevious();l.call(s,'sibling',p,r);while(r.getChildCount()>0){q=r.getChild(r.getChildCount()-1);l.call(s,'down',r,q);r=q;}return r;}else{q=p.getParent();l.call(s,'up',p,q);return q;}return null;};return function(){var p=this;p._.actionEvents=[];return{node:p._.currentNode=o.apply(p),events:p._.actionEvents};};})(),forward:function(o){var p;this._.stopFlag=false;o=o||(function(q){});this.on('sibling',o);this.on('up',o);this.on('down',o);while((!p||p.node)&&(!this._.stopFlag)){p=this.next();this.fire('step',p);}this.removeListener('sibling',o);this.removeListener('up',o);this.removeListener('down',o);return p;},reverse:function(o){var p;this._.stopFlag=false;o=o||(function(q){});this.on('sibling',o);this.on('up',o);this.on('down',o);while((!p||p.node)&&(!this._.stopFlag)){p=this.back();this.fire('step',p);}this.removeListener('sibling',o);this.removeListener('up',o);this.removeListener('down',o);return p;},stop:function(){this._.stopFlag=true;return this;},stopped:function(){return this._.stopFlag;},setNode:function(o){this._.currentNode=o;return this;}};var m={block:1,'list-item':1,table:1,'table-row-group':1,'table-header-group':1,'table-footer-group':1,'table-row':1,'table-column-group':1,'table-column':1,'table-cell':1,'table-caption':1},n={hr:1};g.prototype.isBlockBoundary=function(o){var p=e.extend({},n,o||{});return m[this.getComputedStyle('display')]||p[this.getName()];};d.domWalker.blockBoundary=function(o){return function(p){var q=p.data.to,r=p.data.from;if(q&&q.type==1)if(q.isBlockBoundary(o)){p.stop();this.stop();return;}if((p.data.type=='up'||p.data.type=='sibling')&&(r&&r.type==1))if(r.isBlockBoundary(o)){p.stop();
this.stop();}};};d.domWalker.listItemBoundary=function(){return d.domWalker.blockBoundary({br:1});};})();d.range=function(l){var m=this;m.startContainer=null;m.startOffset=null;m.endContainer=null;m.endOffset=null;m.collapsed=true;m.document=l;};(function(){var l=function(p){p.collapsed=p.startContainer&&p.endContainer&&p.startContainer.equals(p.endContainer)&&p.startOffset==p.endOffset;},m=function(p,q,r){var s=p.startContainer,t=p.endContainer,u=p.startOffset,v=p.endOffset,w,x;if(t.type==3)t=t.split(v);else if(t.getChildCount()>0)if(v>=t.getChildCount()){t=t.append(p.document.createText(''));x=true;}else t=t.getChild(v);if(s.type==3){s.split(u);if(s.equals(t))t=s.getNext();}else if(!u){s=s.getFirst().insertBeforeMe(p.document.createText(''));w=true;}else if(u>=s.getChildCount()){s=s.append(p.document.createText(''));w=true;}else s=s.getChild(u).getPrevious();var y=s.getParents(),z=t.getParents(),A,B,C;for(A=0;A<y.length;A++){B=y[A];C=z[A];if(!B.equals(C))break;}var D=r,E,F,G,H;for(var I=A;I<y.length;I++){E=y[I];if(D&&!E.equals(s))F=D.append(E.clone());G=E.getNext();while(G){if(G.equals(z[I])||G.equals(t))break;H=G.getNext();if(q==2)D.append(G.clone(true));else{G.remove();if(q==1)D.append(G);}G=H;}if(D)D=F;}D=r;for(var J=A;J<z.length;J++){E=z[J];if(q>0&&!E.equals(t))F=D.append(E.clone());if(!y[J]||E.$.parentNode!=y[J].$.parentNode){G=E.getPrevious();while(G){if(G.equals(y[J])||G.equals(s))break;H=G.getPrevious();if(q==2)D.$.insertBefore(G.$.cloneNode(true),D.$.firstChild);else{G.remove();if(q==1)D.$.insertBefore(G.$,D.$.firstChild);}G=H;}}if(D)D=F;}if(q==2){var K=p.startContainer;if(K.type==3){K.$.data+=K.$.nextSibling.data;K.$.parentNode.removeChild(K.$.nextSibling);}var L=p.endContainer;if(L.type==3&&L.$.nextSibling){L.$.data+=L.$.nextSibling.data;L.$.parentNode.removeChild(L.$.nextSibling);}}else{if(B&&C&&(s.$.parentNode!=B.$.parentNode||t.$.parentNode!=C.$.parentNode)){var M=C.getIndex();if(w&&C.$.parentNode==s.$.parentNode)M--;p.setStart(C.getParent(),M);}p.collapse(true);}if(w)s.remove();if(x&&t.$.parentNode)t.remove();},n={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1},o=function(p){return function(q){var u=this;if(u.stopped()||!q.data.node)return;var r=q.data.node,s=false;if(r.type==1)if(!n[r.getName()])if(!p&&r.getName()=='br'&&!s)s=true;else{u.checkFailed=true;u.stop();}else if(r.type==3){var t=e.trim(r.getText());if(t.length>0){u.checkFailed=true;
u.stop();}}};};d.range.prototype={clone:function(){var q=this;var p=new d.range(q.document);p.startContainer=q.startContainer;p.startOffset=q.startOffset;p.endContainer=q.endContainer;p.endOffset=q.endOffset;p.collapsed=q.collapsed;return p;},collapse:function(p){var q=this;if(p){q.endContainer=q.startContainer;q.endOffset=q.startOffset;}else{q.startContainer=q.endContainer;q.startOffset=q.endOffset;}q.collapsed=true;},cloneContents:function(){var p=new d.documentFragment(this.document);if(!this.collapsed)m(this,2,p);return p;},deleteContents:function(){if(this.collapsed)return;m(this,0);},extractContents:function(){var p=new d.documentFragment(this.document);if(!this.collapsed)m(this,1,p);return p;},createBookmark:function(p){var u=this;var q,r,s,t;q=u.document.createElement('span');q.setAttribute('_fck_bookmark',1);q.setStyle('display','none');q.setHtml('&nbsp;');if(p){s='cke_bm_'+e.getNextNumber();q.setAttribute('id',s+'S');}if(!u.collapsed){r=q.clone();r.setHtml('&nbsp;');if(p)r.setAttribute('id',s+'E');t=u.clone();t.collapse();t.insertNode(r);}t=u.clone();t.collapse(true);t.insertNode(q);if(r){u.setStartAfter(q);u.setEndBefore(r);}else u.moveToPosition(q,4);return{startNode:p?s+'S':q,endNode:p?s+'E':r,serializable:p};},createBookmark2:function(p){var w=this;var q=w.startContainer,r=w.endContainer,s=w.startOffset,t=w.endOffset,u,v;if(!q||!r)return{start:0,end:0};if(p){if(q.type==1){var u=q.getChild(s);if(u&&u.type==3&&s>0&&u.getPrevious().type==3){q=u;s=0;}}while(q.type==3&&(v=q.getPrevious())&&(v.type==3)){q=v;s+=v.getLength();}if(!w.isCollapsed){if(r.type==1){u=r.getChild(t);if(u&&u.type==3&&t>0&&u.getPrevious().type==3){r=u;t=0;}}while(r.type==3&&(v=r.getPrevious())&&(v.type==3)){r=v;t+=v.getLength();}}}return{start:q.getAddress(p),end:w.isCollapsed?null:r.getAddress(p),startOffset:s,endOffset:t,normalized:p,is2:true};},moveToBookmark:function(p){var x=this;if(p.is2){var q=x.document.getByAddress(p.start,p.normalized),r=p.startOffset,s=p.end&&x.document.getByAddress(p.end,p.normalized),t=p.endOffset;x.setStart(q,r);if(s)x.setEnd(s,t);else x.collapse(true);}else{var u=p.serializable,v=u?x.document.getById(p.startNode):p.startNode,w=u?x.document.getById(p.endNode):p.endNode;x.setStartBefore(v);v.remove();if(w){x.setEndBefore(w);w.remove();}else x.collapse(true);}},getBoundaryNodes:function(){var u=this;var p=u.startContainer,q=u.endContainer,r=u.startOffset,s=u.endOffset,t;if(p.type==1){t=p.getChildCount();if(t>r)p=p.getChild(r);else if(t<1)p=p.getPreviousSourceNode();
else{p=p.$;while(p.lastChild)p=p.lastChild;p=new d.node(p);p=p.getNextSourceNode()||p;}}if(q.type==1){t=q.getChildCount();if(t>s)q=q.getChild(s).getPreviousSourceNode();else if(t<1)q=q.getPreviousSourceNode();else{q=q.$;while(q.lastChild)q=q.lastChild;q=new d.node(q);}}return{startNode:p,endNode:q};},getCommonAncestor:function(p){var s=this;var q=s.startContainer,r=s.endContainer;if(q.equals(r)){if(p&&q.type==1&&s.startOffset==s.endOffset-1)return q.getChild(s.startOffset);return q;}return q.getCommonAncestor(r);},optimize:function(){var r=this;var p=r.startContainer,q=r.startOffset;if(p.type!=1)if(!q)r.setStartBefore(p);else if(q>=p.getLength())r.setStartAfter(p);p=r.endContainer;q=r.endOffset;if(p.type!=1)if(!q)r.setEndBefore(p);else if(q>=p.getLength())r.setEndAfter(p);},trim:function(p,q){var w=this;var r=w.startContainer,s=w.startOffset,t=w.endContainer,u=w.endOffset;if(!p&&r&&r.type==3){if(!s){s=r.getIndex();r=r.getParent();}else if(s>=r.getLength()){s=r.getIndex()+1;r=r.getParent();}else{var v=r.split(s);s=r.getIndex()+1;r=r.getParent();if(w.collapsed)w.setEnd(r,s);else if(w.startContainer.equals(w.endContainer))w.setEnd(v,w.endOffset-w.startOffset);}w.setStart(r,s);}if(!q&&t&&!w.collapsed&&t.type==3){if(!u){u=t.getIndex();t=t.getParent();}else if(u>=t.getLength()){u=t.getIndex()+1;t=t.getParent();}else{t.split(u);u=t.getIndex()+1;t=t.getParent();}w.setEnd(t,u);}},enlarge:function(p){var M=this;switch(p){case 1:if(M.collapsed)return;var q=M.getCommonAncestor(),r=M.document.getBody(),s,t,u,v,w,x=false,y,z,A=M.startContainer,B=M.startOffset;if(A.type==3){if(B){A=!e.trim(A.substring(0,B)).length&&A;x=!!A;}if(A)if(!(v=A.getPrevious()))u=A.getParent();}else{if(B)v=A.getChild(B-1)||A.getLast();if(!v)u=A;}while(u||v){if(u&&!v){if(!w&&u.equals(q))w=true;if(!r.contains(u))break;if(!x||u.getComputedStyle('display')!='inline'){x=false;if(w)s=u;else M.setStartBefore(u);}v=u.getPrevious();}while(v){y=false;if(v.type==3){z=v.getText();if(/[^\s\ufeff]/.test(z))v=null;y=/[\s\ufeff]$/.test(z);}else if(v.$.offsetWidth>0)if(x&&f.$removeEmpty[v.getName()]){z=v.getText();if(!/[^\s\ufeff]/.test(z))v=null;else{var C=v.$.all||v.$.getElementsByTagName('*');for(var D=0,E;E=C[D++];)if(!f.$removeEmpty[E.nodeName.toLowerCase()]){v=null;break;}}if(v)y=!!z.length;}else v=null;if(y)if(x)if(w)s=u;else if(u)M.setStartBefore(u);else x=true;if(v){var F=v.getPrevious();if(!u&&!F){u=v;v=null;break;}v=F;}else u=null;}if(u)u=u.getParent();}A=M.endContainer;B=M.endOffset;u=v=null;w=x=false;
if(A.type==3){A=!e.trim(A.substring(B)).length&&A;x=!(A&&A.getLength());if(A)if(!(v=A.getNext()))u=A.getParent();}else{v=A.getChild(B);if(!v)u=A;}while(u||v){if(u&&!v){if(!w&&u.equals(q))w=true;if(!r.contains(u))break;if(!x||u.getComputedStyle('display')!='inline'){x=false;if(w)t=u;else if(u)M.setEndAfter(u);}v=u.getNext();}while(v){y=false;if(v.type==3){z=v.getText();if(/[^\s\ufeff]/.test(z))v=null;y=/^[\s\ufeff]/.test(z);}else if(v.$.offsetWidth>0)if(x&&f.$removeEmpty[v.getName()]){z=v.getText();if(!/[^\s\ufeff]/.test(z))v=null;else{C=v.$.all||v.$.getElementsByTagName('*');for(D=0;E=C[D++];)if(!f.$removeEmpty[E.nodeName.toLowerCase()]){v=null;break;}}if(v)y=!!z.length;}else v=null;if(y)if(x)if(w)t=u;else M.setEndAfter(u);if(v){F=v.getNext();if(!u&&!F){u=v;v=null;break;}v=F;}else u=null;}if(u)u=u.getParent();}if(s&&t){q=s.contains(t)?t:s;M.setStartBefore(q);M.setEndAfter(q);}break;case 2:case 3:var G=M.getTouchedStartNode(),H=M.getTouchedEndNode();if(G.type==1&&G.isBlockBoundary())M.setStartAt(G,f.$empty[G.getName()]?4:1);else{var I=p==2?d.domWalker.blockBoundary():d.domWalker.listItemBoundary(),J=new d.domWalker(G),K=J.reverse(I),L=K.events.shift();M.setStartBefore(L.from);}if(H.type==1&&H.isBlockBoundary())M.setEndAt(H,f.$empty[H.getName()]?3:2);else{J.setNode(H);K=J.forward(I);L=K.events.shift();M.setEndAfter(L.from);}}},insertNode:function(p){var t=this;t.trim(false,true);var q=t.startContainer,r=t.startOffset,s=q.getChild(r);if(s)p.insertBefore(s);else q.append(p);if(p.getParent().equals(t.endContainer))t.endOffset++;t.setStartBefore(p);},moveToPosition:function(p,q){this.setStartAt(p,q);this.collapse(true);},selectNodeContents:function(p){this.setStart(p,0);this.setEnd(p,p.type==3?p.getLength():p.getChildCount());},setStart:function(p,q){var r=this;r.startContainer=p;r.startOffset=q;if(!r.endContainer){r.endContainer=p;r.endOffset=q;}l(r);},setEnd:function(p,q){var r=this;r.endContainer=p;r.endOffset=q;if(!r.startContainer){r.startContainer=p;r.startOffset=q;}l(r);},setStartAfter:function(p){this.setStart(p.getParent(),p.getIndex()+1);},setStartBefore:function(p){this.setStart(p.getParent(),p.getIndex());},setEndAfter:function(p){this.setEnd(p.getParent(),p.getIndex()+1);},setEndBefore:function(p){this.setEnd(p.getParent(),p.getIndex());},setStartAt:function(p,q){var r=this;switch(q){case 1:r.setStart(p,0);break;case 2:if(p.type==3)r.setStart(p,p.getLength());else r.setStart(p,p.getChildCount());break;case 3:r.setStartBefore(p);break;case 4:r.setStartAfter(p);
}l(r);},setEndAt:function(p,q){var r=this;switch(q){case 1:r.setEnd(p,0);break;case 2:if(p.type==3)r.setEnd(p,p.getLength());else r.setEnd(p,p.getChildCount());break;case 3:r.setEndBefore(p);break;case 4:r.setEndAfter(p);}l(r);},fixBlock:function(p,q){var t=this;var r=t.createBookmark(),s=t.document.createElement(q);t.collapse(p);t.enlarge(2);t.extractContents().appendTo(s);s.trim();if(!c)s.appendBogus();t.insertNode(s);t.moveToBookmark(r);return s;},splitBlock:function(p){var A=this;var q=new d.elementPath(A.startContainer),r=new d.elementPath(A.endContainer),s=q.blockLimit,t=r.blockLimit,u=q.block,v=r.block,w=null;if(!s.equals(t))return null;if(p!='br'){if(!u){u=A.fixBlock(true,p);v=new d.elementPath(A.endContainer).block;}if(!v)v=A.fixBlock(false,p);}var x=u&&A.checkStartOfBlock(),y=v&&A.checkEndOfBlock();A.deleteContents();if(u&&u.equals(v))if(y){w=new d.elementPath(A.startContainer);A.moveToPosition(v,4);v=null;}else if(x){w=new d.elementPath(A.startContainer);A.moveToPosition(u,3);u=null;}else{A.setEndAt(u,2);var z=A.extractContents();v=u.clone(false);z.appendTo(v);v.insertAfter(u);A.moveToPosition(u,4);if(!c&&!u.is('ul','ol'))u.appendBogus();}return{previousBlock:u,nextBlock:v,wasStartOfBlock:x,wasEndOfBlock:y,elementPath:w};},checkStartOfBlock:function(){var p=this.startContainer,q=this.startOffset;if(p.type==3){var r=e.ltrim(p.getText().substr(0,q));if(r.length>0)return false;}var s=this.getBoundaryNodes().startNode,t=new d.domWalker(s);t.on('step',o(true),null,null,20);t.reverse(d.domWalker.blockBoundary());return!t.checkFailed;},checkEndOfBlock:function(){var p=this.endContainer,q=this.endOffset;if(p.type==3){var r=e.rtrim(p.getText().substr(q));if(r.length>0)return false;}var s=this.getBoundaryNodes().endNode,t=new d.domWalker(s);t.on('step',o(false),null,null,20);t.forward(d.domWalker.blockBoundary());return!t.checkFailed;},moveToElementEditStart:function(p){var q;while(p&&p.type==1){if(p.isEditable())q=p;else if(q)break;p=p.getFirst();}if(q)this.moveToPosition(q,1);},getTouchedStartNode:function(){var p=this.startContainer;if(this.collapsed||p.type!=1)return p;return p.getChild(this.startOffset)||p;},getTouchedEndNode:function(){var p=this.endContainer;if(this.collapsed||p.type!=1)return p;return p.getChild[this.endOffset-1]||p;}};})();a.POSITION_AFTER_START=1;a.POSITION_BEFORE_END=2;a.POSITION_BEFORE_START=3;a.POSITION_AFTER_END=4;a.ENLARGE_ELEMENT=1;a.ENLARGE_BLOCK_CONTENTS=2;a.ENLARGE_LIST_ITEM_CONTENTS=3;j.load(i.corePlugins.split(','),function(){a.status='loaded';
a.fire('loaded');var l=a._.pending;if(l){delete a._.pending;for(var m=0;m<l.length;m++)a.add(l[m]);}});j.add('basicstyles',{requires:['styles','button'],init:function(l){var m=function(p,q,r,s){var t=new a.style(s);l.attachStyleStateChange(t,function(u){l.getCommand(r).setState(u);});l.addCommand(r,new a.styleCommand(t));l.ui.addButton(p,{label:q,command:r});},n=l.config,o=l.lang;m('Bold',o.bold,'bold',n.coreStyles_bold);m('Italic',o.italic,'italic',n.coreStyles_italic);m('Underline',o.underline,'underline',n.coreStyles_underline);m('Strike',o.strike,'strike',n.coreStyles_strike);m('Subscript',o.subscript,'subscript',n.coreStyles_subscript);m('Superscript',o.superscript,'superscript',n.coreStyles_superscript);}});i.coreStyles_bold={element:'strong',overrides:'b'};i.coreStyles_italic={element:'em',overrides:'i'};i.coreStyles_underline={element:'u'};i.coreStyles_strike={element:'strike'};i.coreStyles_subscript={element:'sub'};i.coreStyles_superscript={element:'sup'};(function(){function l(p,q){var r=q.block||q.blockLimit;if(!r||r.getName()=='body')return 2;if(r.getAscendant('blockquote',true))return 1;return 2;};function m(p){var q=p.editor,r=q.getCommand('blockquote');r.state=l(q,p.data.path);r.fire('state');};function n(p){for(var q=0,r=p.getChildCount(),s;q<r&&(s=p.getChild(q));q++)if(s.type==1&&s.isBlockBoundary())return false;return true;};var o={exec:function(p){var q=p.getCommand('blockquote').state,r=p.getSelection(),s=r&&r.getRanges()[0];if(!s)return;var t=r.createBookmarks();if(c){var u=t[0].startNode,v=t[0].endNode,w;if(u&&u.getParent().getName()=='blockquote'){w=u;while(w=w.getNext())if(w.type==1&&w.isBlockBoundary()){u.move(w,true);break;}}if(v&&v.getParent().getName()=='blockquote'){w=v;while(w=w.getPrevious())if(w.type==1&&w.isBlockBoundary()){v.move(w);break;}}}var x=s.createIterator(),y;if(q==2){var z=[];while(y=x.getNextParagraph())z.push(y);if(z.length<1){var A=p.document.createElement(p.config.enterMode==1?'p':'div'),B=t.shift();s.insertNode(A);A.append(new d.text('?',p.document));s.moveToBookmark(B);s.selectNodeContents(A);s.collapse(true);B=s.createBookmark();z.push(A);t.unshift(B);}var C=z[0].getParent(),D=[];for(var E=0;E<z.length;E++){y=z[E];C=C.getCommonAncestor(y.getParent());}var F={table:1,tbody:1,tr:1,ol:1,ul:1};while(F[C.getName()])C=C.getParent();var G=null;while(z.length>0){y=z.shift();while(!y.getParent().equals(C))y=y.getParent();if(!y.equals(G))D.push(y);G=y;}while(D.length>0){y=D.shift();if(y.getName()=='blockquote'){var H=new d.documentFragment(p.document);
while(y.getFirst()){H.append(y.getFirst().remove());z.push(H.getLast());}H.replace(y);}else z.push(y);}var I=p.document.createElement('blockquote');I.insertBefore(z[0]);while(z.length>0){y=z.shift();I.append(y);}}else if(q==1){var J=[],K={};while(y=x.getNextParagraph()){var L=null,M=null;while(y.getParent()){if(y.getParent().getName()=='blockquote'){L=y.getParent();M=y;break;}y=y.getParent();}if(L&&M&&!M.getCustomData('blockquote_moveout')){J.push(M);g.setMarker(K,M,'blockquote_moveout',true);}}g.clearAllMarkers(K);var N=[],O=[],K={};while(J.length>0){var P=J.shift(),I=P.getParent();if(!P.getPrevious())P.remove().insertBefore(I);else if(!P.getNext())P.remove().insertAfter(I);else{P.breakParent(P.getParent());O.push(P.getNext());}if(!I.getCustomData('blockquote_processed')){O.push(I);g.setMarker(K,I,'blockquote_processed',true);}N.push(P);}g.clearAllMarkers(K);for(var E=O.length-1;E>=0;E--){var I=O[E];if(n(I))I.remove();}if(p.config.enterMode==2){var Q=true;while(N.length){var P=N.shift();if(P.getName()=='div'){var H=new d.documentFragment(p.document),R=Q&&P.getPrevious()&&!(P.getPrevious().type==1&&P.getPrevious().isBlockBoundary());if(R)H.append(p.document.createElement('br'));var S=P.getNext()&&!(P.getNext().type==1&&P.getNext().isBlockBoundary());while(P.getFirst())P.getFirst().remove().appendTo(H);if(needEndBr)H.append(p.document.createElement('br'));H.replace(P);Q=false;}}}}r.selectBookmarks(t);p.focus();}};j.add('blockquote',{init:function(p){p.addCommand('blockquote',o);p.ui.addButton('Blockquote',{label:p.lang.blockquote,command:'blockquote'});p.on('selectionChange',m);},requires:['domiterator']});})();j.add('button',{beforeInit:function(l){l.ui.addHandler(1,k.button.handler);}});a.UI_BUTTON=1;k.button=function(l){this.label=l.label;this.title=l.title||l.label;this.command=l.command;this.className=l.className||l.command&&'cke_button_'+l.command||'';this.icon=l.icon;this.iconOffset=l.iconOffset;this.click=l.click||(function(m){m.execCommand(l.command);});this._={};};k.button.handler={create:function(l){return new k.button(l);}};k.button.prototype={render:function(l,m){var n=b,o=this._.id='cke_'+e.getNextNumber(),p={id:o,button:this,editor:l,focus:function(){var u=a.document.getById(o);u.focus();},execute:function(){this.button.click(l);}},q=k.button._.instances.push(p)-1,r='',s=this.command;if(s){s=l.getCommand(s);if(s){s.on('state',function(){this.setState(s.state);},this);r+=' cke_'+(s.state==1?'on':s.state==0?'disabled':'off');}}if(this.className)r+=' '+this.className;
m.push('<span class="cke_button">','<a id="',o,'" class="',r,'" href="javascript:void(\'',(this.title||'').replace("'",''),'\')" title="',this.title,'" tabindex="-1" hidefocus="true"');if(n.opera||n.gecko&&n.mac)m.push(' onkeypress="return false;"');if(n.gecko)m.push(' onblur="this.style.cssText = this.style.cssText;"');m.push(' onkeydown="return CKEDITOR.ui.button._.keydown(',q,', event);" onfocus="return CKEDITOR.ui.button._.focus(',q,', event);" onclick="return CKEDITOR.ui.button._.click(',q,', event);"><span class="cke_icon"');if(this.icon){var t=(this.iconOffset||0)*(-16);m.push(' style="background-image:url(',a.getUrl(this.icon),');background-position:0 '+t+'px;"');}m.push('></span><span class="cke_label">',this.label,'</span></a>','</span>');return p;},setState:function(l){if(this._.state==l)return;a.document.getById(this._.id).setState(l);this._.state=l;}};k.button._={instances:[],click:function(l){k.button._.instances[l].execute();return false;},keydown:function(l,m){var n=k.button._.instances[l];if(n.onkey){m=new d.event(m);return n.onkey(n,m.getKeystroke())!==false;}},focus:function(l,m){var n=k.button._.instances[l];if(n.onfocus)return n.onfocus(n,new d.event(m))!==false;}};k.prototype.addButton=function(l,m){this.add(l,1,m);};(function(){var l=function(q,r){var s=q.document,t=s.getBody(),u=false,v=function(){u=true;};t.on(r,v);s.$.execCommand(r);t.removeListener(r,v);return u;},m=c?function(q,r){return l(q,r);}:function(q,r){try{return q.document.$.execCommand(r);}catch(s){return false;}},n=function(q){this.type=q;};n.prototype={exec:function(q,r){var s=m(q,this.type);if(!s)alert(q.lang.clipboard[this.type+'Error']);return s;}};var o=c?{exec:function(q,r){q.focus();if(!q.fire('beforePaste')&&!l(q,'paste'))q.openDialog('paste');}}:{exec:function(q){try{if(!q.fire('beforePaste')&&!q.document.$.execCommand('Paste',false,null))throw 0;}catch(r){q.openDialog('paste');}}},p=function(q){switch(q.data.keyCode){case 1000+86:case 2000+45:if(this.fire('beforePaste'))q.cancel();return;case 1000+88:case 2000+46:}};j.add('clipboard',{init:function(q){function r(s,t,u,v){var w=q.lang[t];q.addCommand(t,u);q.ui.addButton(s,{label:w,command:t});if(q.addMenuItems)q.addMenuItem(t,{label:w,command:t,group:'clipboard',order:v});};r('Cut','cut',new n('cut'),1);r('Copy','copy',new n('copy'),4);r('Paste','paste',o,8);a.dialog.add('paste',a.getUrl(this.path+'dialogs/paste.js'));q.on('key',p,q);if(q.contextMenu)q.contextMenu.addListener(function(){return{cut:0,copy:0,paste:0};
});}});})();j.add('colorbutton',{requires:['panelbutton','floatpanel','styles'],init:function(l){var m=l.config,n=l.lang.colorButton,o,p;q('TextColor','fore',n.textColorTitle);q('BGColor','back',n.bgColorTitle);function q(s,t,u){l.ui.add(s,4,{label:n.label,title:u,className:'cke_button_'+s.toLowerCase(),panel:{css:[a.getUrl(l.skinPath+'editor.css')]},onBlock:function(v,w){var x=v.addBlock(w);x.autoSize=true;x.element.addClass('cke_colorblock');x.element.setHtml(r(v,t));var y=x.keys;y[39]='next';y[9]='next';y[37]='prev';y[2000+9]='prev';y[32]='click';},onOpen:function(){if(c){l.focus();o=l.getSelection().getRanges();}},onClose:function(){o=null;}});};function r(s,t){var u=[],v=i.colorButton_colors.split(',');if(!p)p=e.addFunction(function(y,z){if(y=='?')return;l.focus();if(o){l.getSelection().selectRanges(o);o=false;}s.hide();var A=new a.style(m['colorButton_'+z+'Style'],{color:y||'#000'});if(y)A.apply(l.document);else A.remove(l.document);});u.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',n.auto,'" onclick="CKEDITOR.tools.callFunction(',p,",null,'",t,"');\" href=\"javascript:void('",n.auto,'\')"><table cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" style="background-color:#000"></span></td><td colspan=7 align=center>',n.auto,'</td></tr></table></a><table cellspacing=0 cellpadding=0 width="100%">');for(var w=0;w<v.length;w++){if(w%8==0)u.push('</tr><tr>');var x=v[w];u.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',x,'" onclick="CKEDITOR.tools.callFunction(',p,",'#",x,"','",t,"');\" href=\"javascript:void('",x,'\')"><span class="cke_colorbox" style="background-color:#',x,'"></span></a></td>');}if(m.colorButton_enableMore)u.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',n.more,'" onclick="CKEDITOR.tools.callFunction(',p,",'?','",t,"');\" href=\"javascript:void('",n.more,"')\">",n.more,'</a></td>');u.push('</tr></table>');return u.join('');};}});i.colorButton_enableMore=false;i.colorButton_colors='000,930,330,030,036,000080,339,333,800000,F60,808000,808080,008080,00F,669,808080,F00,F90,9C0,396,3CC,36F,800080,999,F0F,FC0,FF0,0F0,0FF,0CF,936,C0C0C0,F9C,FC9,FF9,CFC,CFF,9CF,C9F,FFF';i.colorButton_foreStyle={element:'span',styles:{color:'#(color)'},overrides:[{element:'font',attributes:{color:null}}]};i.colorButton_backStyle={element:'span',styles:{'background-color':'#(color)'}};j.add('contextmenu',{requires:['menu'],beforeInit:function(l){l.contextMenu=new j.contextMenu(l);
l.addCommand('contextMenu',{exec:function(){l.contextMenu.show();}});}});j.contextMenu=e.createClass({$:function(l){this.id='cke_'+e.getNextNumber();this.editor=l;this._.listeners=[];this._.functionId=e.addFunction(function(m){this._.panel.hide();l.focus();l.execCommand(m);},this);},_:{onMenu:function(l,m,n){var o=this._.menu,p=this.editor;if(o){o.hide();o.removeAll();}else{o=this._.menu=new a.menu(p);o.onClick=e.bind(function(y){o.hide();p.focus();if(y.onClick)y.onClick();else if(y.command){if(c)this.restoreSelection();p.execCommand(y.command);}},this);o.onEscape=function(){p.focus();};}var q=this._.listeners,r=[],s=this.editor.getSelection(),t=s&&s.getStartElement();for(var u=0;u<q.length;u++){var v=q[u](t,s);if(v)for(var w in v){var x=this.editor.getMenuItem(w);if(x){x.state=v[w];o.add(x);}}}if(c)this.saveSelection();o.show(l,1,m,n);}},proto:{addTarget:function(l){l.on('contextmenu',function(m){var n=m.data;n.preventDefault();var o=n.getTarget().getDocument().getDocumentElement();offsetX=n.$.clientX,offsetY=n.$.clientY;e.setTimeout(function(){this._.onMenu(o,offsetX,offsetY);},0,this);},this);},addListener:function(l){this._.listeners.push(l);},show:function(){this.editor.focus();this._.onMenu(a.document.getDocumentElement(),0,0);},saveSelection:function(){var m=this;if(m.editor.mode=='wysiwyg'){m.editor.focus();var l=new d.selection(m.editor.document);m._.selectedRanges=l.getRanges();}else delete m._.selectedRanges;},restoreSelection:function(){var l=this;if(l.editor.mode=='wysiwyg'&&l._.selectedRanges){l.editor.focus();new d.selection(l.editor.document).selectRanges(l._.selectedRanges);}}}});(function(){var l={toolbarFocus:{exec:function(m){var n=m._.elementsPath.idBase,o=a.document.getById(n+'0');if(o)o.focus();}}};j.add('elementspath',{requires:['selection'],init:function(m){var n='cke_path_'+m.name,o,p=function(){if(!o)o=a.document.getById(n);return o;},q='cke_elementspath_'+e.getNextNumber()+'_';m._.elementsPath={idBase:q};m.on('themeSpace',function(r){if(r.data.space=='bottom')r.data.html+='<div id="'+n+'" class="cke_path"><br></div>';});m.on('selectionChange',function(r){var s=b,t=r.data.selection,u=t.getStartElement(),v=[],w=this._.elementsPath.list=[];while(u){var x=w.push(u)-1,y;if(u.getAttribute('_cke_real_element_type'))y=u.getAttribute('_cke_real_element_type');else y=u.getName();var z='';if(s.opera||s.gecko&&s.mac)z+=' onkeypress="return false;"';if(s.gecko)z+=' onblur="this.style.cssText = this.style.cssText;"';v.unshift('<a id="',q,x,'" href="javascript:void(\'',y,'\')" tabindex="-1" title="',m.lang.elementsPath.eleTitle.replace(/%1/,y),'" onkeydown="return CKEDITOR._.elementsPath.keydown(\'',this.name,"',",x,', event);"'+z," onclick=\"return CKEDITOR._.elementsPath.click('",this.name,"',",x,');">',y,'</a>');
if(y=='body')break;u=u.getParent();}p().setHtml(v.join(''));});m.on('contentDomUnload',function(){p().setHtml('<br>');});m.addCommand('elementsPathFocus',l.toolbarFocus);}});})();a._.elementsPath={click:function(l,m){var n=a.instances[l];n.focus();var o=n._.elementsPath.list[m];n.getSelection().selectElement(o);return false;},keydown:function(l,m,n){var o=k.button._.instances[m],p=a.instances[l],q=p._.elementsPath.idBase,r;n=new d.event(n);switch(n.getKeystroke()){case 37:case 9:r=a.document.getById(q+(m+1));if(!r)r=a.document.getById(q+'0');r.focus();return false;case 39:case 2000+9:r=a.document.getById(q+(m-1));if(!r)r=a.document.getById(q+(p._.elementsPath.list.length-1));r.focus();return false;case 27:p.focus();return false;case 13:case 32:this.click(l,m);return false;}return true;}};(function(){j.add('enterkey',{requires:['keystrokes'],init:function(s){var t=s.specialKeys;t[13]=o;t[2000+13]=n;}});var l,m=/^h[1-6]$/;function n(s){l=1;return o(s,s.config.shiftEnterMode);};function o(s,t){if(s.mode!='wysiwyg')return;if(!t)t=s.config.enterMode;setTimeout(function(){if(t==2||s.getSelection().getStartElement().hasAscendant('pre',true))q(s,t);else p(s,t);l=0;},0);return true;};function p(s,t,u){u=u||r(s);var v=u.document,w=t==3?'div':'p',x=u.splitBlock(w);if(!x)return;var y=x.previousBlock,z=x.nextBlock,A=x.wasStartOfBlock,B=x.wasEndOfBlock,C;if(z){C=z.getParent();if(C.is('li')){z.breakParent(C);z.move(z.getNext(),true);}}else if(y&&(C=y.getParent())&&(C.is('li'))){y.breakParent(C);u.moveToElementEditStart(y.getNext());y.move(y.getPrevious());}if(!A&&!B){if(z.is('li')&&(C=z.getFirst())&&(C.is&&C.is('ul','ol')))z.insertBefore(v.createText('\xa0'),C);if(z)u.moveToElementEditStart(z);}else{var D;if(y)if(!l&&!m.test(y.getName()))D=y.clone();else if(z)D=z.clone();if(!D)D=v.createElement(w);var E=x.elementPath;if(E)for(var F=0,G=E.elements.length;F<G;F++){var H=E.elements[F];if(H.equals(E.block)||H.equals(E.blockLimit))break;if(f.$removeEmpty[H.getName()]){H=H.clone();D.moveChildren(H);D.append(H);}}if(!c)D.appendBogus();u.insertNode(D);if(c&&A&&(!B||!y.getChildCount())){u.moveToElementEditStart(B?y:D);u.select();}u.moveToElementEditStart(A&&!B?z:D);}if(!c)if(z){var I=v.createElement('span');I.setHtml('&nbsp;');u.insertNode(I);I.scrollIntoView();u.deleteContents();}else D.scrollIntoView();u.select();};function q(s,t){var u=r(s),v=u.document,w=t==3?'div':'p',x=u.checkEndOfBlock(),y=new d.elementPath(u.getBoundaryNodes().startNode),z=y.block,A=z&&y.block.getName(),B=false;
if(!l&&A=='li')return p(s,t,u);if(!l&&x&&m.test(A)){v.createElement('br').insertAfter(z);if(b.gecko)v.createText('').insertAfter(z);u.setStartAt(z.getNext(),c?3:1);}else{var C;B=A=='pre';if(B)C=v.createText(c?'\r':'\n');else C=v.createElement('br');u.insertNode(C);if(b.gecko)v.createText('').insertAfter(C);if(x&&!c)C.getParent().appendBogus();if(c)u.setStartAt(C,4);else u.setStartAt(C.getNext(),1);if(!c){var D=null;if(b.opera)D=v.createElement('span');else D=v.createElement('br');D.insertBefore(C.getNext());D.scrollIntoView();D.remove();}}u.collapse(true);u.select(B);};function r(s){var t=s.getSelection().getRanges();for(var u=t.length-1;u>0;u--)t[u].deleteContents();return t[0];};})();(function(){var l='nbsp,gt,lt,quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro',m='Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml',n='Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv';function o(p){var q={},r=[],s={nbsp:'\xa0',shy:'�',gt:'>',lt:'<'};p=p.replace(/\b(nbsp|shy|gt|lt|amp)(?:,|$)/g,function(x,y){q[s[y]]=y;r.push(s[y]);return '';});p=p.split(',');var t=document.createElement('div'),u;t.innerHTML='&'+p.join(';&')+';';u=t.innerHTML;t=null;for(var v=0;v<u.length;v++){var w=u.charAt(v);q[w]='&'+p[v]+';';r.push(w);}q.regex=r.join('');return q;
};j.add('entities',{afterInit:function(p){var q=p.config;if(!q.entities)return;var r=p.dataProcessor,s=r&&r.htmlFilter;if(s){var t=l;if(q.entities_latin)t+=','+m;if(q.entities_greek)t+=','+n;if(q.entities_additional)t+=','+q.entities_additional;var u=o(t),v='['+u.regex+']';delete u.regex;if(q.entities_processNumerical)v='[^ -~]|'+v;v=new RegExp(v,'g');function w(x){return u[x]||'&#'+x.charCodeAt(0)+';';};s.addRules({text:function(x){return x.replace(v,w);}});}}});})();i.entities=true;i.entities_latin=true;i.entities_greek=true;i.entities_processNumerical=false;i.entities_additional='#39';j.add('find',{init:function(l){var m=j.find;l.ui.addButton('Find',{label:l.lang.findAndReplace.find,command:'find'});l.addCommand('find',new a.dialogCommand('find'));l.ui.addButton('Replace',{label:l.lang.findAndReplace.replace,command:'replace'});l.addCommand('replace',new a.dialogCommand('replace'));a.dialog.add('find',this.path+'dialogs/find.js');a.dialog.add('replace',this.path+'dialogs/find.js');},requires:['styles']});i.find_highlight={element:'span',styles:{'background-color':'#004',color:'#fff'}};(function(){var l=/\.swf(?:$|\?)/i,m=/^\d+(?:\.\d+)?$/;function n(q){if(m.test(q))return q+'px';return q;};function o(q){var r=q.attributes;return r.type!='application/x-shockwave-flash'||!l.test(r.src||'');};function p(q,r){var s=q.createFakeParserElement(r,'cke_flash','flash',true),t=s.attributes.style||'',u=r.attributes.width,v=r.attributes.height;if(typeof u!='undefined')t=s.attributes.style=t+'width:'+n(u)+';';if(typeof v!='undefined')t=s.attributes.style=t+'height:'+n(v)+';';return s;};j.add('flash',{init:function(q){q.addCommand('flash',new a.dialogCommand('flash'));q.ui.addButton('Flash',{label:q.lang.common.flash,command:'flash'});a.dialog.add('flash',this.path+'dialogs/flash.js');q.addCss('img.cke_flash{background-image: url('+a.getUrl(this.path+'images/flashlogo.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');if(q.addMenuItems)q.addMenuItems({flash:{label:q.lang.flash.properties,command:'flash',group:'flash'}});if(q.contextMenu)q.contextMenu.addListener(function(r,s){if(r&&r.is('img')&&r.getAttribute('_cke_real_element_type')=='flash')return{flash:2};});},afterInit:function(q){var r=q.dataProcessor,s=r&&r.dataFilter;if(s)s.addRules({elements:{'cke:object':function(t){var u=t.attributes,v=u.classid&&String(u.classid).toLowerCase();if(!v){for(var w=0;w<t.children.length;
w++)if(t.children[w].name=='embed'){if(!o(t.children[w]))return;return p(q,t);}return;}return p(q,t);},'cke:embed':function(t){if(!o(t))return;return p(q,t);}}},5);},requires:['fakeobjects']});})();e.extend(i,{flashUploadTab:true,flashUploadAction:'nowhere.php',flashBrowseServer:true,flashEmbedTagOnly:false,flashAddEmbedTag:true,flashConvertOnEdit:false});(function(){function l(m,n,o,p,q,r,s){var t=m.config,u,v=q.split(';'),w=[],x={};for(var y=0;y<v.length;y++){var z={},A=v[y].split('/'),B=v[y]=A[0];z[o]=w[y]=A[1]||B;x[B]=new a.style(s,z);}m.ui.addRichCombo(n,{label:p.label,title:p.panelTitle,className:'cke_'+(o=='size'?'fontSize':'font'),multiSelect:false,panel:{css:[t.contentsCss,a.getUrl(m.skinPath+'editor.css')]},init:function(){this.startGroup(p.panelTitle);for(var C=0;C<v.length;C++){var D=v[C];this.add(D,'<span style="font-'+o+':'+w[C]+'">'+D+'</span>',D);}},onClick:function(C){m.focus();if(u){m.getSelection().selectRanges(u);u=false;}var D=x[C];if(this.getValue()==C)D.remove(m.document);else D.apply(m.document);},onRender:function(){m.on('selectionChange',function(C){var D=this.getValue(),E=C.data.path,F=E.elements;for(var G=0,H;G<F.length;G++){H=F[G];for(var I in x)if(x[I].checkElementRemovable(H,true)){if(I!=D)this.setValue(I);return;}}this.setValue('',r);},this);},onOpen:function(){if(c){m.focus();u=m.getSelection().getRanges();}},onClose:function(){u=null;}});};j.add('font',{requires:['richcombo','styles'],init:function(m){var n=m.config;l(m,'Font','family',m.lang.font,n.font_names,n.font_defaultLabel,n.font_style);l(m,'FontSize','size',m.lang.fontSize,n.fontSize_sizes,n.fontSize_defaultLabel,n.fontSize_style);}});})();i.font_names='Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif';i.font_defaultLabel='';i.font_style={element:'span',styles:{'font-family':'#(family)'},overrides:[{element:'font',attributes:{face:null}}]};i.fontSize_sizes='8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px';i.fontSize_defaultLabel='';i.fontSize_style={element:'span',styles:{'font-size':'#(size)'},overrides:[{element:'font',attributes:{face:null}}]};j.add('format',{requires:['richcombo','styles'],init:function(l){var m=l.config,n=l.lang.format,o,p=m.format_tags.split(';'),q={};
for(var r=0;r<p.length;r++){var s=p[r];q[s]=new a.style(m['format_'+s]);}l.ui.addRichCombo('Format',{label:n.label,title:n.panelTitle,className:'cke_format',multiSelect:false,panel:{css:[m.contentsCss,a.getUrl(l.skinPath+'editor.css')]},init:function(){this.startGroup(n.panelTitle);for(var t in q){var u=n['tag_'+t];this.add(t,'<'+t+'>'+u+'</'+t+'>',u);}},onClick:function(t){l.focus();if(o){l.getSelection().selectRanges(o);o=false;}q[t].apply(l.document);},onRender:function(){l.on('selectionChange',function(t){var u=this.getValue(),v=t.data.path;for(var w in q)if(q[w].checkActive(v)){if(w!=u)this.setValue(w,l.lang.format['tag_'+w]);return;}this.setValue('');},this);},onOpen:function(){if(c){l.focus();o=l.getSelection().getRanges();}},onClose:function(){o=null;}});}});i.format_tags='p;h1;h2;h3;h4;h5;h6;pre;address;div';i.format_p={element:'p'};i.format_div={element:'div'};i.format_pre={element:'pre'};i.format_address={element:'address'};i.format_h1={element:'h1'};i.format_h2={element:'h2'};i.format_h3={element:'h3'};i.format_h4={element:'h4'};i.format_h5={element:'h5'};i.format_h6={element:'h6'};j.add('forms',{init:function(l){var m=l.lang;l.addCss('form{border: 1px dotted #FF0000;padding: 2px;}');var n=function(p,q,r){l.addCommand(q,new a.dialogCommand(q));l.ui.addButton(p,{label:m.common[p.charAt(0).toLowerCase()+p.slice(1)],command:q});a.dialog.add(q,r);},o=this.path+'dialogs/';n('Form','form',o+'form.js');n('Checkbox','checkbox',o+'checkbox.js');n('Radio','radio',o+'radio.js');n('TextField','textfield',o+'textfield.js');n('Textarea','textarea',o+'textarea.js');n('Select','select',o+'select.js');n('Button','button',o+'button.js');n('ImageButton','imagebutton',j.getPath('image')+'dialogs/image.js');n('HiddenField','hiddenfield',o+'hiddenfield.js');if(l.addMenuItems)l.addMenuItems({form:{label:m.form.menu,command:'form',group:'form'},checkbox:{label:m.checkboxAndRadio.checkboxTitle,command:'checkbox',group:'checkbox'},radio:{label:m.checkboxAndRadio.radioTitle,command:'radio',group:'radio'},textfield:{label:m.textfield.title,command:'textfield',group:'textfield'},hiddenfield:{label:m.hidden.title,command:'hiddenfield',group:'hiddenfield'},imagebutton:{label:m.image.titleButton,command:'imagebutton',group:'imagebutton'},button:{label:m.button.title,command:'button',group:'button'},select:{label:m.select.title,command:'select',group:'select'},textarea:{label:m.textarea.title,command:'textarea',group:'textarea'}});if(l.contextMenu){l.contextMenu.addListener(function(p){if(p&&p.hasAscendant('form'))return{form:2};
});l.contextMenu.addListener(function(p){if(p){var q=p.getName();if(q=='select')return{select:2};if(q=='textarea')return{textarea:2};if(q=='input'){var r=p.getAttribute('type');if(r=='text'||r=='password')return{textfield:2};if(r=='button'||r=='submit'||r=='reset')return{button:2};if(r=='checkbox')return{checkbox:2};if(r=='radio')return{radio:2};if(r=='image')return{imagebutton:2};}if(q=='img'&&p.getAttribute('_cke_real_element_type')=='hiddenfield')return{hiddenfield:2};}});}},requires:['image']});(function(){var l={exec:function(n){n.insertElement(n.document.createElement('hr'));}},m='horizontalrule';j.add(m,{init:function(n){n.addCommand(m,l);n.ui.addButton('HorizontalRule',{label:n.lang.horizontalrule,command:m});}});})();(function(){var l={elementNames:[[/^(object|embed|param)$/,'cke:$1']],attributeNames:[[/^on/,'_cke_pa_on']]},m={elementNames:[[/^cke:/,''],[/^\?xml:namespace$/,'']],attributeNames:[[/^_cke_(saved|pa)_/,''],[/^_cke.*/,'']],elements:{embed:function(p){var q=p.parent;if(q&&q.name=='object'){p.attributes.width=q.attributes.width;p.attributes.height=q.attributes.height;}},img:function(p){var q=p.attributes;if(q._cke_saved_src)delete q.src;},a:function(p){var q=p.attributes;if(q._cke_saved_href)delete q.href;}},attributes:{'class':function(p,q){return e.ltrim(p.replace(/(?:^|\s+)cke_[^\s]*/g,''))||false;}}};if(c)m.attributes.style=function(p,q){return p.toLowerCase();};var n=/<(?:a|area|img).*?\s((?:href|src)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+)))/gi;function o(p){return p.replace(n,'$& _cke_saved_$1');};j.add('htmldataprocessor',{requires:['htmlwriter'],init:function(p){var q=p.dataProcessor=new a.htmlDataProcessor();q.writer.forceSimpleAmpersand=p.config.forceSimpleAmpersand;q.dataFilter.addRules(l);q.htmlFilter.addRules(m);}});a.htmlDataProcessor=function(){this.writer=new a.htmlWriter();this.dataFilter=new a.htmlParser.filter();this.htmlFilter=new a.htmlParser.filter();};a.htmlDataProcessor.prototype={toHtml:function(p,q){p=o(p);var r=document.createElement('div');r.innerHTML=p;var s=a.htmlParser.fragment.fromHtml(r.innerHTML,q),t=new a.htmlParser.basicWriter();s.writeHtml(t,this.dataFilter);return t.getHtml(true);},toDataFormat:function(p,q){var r=this.writer,s=a.htmlParser.fragment.fromHtml(p,q);r.reset();s.writeHtml(r,this.htmlFilter);return r.getHtml(true);}};})();i.forceSimpleAmpersand=false;j.add('image',{init:function(l){var m='image';a.dialog.add(m,this.path+'dialogs/image.js');l.addCommand(m,new a.dialogCommand(m));l.ui.addButton('Image',{label:l.lang.common.image,command:m});
if(l.addMenuItems)l.addMenuItems({image:{label:l.lang.image.menu,command:'image',group:'image'}});if(l.contextMenu)l.contextMenu.addListener(function(n,o){if(!n||!n.is('img')||n.getAttribute('_cke_realelement'))return;return{image:2};});}});i.image_browseServer=true;i.image_uploadAction='nowhere.php';i.image_removeLinkByEmptyURL=true;(function(){var l={ol:1,ul:1};function m(r,s){r.getCommand(this.name).setState(s);};function n(r){var C=this;var s=r.data.path.elements,t,u,v=r.editor;for(var w=0;w<s.length;w++){if(s[w].getName()=='li'){u=s[w];continue;}if(l[s[w].getName()]){t=s[w];break;}}if(t)if(C.name=='outdent')return m.call(C,v,2);else{while(u&&(u=u.getPrevious()))if(u.getName&&u.getName()=='li')return m.call(C,v,2);return m.call(C,v,0);}if(!C.useIndentClasses&&C.name=='indent')return m.call(C,v,2);var x=r.data.path,y=x.block||x.blockLimit;if(!y)return m.call(C,v,0);if(C.useIndentClasses){var z=y.$.className.match(C.classNameRegex),A=0;if(z!=null){z=z[1];A=C.indentClassMap[z];}if(C.name=='outdent'&&A==0||C.name=='indent'&&A==v.config.indentClass.length)return m.call(C,v,0);return m.call(C,v,2);}else{var B=parseInt(y.getComputedStyle(C.indentCssProperty),10);if(isNaN(B))B=0;if(B<=0)return m.call(C,v,0);return m.call(C,v,2);}};function o(r,s,t){var u=s.startContainer,v=s.endContainer;while(u&&!u.getParent().equals(t))u=u.getParent();while(v&&!v.getParent().equals(t))v=v.getParent();if(!u||!v)return;var w=u,x=[],y=false;while(y==false){if(w.equals(v))y=true;x.push(w);w=w.getNext();}if(x.length<1)return;var z=t.getParents();for(var A=0;A<z.length;A++)if(z[A].getName&&l[z[A].getName()]){t=z[A];break;}var B=this.name=='indent'?1:-1,C=x[0],D=x[x.length-1],E={},F=j.list.listToArray(t,E),G=F[D.getCustomData('listarray_index')].indent;for(var A=C.getCustomData('listarray_index');A<=D.getCustomData('listarray_index');A++)F[A].indent+=B;for(var A=D.getCustomData('listarray_index')+1;A<F.length&&F[A].indent>G;A++)F[A].indent+=B;var H=j.list.arrayToList(F,null,null,r.config.enterMode);if(H)H.listNode.replace(t);g.clearAllMarkers(E);};function p(r,s){var A=this;var t=s.createIterator();t.enforceRealBlocks=true;s.enlarge(2);var u=s.getCommonAncestor(),v;while(v=t.getNextParagraph()){if(!(v.equals(u)||v.getParent().equals(u)))continue;if(A.useIndentClasses){var w=v.$.className.match(A.classNameRegex),x=0;if(w!=null){w=w[1];x=A.indentClassMap[w];}if(A.name=='outdent')x--;elsex++;x=Math.min(x,r.config.indentClasses.length);x=Math.max(x,0);var y=e.ltrim(v.$.className.replace(A.classNameRegex,''));
if(x<1)v.$.className=y;else v.addClass(r.config.indentClasses[x-1]);}else{var z=parseInt(v.getComputedStyle(A.indentCssProperty),10);if(isNaN(z))z=0;z+=(A.name=='indent'?1:-1)*(r.config.indentOffset);z=Math.max(z,0);z=Math.ceil(z/r.config.indentOffset)*r.config.indentOffset;v.setStyle(A.indentCssProperty,z?z+r.config.indentUnit:'');if(v.getAttribute('style')=='')v.removeAttribute('style');}}};function q(r,s){var u=this;u.name=s;u.useIndentClasses=r.config.indentClasses&&r.config.indentClasses.length>0;if(u.useIndentClasses){u.classNameRegex=new RegExp('(?:^|\\s+)('+r.config.indentClasses.join('|')+')(?=$|\\s)');u.indentClassMap={};for(var t=0;t<r.config.indentClasses.length;t++)u.indentClassMap[r.config.indentClasses[t]]=t+1;}else u.indentCssProperty=r.config.contentsLangDirection=='ltr'?'margin-left':'margin-right';};q.prototype={exec:function(r){var s=r.getSelection(),t=s&&s.getRanges()[0];if(!s||!t)return;var u=s.createBookmarks(true),v=t.getBoundaryNodes(),w=v.startNode.getCommonAncestor(v.endNode);while(w){if(w.type==1&&l[w.getName()])break;w=w.getParent();}if(w)o.call(this,r,t,w);else p.call(this,r,t);r.focus();r.forceNextSelectionCheck();s.selectBookmarks(u);}};j.add('indent',{init:function(r){var s=new q(r,'indent'),t=new q(r,'outdent');r.addCommand('indent',s);r.addCommand('outdent',t);r.ui.addButton('Indent',{label:r.lang.indent,command:'indent'});r.ui.addButton('Outdent',{label:r.lang.outdent,command:'outdent'});r.on('selectionChange',e.bind(n,s));r.on('selectionChange',e.bind(n,t));},requires:['domiterator','list']});})();e.extend(i,{indentOffset:40,indentUnit:'px',indentClasses:null});(function(){var l=/(-moz-|-webkit-|start|auto)/i;function m(p,q){var r=q.block||q.blockLimit;if(!r||r.getName()=='body')return 2;var s=r.getComputedStyle('text-align').replace(l,'');if(!s&&this.isDefaultAlign||s==this.value)return 1;return 2;};function n(p){var q=p.editor.getCommand(this.name);q.state=m.call(this,p.editor,p.data.path);q.fire('state');};function o(p,q,r){var u=this;u.name=q;u.value=r;var s=p.config.contentsLangDirection;u.isDefaultAlign=r=='left'&&s=='ltr'||r=='right'&&s=='rtl';var t=p.config.justifyClasses;if(t){switch(r){case 'left':u.cssClassName=t[0];break;case 'center':u.cssClassName=t[1];break;case 'right':u.cssClassName=t[2];break;case 'justify':u.cssClassName=t[3];break;}u.cssClassRegex=new RegExp('(?:^|\\s+)(?:'+t.join('|')+')(?=$|\\s)');}};o.prototype={exec:function(p){var x=this;var q=p.getSelection(),r=q&&q.getRanges()[0];if(!r)return;var s=q.createBookmarks(),t=x.cssClassName,u=r.createIterator(),v;
while(v=u.getNextParagraph()){v.removeAttribute('align');if(t){var w=v.$.className=e.ltrim(v.$.className.replace(x.cssClassRegex,''));if(x.state==2&&!x.isDefaultAlign)v.addClass(t);else if(w.length==0)v.removeAttribute('class');}else if(x.state==2&&!x.isDefaultAlign)v.setStyle('text-align',x.value);else v.removeStyle('text-align');}p.focus();p.forceNextSelectionCheck();q.selectBookmarks(s);}};j.add('justify',{init:function(p){var q=new o(p,'justifyleft','left'),r=new o(p,'justifycenter','center'),s=new o(p,'justifyright','right'),t=new o(p,'justifyblock','justify');p.addCommand('justifyleft',q);p.addCommand('justifycenter',r);p.addCommand('justifyright',s);p.addCommand('justifyblock',t);p.ui.addButton('JustifyLeft',{label:p.lang.justify.left,command:'justifyleft'});p.ui.addButton('JustifyCenter',{label:p.lang.justify.center,command:'justifycenter'});p.ui.addButton('JustifyRight',{label:p.lang.justify.right,command:'justifyright'});p.ui.addButton('JustifyBlock',{label:p.lang.justify.block,command:'justifyblock'});p.on('selectionChange',e.bind(n,q));p.on('selectionChange',e.bind(n,s));p.on('selectionChange',e.bind(n,r));p.on('selectionChange',e.bind(n,t));},requires:['domiterator']});})();e.extend(i,{justifyClasses:null});j.add('keystrokes',{beforeInit:function(l){l.keystrokeHandler=new a.keystrokeHandler(l);l.specialKeys={};},init:function(l){var m=l.config.keystrokes,n=l.config.blockedKeystrokes,o=l.keystrokeHandler.keystrokes,p=l.keystrokeHandler.blockedKeystrokes;for(var q=0;q<m.length;q++)o[m[q][0]]=m[q][1];for(q=0;q<n.length;q++)p[n[q]]=1;}});a.keystrokeHandler=function(l){var m=this;if(l.keystrokeHandler)return l.keystrokeHandler;m.keystrokes={};m.blockedKeystrokes={};m._={editor:l};return m;};(function(){var l,m=function(o){o=o.data;var p=o.getKeystroke(),q=this.keystrokes[p],r=this._.editor;l=r.fire('key',{keyCode:p})===true;if(!l){if(q){var s={from:'keystrokeHandler'};l=r.execCommand(q,s)!==false;}if(!l){var t=r.specialKeys[p],u=t&&t(r)===true;if(!u)u=!!this.blockedKeystrokes[p];}}if(u)o.preventDefault(true);return!u;},n=function(o){if(l){l=false;o.data.preventDefault(true);}};a.keystrokeHandler.prototype={attach:function(o){o.on('keydown',m,this);if(b.opera||b.gecko&&b.mac)o.on('keypress',n,this);}};})();i.blockedKeystrokes=[1000+66,1000+73,1000+85];i.keystrokes=[[4000+121,'toolbarFocus'],[4000+122,'elementsPathFocus'],[2000+121,'contextMenu'],[1000+90,'undo'],[1000+89,'redo'],[1000+2000+90,'redo'],[1000+76,'link'],[1000+66,'bold'],[1000+73,'italic'],[1000+85,'underline']];
j.add('link',{init:function(l){l.addCommand('link',new a.dialogCommand('link'));l.addCommand('anchor',new a.dialogCommand('anchor'));l.addCommand('unlink',new a.unlinkCommand());l.ui.addButton('Link',{label:l.lang.link.toolbar,command:'link'});l.ui.addButton('Unlink',{label:l.lang.unlink,command:'unlink'});l.ui.addButton('Anchor',{label:l.lang.anchor.toolbar,command:'anchor'});a.dialog.add('link',this.path+'dialogs/link.js');a.dialog.add('anchor',this.path+'dialogs/anchor.js');l.addCss('img.cke_anchor{background-image: url('+a.getUrl(this.path+'images/anchor.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 18px;'+'height: 18px;'+'}\n'+'a.cke_anchor'+'{'+'background-image: url('+a.getUrl(this.path+'images/anchor.gif')+');'+'background-position: 0 center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'padding-left: 18px;'+'}');l.on('selectionChange',function(m){var n=l.getCommand('unlink'),o=m.data.path.lastElement.getAscendant('a',true);if(o&&o.getName()=='a'&&o.getAttribute('href'))n.setState(2);else n.setState(0);});if(l.addMenuItems)l.addMenuItems({anchor:{label:l.lang.anchor.menu,command:'anchor',group:'anchor'},link:{label:l.lang.link.menu,command:'link',group:'link',order:1},unlink:{label:l.lang.unlink,command:'unlink',group:'link',order:5}});if(l.contextMenu)l.contextMenu.addListener(function(m,n){if(!m)return;var o=m.is('img')&&m.getAttribute('_cke_real_element_type')=='anchor';if(!o){if(!(m=m.getAscendant('a',true)))return;o=m.getAttribute('name')&&!m.getAttribute('href');}return o?{anchor:2}:{link:2,unlink:2};});},afterInit:function(l){var m=l.dataProcessor,n=m&&m.dataFilter;if(n)n.addRules({elements:{a:function(o){var p=o.attributes;if(p.name&&!p.href)return l.createFakeParserElement(o,'cke_anchor','anchor');}}});},requires:['fakeobjects']});a.unlinkCommand=function(){};a.unlinkCommand.prototype={exec:function(l){var m=l.getSelection(),n=m.createBookmarks(),o=m.getRanges(),p,q;for(var r=0;r<o.length;r++){p=o[r].getCommonAncestor(true);q=p.getAscendant('a',true);if(!q)continue;o[r].selectNodeContents(q);}m.selectRanges(o);l.document.$.execCommand('unlink',false,null);m.selectBookmarks(n);}};e.extend(i,{linkUploadTab:true,linkBrowseServer:true,linkUploadAction:'nowhere.php',linkShowAdvancedTab:true,linkShowTargetTab:true});(function(){var l={ol:1,ul:1},m=/^[\n\r\t ]*$/;j.list={listToArray:function(t,u,v,w,x){if(!l[t.getName()])return[];if(!w)w=0;if(!v)v=[];for(var y=0,z=t.getChildCount();
y<z;y++){var A=t.getChild(y);if(A.$.nodeName.toLowerCase()!='li')continue;var B={parent:t,indent:w,contents:[]};if(!x){B.grandparent=t.getParent();if(B.grandparent&&B.grandparent.$.nodeName.toLowerCase()=='li')B.grandparent=B.grandparent.getParent();}else B.grandparent=x;if(u)g.setMarker(u,A,'listarray_index',v.length);v.push(B);for(var C=0,D=A.getChildCount();C<D;C++){var E=A.getChild(C);if(E.type==1&&l[E.getName()])j.list.listToArray(E,u,v,w+1,B.grandparent);else B.contents.push(E);}}return v;},arrayToList:function(t,u,v,w){if(!v)v=0;if(!t||t.length<v+1)return null;var x=t[v].parent.getDocument(),y=new d.documentFragment(x),z=null,A=v,B=Math.max(t[v].indent,0),C=null,D=w==1?'p':'div';for(;;){var E=t[A];if(E.indent==B){if(!z||t[A].parent.getName()!=z.getName()){z=t[A].parent.clone(false,true);y.append(z);}C=z.append(x.createElement('li'));for(var F=0;F<E.contents.length;F++)C.append(E.contents[F].clone(true,true));A++;}else if(E.indent==Math.max(B,0)+1){var G=j.list.arrayToList(t,null,A,w);C.append(G.listNode);A=G.nextIndex;}else if(E.indent==-1&&v==0&&E.grandparent){var C;if(l[E.grandparent.getName()])C=x.createElement('li');else if(w!=2&&E.grandparent.getName()!='td')C=x.createElement(D);else C=new d.documentFragment(x);for(var F=0;F<E.contents.length;F++)C.append(E.contents[F].clone(true,true));if(C.type==11){if(C.getLast()&&C.getLast().type==1&&C.getLast().getAttribute('type')=='_moz')C.getLast().remove();C.appendBogus();}if(C.getName()==D&&C.$.firstChild){C.trim();var H=C.getFirst();if(H.type==1&&H.isBlockBoundary()){var I=new d.documentFragment(x);C.moveChildren(I);C=I;}}var J=C.$.nodeName.toLowerCase();if(!c&&(J=='div'||J=='p'))C.appendBogus();y.append(C);z=null;A++;}else return null;if(t.length<=A||Math.max(t[A].indent,0)<B)break;}if(u){var K=y.getFirst();while(K){if(K.type==1)g.clearMarkers(u,K);K=K.getNextSourceNode();}}return{listNode:y,nextIndex:A};}};function n(t,u){t.getCommand(this.name).setState(u);};function o(t){var u=t.data.path.elements;for(var v=0;v<u.length;v++)if(l[u[v].getName()])return n.call(this,t.editor,this.type==u[v].getName()?1:2);n.call(this,t.editor,2);};function p(t,u,v,w){var x=j.list.listToArray(u.root,v),y=[];for(var z=0;z<u.contents.length;z++){var A=u.contents[z];A=A.getAscendant('li',true);if(!A||A.getCustomData('list_item_processed'))continue;y.push(A);g.setMarker(v,A,'list_item_processed',true);}var B=u.root.getDocument().createElement(this.type);for(var z=0;z<y.length;z++){var C=y[z].getCustomData('listarray_index');
x[C].parent=B;}var D=j.list.arrayToList(x,v,null,t.config.enterMode);for(var z=0,E=D.listNode.getChildCount(),F;z<E&&(F=D.listNode.getChild(z));z++)if(F.getName()==this.type)w.push(F);D.listNode.replace(u.root);};function q(t,u,v){var w=u.contents,x=u.root.getDocument(),y=[];if(w.length==1&&w[0].equals(u.root)){var z=x.createElement('div');w[0].moveChildren&&w[0].moveChildren(z);w[0].append(z);w[0]=z;}var A=u.contents[0].getParent();for(var B=0;B<w.length;B++)A=A.getCommonAncestor(w[B].getParent());for(var B=0;B<w.length;B++){var C=w[B],D;while(D=C.getParent()){if(D.equals(A)){y.push(C);break;}C=D;}}if(y.length<1)return;var E=y[y.length-1].getNext(),F=x.createElement(this.type);v.push(F);while(y.length){var G=y.shift(),H=x.createElement('li');G.moveChildren(H);G.remove();H.appendTo(F);}if(E)F.insertBefore(E);else F.appendTo(A);};function r(t,u,v){var w=j.list.listToArray(u.root,v),x=[];for(var y=0;y<u.contents.length;y++){var z=u.contents[y];z=z.getAscendant('li',true);if(!z||z.getCustomData('list_item_processed'))continue;x.push(z);g.setMarker(v,z,'list_item_processed',true);}var A=null;for(var y=0;y<x.length;y++){var B=x[y].getCustomData('listarray_index');w[B].indent=-1;A=B;}for(var y=A+1;y<w.length;y++)if(w[y].indent>w[y-1].indent+1){var C=w[y-1].indent+1-w[y].indent,D=w[y].indent;while(w[y]&&w[y].indent>=D){w[y].indent+=C;y++;}y--;}var E=j.list.arrayToList(w,v,null,t.config.enterMode);if(u.root.getNext()==null||u.root.getNext().$.nodeName.toLowerCase()=='br')if(E.listNode.getLast().$.nodeName.toLowerCase()=='br')E.listNode.getLast().remove();E.listNode.replace(u.root);};function s(t,u){this.name=t;this.type=u;};s.prototype={exec:function(t){var T=this;t.focus();var u=t.document,v=t.getSelection(),w=v&&v.getRanges();if(!w||w.length<1)return;if(T.state==2){var x=u.getBody();x.trim();if(!x.getFirst()){var y=u.createElement(t.config.enterMode==1?'p':t.config.enterMode==3?'div':'br');y.appendTo(x);w=[new d.range(u)];w[0].selectNodeContents(y);v.selectRanges(w);}}var z=v.createBookmarks(true),A=[],B={};while(w.length>0){var C=w.shift(),D=C.getBoundaryNodes(),E=D.startNode,F=D.endNode;if(E.type==1&&E.getName()=='td')C.setStartAt(D.startNode,1);if(F.type==1&&F.getName()=='td')C.setEndAt(D.endNode,2);var G=C.createIterator(),H;G.forceBrBreak=T.state==2;while(H=G.getNextParagraph()){var I=new d.elementPath(H),J=null,K=false,L=I.blockLimit;for(var M=0;M<I.elements.length;M++){var N=I.elements[M];if(l[N.getName()]){L.removeCustomData('list_group_object');var O=N.getCustomData('list_group_object');
if(O)O.contents.push(H);else{O={root:N,contents:[H]};A.push(O);g.setMarker(B,N,'list_group_object',O);}K=true;break;}}if(K)continue;var P=L;if(P.getCustomData('list_group_object'))P.getCustomData('list_group_object').contents.push(H);else{var O={root:P,contents:[H]};g.setMarker(B,P,'list_group_object',O);A.push(O);}}}var Q=[];while(A.length>0){var O=A.shift();if(T.state==2)if(l[O.root.getName()])p.call(T,t,O,B,Q);else q.call(T,t,O,Q);else if(T.state==1&&l[O.root.getName()])r.call(T,t,O,B);}for(var M=0;M<Q.length;M++){var J=Q[M],R=false,S=J;while(!R){S=S.getNext();if(S&&S.type==3&&m.test(S.getText()))continue;R=true;}if(S&&S.getName()==T.type){S.remove();S.moveChildren(J);}R=false;S=J;while(!R){S=S.getNext();if(S&&S.type==3&&m.test(S.getText()))continue;R=true;}if(S&&S.getName()==T.type){S.remove();S.moveChildren(J,true);}}g.clearAllMarkers(B);v.selectBookmarks(z);t.focus();}};j.add('list',{init:function(t){var u=new s('numberedlist','ol'),v=new s('bulletedlist','ul');t.addCommand('numberedlist',u);t.addCommand('bulletedlist',v);t.ui.addButton('NumberedList',{label:t.lang.numberedlist,command:'numberedlist'});t.ui.addButton('BulletedList',{label:t.lang.bulletedlist,command:'bulletedlist'});t.on('selectionChange',e.bind(o,u));t.on('selectionChange',e.bind(o,v));},requires:['domiterator']});})();j.add('newpage',{init:function(l){l.addCommand('newpage',{modes:{wysiwyg:1,source:1},exec:function(m){m.setData(m.config.newpage_html);m.focus();}});l.ui.addButton('NewPage',{label:l.lang.newPage,command:'newpage'});}});i.newpage_html='';j.add('pagebreak',{init:function(l){l.addCommand('pagebreak',j.pagebreakCmd);l.ui.addButton('PageBreak',{label:l.lang.pagebreak,command:'pagebreak'});l.addCss('img.cke_pagebreak{background-image: url('+a.getUrl(this.path+'images/pagebreak.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'clear: both;'+'display: block;'+'float: none;'+'width: 100%;'+'border-top: #999999 1px dotted;'+'border-bottom: #999999 1px dotted;'+'height: 5px;'+'}');},afterInit:function(l){var m=l.dataProcessor,n=m&&m.dataFilter;if(n)n.addRules({elements:{div:function(o){var p=o.attributes.style,q=p&&o.children.length==1&&o.children[0],r=q&&q.name=='span'&&q.attributes.style;if(r&&/page-break-after\s*:\s*always/i.test(p)&&/display\s*:\s*none/i.test(r))return l.createFakeParserElement(o,'cke_pagebreak','div');}}});},requires:['fakeobjects']});j.pagebreakCmd={exec:function(l){var m=g.createFromHtml('<div style="page-break-after: always;"><span style="display: none;">&nbsp;</span></div>');
m=l.createFakeElement(m,'cke_pagebreak','div');var n=l.getSelection().getRanges();for(var o,p=0;p<n.length;p++){o=n[p];if(p>0)m=m.clone(true);o.splitBlock('p');o.insertNode(m);}}};j.add('pastefromword',{init:function(l){l.addCommand('pastefromword',new a.dialogCommand('pastefromword'));l.ui.addButton('PasteFromWord',{label:l.lang.pastefromword.toolbar,command:'pastefromword'});a.dialog.add('pastefromword',this.path+'dialogs/pastefromword.js');}});i.pasteFromWordIgnoreFontFace=true;i.pasteFromWordRemoveStyle=false;i.pasteFromWordKeepsStructure=false;(function(){var l={exec:function(n){if(a.getClipboardData()===false||!window.clipboardData){n.openDialog('pastetext');return;}text=clipboardData.getData('Text');n.insertText(text);}};j.add('pastetext',{init:function(n){var o='pastetext',p=n.addCommand(o,l);n.ui.addButton('PasteText',{label:n.lang.pasteText.button,command:o});a.dialog.add(o,a.getUrl(this.path+'dialogs/pastetext.js'));if(n.config.forcePasteAsPlainText)n.on('beforePaste',function(q){setTimeout(function(){p.exec();},0);q.cancel();},null,null,20);},requires:['clipboard']});var m;a.getClipboardData=function(){if(!c)return false;var n=a.document,o=n.getBody();if(!m){m=n.createElement('div',{attributes:{id:'cke_hiddenDiv'},styles:{position:'absolute',visibility:'hidden',overflow:'hidden',width:'1px',height:'1px'}});m.setHtml('');m.appendTo(o);}var p=false,q=function(){p=true;};o.on('paste',q);var r=o.$.createTextRange();r.moveToElementText(m.$);r.execCommand('Paste');var s=m.getHtml();m.setHtml('');o.removeListener('paste',q);return p&&s;};})();a.editor.prototype.insertText=function(l){l=e.htmlEncode(l);l=l.replace(/(?:\r\n)|\n|\r/g,'<br>');this.insertHtml(l);};i.forcePasteAsPlainText=false;(function(){var l={modes:{wysiwyg:1,source:1},exec:function(n){var o,p=c&&document.domain!=window.location.hostname;if(n.config.fullPage)o=n.getData();else{var q='<body ',r=a.document.getBody(),s=n.config.baseHref.length>0?'<base href="'+n.config.baseHref+'" _cktemp="true"></base>':'';if(r.getAttribute('id'))q+='id="'+r.getAttribute('id')+'" ';if(r.getAttribute('class'))q+='class="'+r.getAttribute('class')+'" ';q+='>';o=n.config.docType+'<html dir="'+n.config.contentsLangDirection+'">'+'<head>'+s+'<title>'+n.lang.preview+'</title>'+'<link href="'+n.config.contentsCss+'" type="text/css" rel="stylesheet" _cktemp="true"/>'+'</head>'+q+n.getData()+'</body></html>';}var t=640,u=420,v=80;try{t=Math.Round(screen.width*0.8);u=Math.Round(screen.height*0.7);v=Math.Round(screen.width*0.1);
}catch(y){}var w='';if(p){window._cke_htmlToLoad=o;w='javascript:void( (function(){document.open();document.domain="'+document.domain+'";'+'document.write( window.opener._cke_htmlToLoad );'+'document.close();'+'window.opener._cke_htmlToLoad = null;'+'})() )';}var x=window.open(w,null,'toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width='+t+',height='+u+',left='+v);if(!p){x.document.write(o);x.document.close();}}},m='preview';j.add(m,{init:function(n){n.addCommand(m,l);n.ui.addButton('Preview',{label:n.lang.preview,command:m});}});})();j.add('print',{init:function(l){var m='print',n=l.addCommand(m,j.print);if(b.opera)n.state=0;l.ui.addButton('Print',{label:l.lang.print,command:m});}});j.print={exec:function(l){if(b.opera)return;else if(b.gecko)l.window.$.print();else l.document.$.execCommand('Print');}};j.add('removeformat',{requires:['selection'],init:function(l){l.addCommand('removeFormat',j.removeformat.commands.removeformat);l.ui.addButton('RemoveFormat',{label:l.lang.removeFormat,command:'removeFormat'});}});j.removeformat={commands:{removeformat:{exec:function(l){var m=l._.removeFormatRegex||(l._.removeFormatRegex=new RegExp('^(?:'+l.config.removeFormatTags.replace(/,/g,'|')+')$','i')),n=l._.removeAttributes||(l._.removeAttributes=l.config.removeFormatAttributes.split(',')),o=l.getSelection().getRanges();for(var p=0,q;q=o[p];p++){if(q.collapsed)continue;q.enlarge(1);var r=q.createBookmark(),s=r.startNode,t=r.endNode,u=function(x){var y=new d.elementPath(x),z=y.elements;for(var A=1,B;B=z[A];A++){if(B.equals(y.block)||B.equals(y.blockLimit))break;if(m.test(B.getName()))x.breakParent(B);}};u(s);u(t);var v=s.getNextSourceNode(true,1);while(v){if(v.equals(t))break;var w=v.getNextSourceNode(false,1);if(v.getName()!='img'||!v.getAttribute('_cke_protected_html'))if(m.test(v.getName()))v.remove(true);else v.removeAttributes(n);v=w;}q.moveToBookmark(r);}l.getSelection().selectRanges(o);}}}};i.removeFormatTags='b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var';i.removeFormatAttributes='class,style,lang,width,height,align,hspace,valign';(function(){var l={modes:{wysiwyg:1,source:1},exec:function(n){var o=n.element.$.form;if(o)try{o.submit();}catch(p){if(o.submit.click)o.submit.click();}}},m='save';j.add(m,{init:function(n){n.addCommand(m,l);n.ui.addButton('Save',{label:n.lang.save,command:m});}});})();j.add('smiley',{requires:['dialog'],init:function(l){l.addCommand('smiley',new a.dialogCommand('smiley'));
l.ui.addButton('Smiley',{label:l.lang.smiley.toolbar,command:'smiley'});a.dialog.add('smiley',this.path+'dialogs/smiley.js');}});i.smiley_path=a.basePath+'plugins/smiley/images/';i.smiley_images=['regular_smile.gif','sad_smile.gif','wink_smile.gif','teeth_smile.gif','confused_smile.gif','tounge_smile.gif','embaressed_smile.gif','omg_smile.gif','whatchutalkingabout_smile.gif','angry_smile.gif','angel_smile.gif','shades_smile.gif','devil_smile.gif','cry_smile.gif','lightbulb.gif','thumbs_down.gif','thumbs_up.gif','heart.gif','broken_heart.gif','kiss.gif','envelope.gif'];i.smiley_descriptions=[':)',':(',';)',':D',':/',':P','','','','','','','',';(','','','','',':kiss',''];i.smiley_columns=8;(function(){var l='.%2 p,.%2 div,.%2 pre,.%2 address,.%2 blockquote,.%2 h1,.%2 h2,.%2 h3,.%2 h4,.%2 h5,.%2 h6{background-repeat: no-repeat;border: 1px dotted gray;padding-top: 8px;padding-left: 8px;}.%2 p{%1p.png);}.%2 div{%1div.png);}.%2 pre{%1pre.png);}.%2 address{%1address.png);}.%2 blockquote{%1blockquote.png);}.%2 h1{%1h1.png);}.%2 h2{%1h2.png);}.%2 h3{%1h3.png);}.%2 h4{%1h4.png);}.%2 h5{%1h5.png);}.%2 h6{%1h6.png);}',m=/%1/g,n=/%2/g,o={exec:function(p){var q=this.state==1,r=q?'removeClass':'addClass';p.document.getBody()[r]('cke_show_blocks');this.toggleState();p._.showBlocks=!q;}};j.add('showblocks',{requires:['wysiwygarea'],init:function(p){var q=p.addCommand('showblocks',o);p.addCss(l.replace(m,'background-image: url('+a.getUrl(this.path)+'images/block_').replace(n,'cke_show_blocks '));p._.showBlocks=p.config.startupOutlineBlocks;p.ui.addButton('ShowBlocks',{label:p.lang.showBlocks,command:'showblocks'});p.on('contentDom',function(){q.setState(2);if(this._.showBlocks)q.exec();});}});})();i.startupOutlineBlocks=false;j.add('sourcearea',{requires:['editingblock'],init:function(l){var m=j.sourcearea;l.on('editingBlockReady',function(){var n;l.addMode('source',{load:function(o,p){n=new g('textarea');n.setAttributes({dir:'ltr',tabIndex:-1});n.addClass('cke_source');n.setStyles({width:'100%',height:'100%',resize:'none',outline:'none','text-align':'left'});if(c)n.setStyles({height:o.$.clientHeight+'px',width:o.$.clientWidth+'px'});if(!c)n.on('mousedown',function(r){r=r.data.$;if(r.stopPropagation)r.stopPropagation();});o.setHtml('');o.append(n);l.mayBeDirty=true;this.loadData(p);var q=l.keystrokeHandler;if(q)q.attach(n);l.mode='source';l.fire('mode');},loadData:function(o){n.setValue(o);},getData:function(){return n.getValue();},getSnapshotData:function(){return n.getValue();
},unload:function(o){n=null;},focus:function(){n.focus();}});});l.addCommand('source',m.commands.source);if(l.ui.addButton)l.ui.addButton('Source',{label:l.lang.source,command:'source'});l.on('mode',function(){l.getCommand('source').setState(l.mode=='source'?1:2);});}});j.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},exec:function(l){l.getCommand('source').setState(0);l.setMode(l.mode=='source'?'wysiwyg':'source');}}}};(function(){j.add('stylescombo',{requires:['richcombo','styles'],init:function(o){var p=o.config,q=o.lang.stylesCombo,r=this.path,s,t;o.ui.addRichCombo('Styles',{label:q.label,title:q.panelTitle,className:'cke_styles',multiSelect:true,panel:{css:[p.contentsCss,o.skinPath+'editor.css']},init:function(){var u=this,v=p.stylesCombo_stylesSet.split(':',2),w=v[1]||a.getUrl(r+'styles/'+v[0]+'.js');v=v[0];a.loadStylesSet(v,w,function(x){var y,z,A=[];s={};for(var B=0;B<x.length;B++){var C=x[B];z=C.name;y=s[z]=new a.style(C);y._name=z;A.push(y);}A.sort(n);var D;for(var B=0;B<A.length;B++){y=A[B];z=y._name;var E=y.type;if(E!=D){u.startGroup(q['panelTitle'+String(E)]);D=E;}u.add(z,y.type==3?z:m(y._.definition),z);}u.commit();u.onOpen();});},onClick:function(u){o.focus();var v=s[u],w=o.getSelection();if(t){w.selectRanges(t);t=false;}if(v.type==3){var x=w.getSelectedElement();if(x)v.applyToObject(x);return;}var y=new d.elementPath(w.getStartElement());if(v.type==2&&v.checkActive(y))v.remove(o.document);else v.apply(o.document);},onRender:function(){o.on('selectionChange',function(u){var v=this.getValue(),w=u.data.path;elements=w.elements;for(var x=0,y;x<elements.length;x++){y=elements[x];for(var z in s)if(s[z].checkElementRemovable(y,true)){if(z!=v)this.setValue(z);return;}}this.setValue('');},this);},onOpen:function(){var C=this;o.focus();var u=o.getSelection();if(c&&u)t=u.getRanges();var v,w=u.getSelectedElement(),x=w&&w.getName(),y=x&&!f.$block[x]&&!f.$listItem[x]&&!f.$tableContent[x],z=[0,0,0,0];if(!w||y)v=new d.elementPath(u.getStartElement());C.showAll();C.unmarkAll();for(var A in s){var B=s[A];type=B.type;if(type==3)if(w&&B.element==x){if(B.checkElementRemovable(w,true))C.mark(A);z[type]++;}else C.hideItem(A);else if(v){if(B.checkActive(v))C.mark(A);z[type]++;}else C.hideItem(A);}if(!z[1])C.hideGroup(q['panelTitle'+String(1)]);if(!z[2])C.hideGroup(q['panelTitle'+String(2)]);if(!z[3])C.hideGroup(q['panelTitle'+String(3)]);},onClose:function(){t=null;}});}});var l={};a.addStylesSet=function(o,p){l[o]=p;};a.loadStylesSet=function(o,p,q){var r=l[o];
if(r)return q(l);a.scriptLoader.load(p,function(){q(l[o]);});};function m(o){var p=[],q=o.element;if(q=='bdo')q='span';p=['<',q];var r=o.attributes;if(r)for(var s in r)p.push(' ',s,'="',r[s],'"');var t=a.style.getStyleText(o);if(t)p.push(' style="',t,'"');p.push('>',o.name,'</',q,'>');return p.join('');};function n(o,p){var q=o.type,r=p.type;return q==r?0:q==3?-1:r==3?1:r==1?1:-1;};})();i.stylesCombo_stylesSet='default';j.add('table',{init:function(l){var m=j.table,n=l.lang.table;l.addCommand('table',new a.dialogCommand('table'));l.addCommand('tableProperties',new a.dialogCommand('tableProperties'));l.ui.addButton('Table',{label:n.toolbar,command:'table'});a.dialog.add('table',this.path+'dialogs/table.js');a.dialog.add('tableProperties',this.path+'dialogs/table.js');if(l.addMenuItems)l.addMenuItems({table:{label:n.menu,command:'tableProperties',group:'table',order:5},tablecell:{label:n.cell.menu,group:'tablecell',order:1,getItems:function(){return{tablecell_insertBefore:2,tablecell_insertAfter:2,tablecell_delete:2};}},tablecell_insertBefore:{label:n.cell.insertBefore,group:'tablecell',order:5},tablecell_insertAfter:{label:n.cell.insertAfter,group:'tablecell',order:10},tablecell_delete:{label:n.cell.deleteCell,group:'tablecell',order:15},tablerow:{label:n.row.menu,group:'tablerow',order:1,getItems:function(){return{tablerow_insertBefore:2,tablerow_insertAfter:2,tablerow_delete:2};}},tablerow_insertBefore:{label:n.row.insertBefore,group:'tablerow',order:5},tablerow_insertAfter:{label:n.row.insertAfter,group:'tablerow',order:10},tablerow_delete:{label:n.row.deleteRow,group:'tablerow',order:15},tablecolumn:{label:n.column.menu,group:'tablecolumn',order:1,getItems:function(){return{tablecolumn_insertBefore:2,tablecolumn_insertAfter:2,tablecolumn_delete:2};}},tablecolumn_insertBefore:{label:n.column.insertBefore,group:'tablecolumn',order:5},tablecolumn_insertAfter:{label:n.column.insertAfter,group:'tablecolumn',order:10},tablecolumn_delete:{label:n.column.deleteColumn,group:'tablecolumn',order:15}});if(l.contextMenu)l.contextMenu.addListener(function(o,p){if(!o)return;var q=o.is('table'),r=!q&&o.hasAscendant('table');if(q||r){var s=r?{tablecell:2,tablerow:2,tablecolumn:2}:{};s.tabledelete=2;s.table=2;return s;}return null;});}});j.add('specialchar',{init:function(l){var m='specialchar';a.dialog.add(m,this.path+'dialogs/specialchar.js');l.addCommand(m,new a.dialogCommand(m));l.ui.addButton('SpecialChar',{label:l.lang.specialChar.toolbar,command:m});}});(function(){var l={exec:function(n){n.container.focusNext(true);
}},m={exec:function(n){n.container.focusPrevious(true);}};j.add('tab',{requires:['keystrokes'],init:function(n){var o=n.keystrokeHandler.keystrokes;o[9]='tab';o[2000+9]='shiftTab';var p=n.config.tabSpaces,q='';while(p--)q+='\xa0';n.addCommand('tab',{exec:function(r){if(!r.fire('tab'))if(q.length>0)r.insertHtml(q);else return r.execCommand('blur');return true;}});n.addCommand('shiftTab',{exec:function(r){if(!r.fire('shiftTab'))return r.execCommand('blurBack');return true;}});n.addCommand('blur',l);n.addCommand('blurBack',m);}});})();g.prototype.focusNext=function(l){var u=this;var m=u.$,n=u.getTabIndex(),o,p,q,r,s,t;if(n<=0){var s=u.getNextSourceNode(l,1);while(s){if(s.isVisible()&&s.getTabIndex()===0){q=s;break;}s=s.getNextSourceNode(false,1);}}else{var s=u.getDocument().getBody().getFirst();while(s=s.getNextSourceNode(false,1)){if(!o)if(!p&&s.equals(u)){p=true;if(l){if(!(s=s.getNextSourceNode(true,1)))break;o=1;}}else if(p&&!u.contains(s))o=1;if(!s.isVisible()||(t=s.getTabIndex())<(0))continue;if(o&&t==n){q=s;break;}if(t>n&&(!q||!r||t<r)){q=s;r=t;}else if(!q&&t===0){q=s;r=t;}}}if(q)q.focus();};g.prototype.focusPrevious=function(l){var u=this;var m=u.$,n=u.getTabIndex(),o,p,q,r=0,s,t=u.getDocument().getBody().getLast();while(t=t.getPreviousSourceNode(false,1)){if(!o)if(!p&&t.equals(u)){p=true;if(l){if(!(t=t.getPreviousSourceNode(true,1)))break;o=1;}}else if(p&&!u.contains(t))o=1;if(!t.isVisible()||(s=t.getTabIndex())<(0))continue;if(n<=0){if(o&&s===0){q=t;break;}if(s>r){q=t;r=s;}}else{if(o&&s==n){q=t;break;}if(s<n&&(!q||s>r)){q=t;r=s;}}}if(q)q.focus();};i.tabSpaces=0;(function(){j.add('templates',{requires:['dialog'],init:function(n){a.dialog.add('templates',a.getUrl(this.path+'dialogs/templates.js'));n.addCommand('templates',new a.dialogCommand('templates'));n.ui.addButton('Templates',{label:n.lang.templates.button,command:'templates'});}});var l={},m={};a.addTemplates=function(n,o){l[n]=o;};a.getTemplates=function(n){return l[n];};a.loadTemplates=function(n,o){var p=[];for(var q=0;q<n.length;q++)if(!m[n[q]]){p.push(n[q]);m[n[q]]=1;}if(p.length>0)a.scriptLoader.load(p,o);else setTimeout(o,0);};})();i.templates='default';i.templates_files=[a.getUrl('plugins/templates/templates/default.js')];i.templates_replaceContent=true;(function(){var l=function(){this.toolbars=[];this.focusCommandExecuted=false;};l.prototype.focus=function(){for(var n=0,o;o=this.toolbars[n++];)for(var p=0,q;q=o.items[p++];)if(q.focus){q.focus();return;}};var m={toolbarFocus:{exec:function(n){if(n.toolbox){n.toolbox.focusCommandExecuted=true;
n.toolbox.focus();}}}};j.add('toolbar',{init:function(n){var o=function(p,q){switch(q){case 39:case 9:while((p=p.next||p.toolbar.next&&p.toolbar.next.items[0])&&(!p.focus)){}if(p)p.focus();else n.toolbox.focus();return false;case 37:case 2000+9:while((p=p.previous||p.toolbar.previous&&p.toolbar.previous.items[p.toolbar.previous.items.length-1])&&(!p.focus)){}if(p)p.focus();else{var r=n.toolbox.toolbars[n.toolbox.toolbars.length-1].items;r[r.length-1].focus();}return false;case 27:n.focus();return false;case 13:case 32:p.execute();return false;}return true;};n.on('themeSpace',function(p){if(p.data.space==n.config.toolbarLocation){n.toolbox=new l();var q=['<div class="cke_toolbox">'],r=n.toolbox.toolbars,s=n.config.toolbar;for(var t=0;t<s.length;t++){var u=s[t],v='cke_'+e.getNextNumber(),w={id:v,items:[]};if(u==='/'){q.push('<div class="cke_break"></div>');continue;}q.push('<div id="',v,'" class="cke_toolbar">');var x=r.push(w)-1;if(x>0){w.previous=r[x-1];w.previous.next=w;}for(var y=0;y<u.length;y++){var z,A=u[y];if(A=='-')z=k.separator;else z=n.ui.create(A);if(z){var B=z.render(n,q);x=w.items.push(B)-1;if(x>0){B.previous=w.items[x-1];B.previous.next=B;}B.toolbar=w;B.onkey=o;B.onfocus=function(){if(!n.toolbox.focusCommandExecuted)n.focus();};}}q.push('</div>');}q.push('</div>');p.data.html+=q.join('');}});n.addCommand('toolbarFocus',m.toolbarFocus);}});})();k.separator={render:function(l,m){m.push('<span class="cke_separator"></span>');return{};}};i.toolbarLocation='top';i.toolbar=[['Source','-','Save','NewPage','Preview','-','Templates'],['Cut','Copy','Paste','PasteText','PasteFromWord','-','Print','SpellChecker'],['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'],['Form','Checkbox','Radio','TextField','Textarea','Select','Button','ImageButton','HiddenField'],'/',['Bold','Italic','Underline','Strike','-','Subscript','Superscript'],['NumberedList','BulletedList','-','Outdent','Indent','Blockquote'],['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'],['Link','Unlink','Anchor'],['Image','Flash','Table','HorizontalRule','Smiley','SpecialChar','PageBreak'],'/',['Styles','Format','Font','FontSize'],['TextColor','BGColor'],['ShowBlocks']];(function(){j.add('undo',{requires:['selection','wysiwygarea'],init:function(n){var o=new m(n),p=n.addCommand('undo',{exec:function(){if(o.undo()){n.selectionChange();this.fire('afterUndo');}},state:0,canUndo:false}),q=n.addCommand('redo',{exec:function(){if(o.redo()){n.selectionChange();this.fire('afterRedo');
}},state:0,canUndo:false});o.onChange=function(){p.setState(o.undoable()?2:0);q.setState(o.redoable()?2:0);};function r(s){if(o.enabled&&s.data.command.canUndo!==false)o.save();};n.on('beforeCommandExec',r);n.on('afterCommandExec',r);n.on('mode',function(){if(n.mode=='wysiwyg')if(!o.enabled){o.enabled=true;n.document.on('keydown',function(s){if(!s.data.$.ctrlKey&&!s.data.$.metaKey)o.type();});if(o.index==-1)o.save();}else o.enabled=false;o.onChange();});n.ui.addButton('Undo',{label:n.lang.undo,command:'undo'});n.ui.addButton('Redo',{label:n.lang.redo,command:'redo'});}});function l(n){var p=this;var o=n.getSelection();p.contents=n.getSnapshot();p.bookmarks=o&&o.createBookmarks2(true);if(c)p.contents=p.contents.replace(/\s+_cke_expando=".*?"/g,'');};l.prototype={equals:function(n,o){if(this.contents!=n.contents)return false;if(o)return true;var p=this.bookmarks,q=n.bookmarks;if(p||q){if(!p||!q||p.length!=q.length)return false;for(var r=0;r<p.length;r++){var s=p[r],t=q[r];if(s.startOffset!=t.startOffset||s.endOffset!=t.endOffset||!e.arrayCompare(s.start,t.start)||!e.arrayCompare(s.end,t.end))return false;}}return true;}};function m(n){var o=this;o.typesCount=0;o.editor=n;o.snapshots=[];o.index=-1;o.limit=n.config.undoStackSize;};m.prototype={type:function(){if(!this.typing){var n=new l(this.editor);e.setTimeout(function(){var p=this;var o=p.editor.getSnapshot();if(c)o=o.replace(/\s+_cke_expando=".*?"/g,'');if(n.contents!=o){if(!p.save(false,n))p.snapshots.splice(p.index+1,p.snapshots.length-p.index-1);p.hasUndo=true;p.hasRedo=false;p.typesCount=1;p.typing=true;p.onChange();}},0,this);return;}this.typesCount++;if(this.typesCount>25){this.save();this.typesCount=1;}this.typing=true;},fireChange:function(){var n=this;n.hasUndo=!!n.getNextImage(true);n.hasRedo=!!n.getNextImage(false);n.typing=false;n.typesCount=0;n.onChange();},save:function(n,o){var q=this;var p=q.snapshots;if(!o)o=new l(q.editor);if(q.currentImage&&o.equals(q.currentImage,n))return false;p.splice(q.index+1,p.length-q.index-1);if(p.length==q.limit)p.shift();q.index=p.push(o)-1;q.currentImage=o;q.fireChange();return true;},restoreImage:function(n){var o=this;o.editor.loadSnapshot(n.contents);if(n.bookmarks)o.editor.getSelection().selectBookmarks(n.bookmarks);o.index=n.index;o.currentImage=n;o.fireChange();},getNextImage:function(n){var s=this;var o=s.snapshots,p=s.currentImage,q,r;if(p)if(n)for(r=s.index-1;r>=0;r--){q=o[r];if(!p.equals(q,true)){q.index=r;return q;}}else for(r=s.index+1;r<o.length;
r++){q=o[r];if(!p.equals(q,true)){q.index=r;return q;}}return null;},redoable:function(){return this.enabled&&this.hasRedo;},undoable:function(){return this.enabled&&this.hasUndo;},undo:function(){var o=this;if(o.undoable()){o.save(true);var n=o.getNextImage(true);if(n)return o.restoreImage(n),true;}return false;},redo:function(){var o=this;if(o.redoable()){o.save(true);if(o.redoable()){var n=o.getNextImage(false);if(n)return o.restoreImage(n),true;}}return false;}};})();i.undoStackSize=20;(function(){function l(n){var q=this;if(q.mode=='wysiwyg'){var o=q.document.$,p=n.data;if(q.dataProcessor)p=q.dataProcessor.toHtml(p);if(c)o.selection.createRange().pasteHTML(p);else o.execCommand('inserthtml',false,p);}};function m(n){if(this.mode=='wysiwyg'){var o=n.data,p=o.getName(),q=f.$block[p],r=this.getSelection(),s=r.getRanges(),t,u,v,w;for(var x=s.length-1;x>=0;x--){t=s[x];t.deleteContents();u=!x&&o||o.clone(true);var y;if(this.config.enterMode!=2&&q){var z=new d.elementPath(t.startContainer),A=0,B;while((B=z.elements[A++])&&(B!=z.blockLimit)){var C=B.getName(),D=f[C];if(D&&!D[p])y=B;}}t.insertNode(u);if(y)u.breakParent(y);if(!v)v=u;}t.moveToPosition(v,4);var E=v.getNextSourceNode(true);if(E&&E.type==1)t.moveToElementEditStart(E);r.selectRanges([t]);}};j.add('wysiwygarea',{requires:['editingblock'],init:function(n){n.on('editingBlockReady',function(){var o,p,q,r,s,t=c&&document.domain!=window.location.hostname,u=function(){if(p)p.remove();p=new g('iframe').setAttributes({frameBorder:0,tabIndex:-1,allowTransparency:true}).setStyles({width:'100%',height:'100%'});if(c)if(t)p.setAttribute('src','javascript:void( (function(){document.open();document.domain="'+document.domain+'";'+'document.write( window.parent._cke_htmlToLoad_'+n.name+' );'+'document.close();'+'window.parent._cke_htmlToLoad_'+n.name+' = null;'+'})() )');else p.setAttribute('src','javascript:void(0)');o.append(p);if(b.gecko){o.setAttributes({role:'region',title:'CKEditor '+n.name+'. Type in text.'});p.setAttributes({role:'region',title:' '});}else if(c){var x=a.document.createElement('label');x.setStyles({position:'absolute',top:'-1000000px',left:'-1000000px'});x.append(a.document.createText('CKEditor '+n.name));x.insertBefore(p);}},v='<script id="cke_actscrpt" type="text/javascript">window.onload = function(){var s = document.getElementById( "cke_actscrpt" );s.parentNode.removeChild( s );window.parent.CKEDITOR._.contentDomReady'+n.name+'( window );'+'}'+'</script>',w=function(x){delete a._['contentDomReady'+n.name];
var y=x.document,z=y.body;z.spellcheck=!n.config.disableNativeSpellChecker;if(c){z.hideFocus=true;z.disabled=true;z.contentEditable=true;z.removeAttribute('disabled');}else y.designMode='on';try{y.execCommand('enableObjectResizing',false,!n.config.disableObjectResizing);}catch(C){}try{y.execCommand('enableInlineTableEditing',false,!n.config.disableNativeTableHandles);}catch(D){}x=n.window=new d.window(x);y=n.document=new h(y);var A=c||b.safari?x:y;A.on('blur',function(){n.focusManager.blur();});A.on('focus',function(){n.focusManager.focus();});var B=n.keystrokeHandler;if(B)B.attach(y);if(n.contextMenu)n.contextMenu.addTarget(y);setTimeout(function(){n.fire('contentDom');if(s){n.mode='wysiwyg';n.fire('mode');s=false;}q=false;if(r){n.focus();r=false;}},0);};n.addMode('wysiwyg',{load:function(x,y,z){o=x;if(!t||!b.gecko)u();n.mayBeDirty=true;s=true;if(z)this.loadSnapshotData(y);else this.loadData(y);},loadData:function(x){q=true;if(n.dataProcessor)x=n.dataProcessor.toHtml(x,n.config.enterMode!=2);x=n.config.docType+'<html dir="'+n.config.contentsLangDirection+'">'+'<head>'+'<link href="'+n.config.contentsCss+'" type="text/css" rel="stylesheet" _fcktemp="true"/>'+'<style type="text/css" _fcktemp="true">'+n._.styles.join('\n')+'</style>'+'</head>'+'<body>'+x+'</body>'+'</html>'+v;if(t)window['_cke_htmlToLoad_'+n.name]=x;a._['contentDomReady'+n.name]=w;if(t||b.gecko)u();if(!t){var y=p.$.contentWindow.document;y.open();y.write(x);y.close();}},getData:function(){var x=p.$.contentWindow.document.body.innerHTML;if(n.dataProcessor)x=n.dataProcessor.toDataFormat(x,n.config.enterMode!=2);return x;},getSnapshotData:function(){return p.$.contentWindow.document.body.innerHTML;},loadSnapshotData:function(x){p.$.contentWindow.document.body.innerHTML=x;},unload:function(x){n.window=n.document=p=o=r=null;n.fire('contentDomUnload');},focus:function(){if(q)r=true;else if(n.window){n.window.focus();n.selectionChange();}}});n.on('insertHtml',l,null,null,20);n.on('insertElement',m,null,null,20);});}});})();i.disableObjectResizing=false;i.disableNativeTableHandles=true;i.disableNativeSpellChecker=true;j.add('wsc',{init:function(l){var m='checkspell',n=l.addCommand(m,new a.dialogCommand(m));if(b.opera)n.state=0;l.ui.addButton('SpellChecker',{label:l.lang.spellCheck.title,command:m});a.dialog.add(m,this.path+'dialogs/wsc.js');}});i.wsc_customerId=i.wsc_customerId||'1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk';i.wsc_customLoaderScript=i.wsc_customLoaderScript||null;
j.add('styles',{requires:['selection']});a.editor.prototype.attachStyleStateChange=function(l,m){var n=this._.styleStateChangeCallbacks;if(!n){n=this._.styleStateChangeCallbacks=[];this.on('selectionChange',function(o){for(var p=0;p<n.length;p++){var q=n[p],r=q.style.checkActive(o.data.path)?1:2;if(q.state!==r){q.fn.call(this,r);q.state!==r;}}});}n.push({style:l,fn:m});};a.STYLE_BLOCK=1;a.STYLE_INLINE=2;a.STYLE_OBJECT=3;(function(){var l={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1},m={a:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,ul:1},n=/\s*(?:;\s*|$)/;a.style=function(F,G){if(G){F=e.clone(F);z(F.attributes,G);z(F.styles,G);}var H=this.element=(F.element||'*').toLowerCase();this.type=H=='#'||l[H]?1:m[H]?3:2;this._={definition:F};};a.style.prototype={apply:function(F){E.call(this,F,false);},remove:function(F){E.call(this,F,true);},applyToRange:function(F){var G=this;return(G.applyToRange=G.type==2?o:G.type==1?q:null).call(G,F);},removeFromRange:function(F){return(this.removeFromRange=this.type==2?p:null).call(this,F);},applyToObject:function(F){x(F,this);},checkActive:function(F){switch(this.type){case 1:return this.checkElementRemovable(F.block||F.blockLimit,true);case 2:var G=F.elements;for(var H=0,I;H<G.length;H++){I=G[H];if(I==F.block||I==F.blockLimit)continue;if(this.checkElementRemovable(I,true))return true;}}return false;},checkElementRemovable:function(F,G){if(!F||F.getName()!=this.element)return false;var H=this._.definition,I;if(!G&&!F.hasAttributes())return true;I=B(H);if(I._length)for(var J in I){if(J=='_length')continue;if(D(J,I[J],F.getAttribute(J)))if(!G)return true;else if(G)return false;}return true;}};a.style.getStyleText=function(F){var G=F._ST;if(G)return G;G=F.styles;var H=F.attributes&&F.attributes.style||'';if(H.length)H=H.replace(n,';');for(var I in G)H+=I+':'+G[I]+';';if(H.length){H=C(H);if(H.length)H=H.replace(n,';');}return F._ST=H;};function o(F){var ac=this;var G=F.document;if(F.collapsed){var H=w(ac,G);F.insertNode(H);F.moveToPosition(H,2);return;}var I=ac.element,J=ac._.definition,K,L=f[I]||(K=true,f.span),M=F.createBookmark();F.enlarge(1);F.trim();var N=F.startContainer.getChild(F.startOffset)||F.startContainer.getNextSourceNode(),O=F.endContainer.getChild(F.endOffset)||(F.endOffset?F.endContainer.getNextSourceNode():F.endContainer);if(O.equals(N)){O=O.getNextSourceNode(true);if(!O){O=G.createText('');O.insertAfter(N);}}var P=N,Q,R;while(P){var S=false;if(P.equals(O)){P=null;S=true;}else{var T=P.type,U=T==1?P.getName():null;
if(U&&P.getAttribute('_fck_bookmark')){P=P.getNextSourceNode(true);continue;}if(!U||L[U]&&(P.getPosition(O)|4|0|8)==(4+0+8)){var V=P.getParent();if(V&&((V.getDtd()||f.span)[I]||K)){if(!Q&&(!U||!f.$removeEmpty[U]||(P.getPosition(O)|4|0|8)==(4+0+8))){Q=new d.range(G);Q.setStartBefore(P);}if(T==3||T==1&&!P.getChildCount()&&P.$.offsetWidth){var W=P,X;while(!W.$.nextSibling&&(X=W.getParent(),L[X.getName()])&&((X.getPosition(N)|2|0|8)==(2+0+8)))W=X;Q.setEndAfter(W);if(!W.$.nextSibling)S=true;if(!R)R=T!=3||/[^\s\ufeff]/.test(P.getText());}}else S=true;}else S=true;P=P.getNextSourceNode();}if(S&&R&&Q&&!Q.collapsed){var Y=w(ac,G),Z=Q.getCommonAncestor();while(Y&&Z){if(Z.getName()==I){for(var aa in J.attribs)if(Y.getAttribute(aa)==Z.getAttribute(aa))Y.removeAttribute(aa);for(var ab in J.styles)if(Y.getStyle(ab)==Z.getStyle(ab))Y.removeStyle(ab);if(!Y.hasAttributes()){Y=null;break;}}Z=Z.getParent();}if(Y){Q.extractContents().appendTo(Y);s(ac,Y);Q.insertNode(Y);u(Y);if(!c)Y.$.normalize();}Q=null;}}F.moveToBookmark(M);};function p(F){F.enlarge(1);var G=F.createBookmark(true),H=F.document.getById(G.startNode);if(F.collapsed){var I=new d.elementPath(H.getParent());for(var J=0,K;J<I.elements.length&&(K=I.elements[J]);J++){if(K==I.block||K==I.blockLimit)break;if(this.checkElementRemovable(K)){u(K);r(this,K);}}}else{var L=F.document.getById(G.endNode),M=this;function N(){var Q=new d.elementPath(H.getParent()),R=new d.elementPath(L.getParent()),S=null,T=null;for(var U=0;U<Q.elements.length;U++){var V=Q.elements[U];if(V==Q.block||V==Q.blockLimit)break;if(M.checkElementRemovable(V))S=V;}for(var U=0;U<R.elements.length;U++){var V=R.elements[U];if(V==R.block||V==R.blockLimit)break;if(M.checkElementRemovable(V))T=V;}if(T)L.breakParent(T);if(S)H.breakParent(S);};N();var O=H.getNext();while(!O.equals(L)){var P=O.getNextSourceNode();if(O.type==1&&this.checkElementRemovable(O)){r(this,O);if(P.type==1&&P.contains(H)){N();P=H.getNext();}}O=P;}}F.moveToBookmark(G);};function q(F){var G=F.createBookmark(),H=F.createIterator();H.enforceRealBlocks=true;var I,J=F.document,K;while(I=H.getNextParagraph()){var L=w(this,J);I.moveChildren(L);L.insertBefore(I);I.remove();}F.moveToBookmark(G);};function r(F,G){var H=F._.definition,I=H.attributes,J=H.styles;for(var K in I){if(K=='class'&&G.getAttribute(K)!=I[K])continue;G.removeAttribute(K);}for(var L in J)G.removeStyle(L);t(G);};function s(F,G){var H=F._.definition,I=H.attributes,J=H.styles,K=G.getElementsByTag(F.element);for(var L=K.count();--L>=0;
)r(F,K.getItem(L));};function t(F){if(!F.hasAttributes()){var G=F.getFirst(),H=F.getLast();F.remove(true);if(G){u(G);if(H&&!G.equals(H))u(H);}}};function u(F){if(!F||F.type!=1||!f.$removeEmpty[F.getName()])return;v(F,F.getNext(),true);v(F,F.getPrevious());};function v(F,G,H){if(G&&G.type==1){var I=G.getAttribute('_fck_bookmark');if(I)G=H?G.getNext():G.getPrevious();if(G&&G.type==1&&F.isIdentical(G)){var J=H?F.getLast():F.getFirst();if(I)(H?G.getPrevious():G.getNext()).move(F,!H);G.moveChildren(F,!H);G.remove();if(J)u(J);}}};function w(F,G){var H,I=F._.definition,J=F.element;if(J=='*')J='span';H=new g(J,G);return x(H,F);};function x(F,G){var H=G._.definition,I=H.attributes,J=a.style.getStyleText(H);if(I)for(var K in I)F.setAttribute(K,I[K]);if(J)F.setAttribute('style',J);return F;};var y=/#\((.+?)\)/g;function z(F,G){for(var H in F)F[H]=F[H].replace(y,function(I,J){return G[J];});};var A=/\s+/g;function B(F){var G=F._AC;if(G)return G;G={};var H=0,I=F.attributes;if(I)for(var J in I){H++;G[J.toLowerCase()]=I[J].toLowerCase();}var K=a.style.getStyleText(F);if(K.length>0){if(!G.style)H++;G.style=K.replace(A,'').toLowerCase();}G._length=H;return F._AC=G;};function C(F){var G=document.createElement('span');G.style.cssText=F;return G.style.cssText;};function D(F,G,H){if(G==H||!G&&!H)return true;else if(!G||!H)return false;H=H.toLowerCase();if(F=='style'){H=H.replace(A,'');if(H.charAt(H.length-1)!=';')H+=';';}return G==H;};function E(F,G){var H=F.getSelection(),I=H.getRanges(),J=G?this.removeFromRange:this.applyToRange;for(var K=0;K<I.length;K++)J.call(this,I[K]);H.selectRanges(I);};})();a.styleCommand=function(l){this.style=l;};a.styleCommand.prototype.exec=function(l){var n=this;l.focus();var m=l.document;if(m)if(n.state==2)n.style.apply(m);else if(n.state==1)n.style.remove(m);return!!m;};j.add('domiterator');(function(){function l(q){var r=q.startContainer;if(q.collapsed||r.type!=1)return r;return r.getChildCount()>q.startOffset?r.getChild(q.startOffset):r;};function m(q){var r=q.endContainer;if(q.collapsed||r.type!=1)return r;return r.getChildCount()>q.endOffset?r.getChild(q.endOffset):r;};function n(q,r,s,t){if(!q)return null;var u;if(!r&&q.getFirst&&q.getFirst())u=q.getFirst();else{if(t&&q.equals(t))return null;u=q.getNext();if(!u&&(!t||!t.equals(q.parentNode)))return n(q.getParent(),true,s,t);}if(s&&u&&u.type!=s)return n(u,false,s,t);return u;};var o=function(q){var r=this;if(arguments.length<1)return;r.range=q;r.forceBrBreak=false;r.enforceRealBlocks=false;r._||(r._={});
},p=/^[\r\n\t ]+$/;o.prototype={getNextParagraph:function(q){var L=this;var r,s,t,u,v;if(!L._.lastNode){s=L.range.clone();s.enlarge(L.forceBrBreak?3:2);L._.nextNode=l(s);L._.lastNode=m(s);s=null;}var w=L._.nextNode,x=L._.lastNode;L._.nextNode=null;while(w){var y=false,z=w.type!=1,A=false;if(!z){var B=w.getName();if(w.isBlockBoundary(L.forceBrBreak&&{br:1})){if(B=='br')z=true;else if(!s&&w.getChildCount()==0&&B!='hr'){r=w;t=w.equals(x);break;}if(s){s.setEndAt(w,3);if(B!='br')L._.nextNode=n(w,true,null,x)||w;}y=true;}else{if(w.getFirst()){if(!s){s=new d.range(L.range.document);s.setStartAt(w,3);}w=w.getFirst();continue;}z=true;}}else if(w.type==3)if(p.test(w.getText()))z=false;if(z&&!s){s=new d.range(L.range.document);s.setStartAt(w,3);}t=(!y||z)&&(w.equals(x));if(s&&!y)while(!w.getNext()&&!t){var C=w.getParent();if(C.isBlockBoundary(L.forceBrBreak&&{br:1})){y=true;t=t||C.equals(x);break;}w=C;z=true;t=w.equals(x);A=true;}if(z)s.setEndAt(w,4);if((y||t)&&(s)){var D=s.getBoundaryNodes(),E=new d.elementPath(s.startContainer),F=new d.elementPath(s.endContainer);if(D.startNode.equals(D.endNode)&&D.startNode.getParent().equals(E.blockLimit)&&D.startNode.type==1&&D.startNode.getAttribute('_fck_bookmark'))s=null;else break;}if(t)break;w=n(w,A,null,x);}if(!r){if(!s){L._.nextNode=null;return null;}var E=new d.elementPath(s.startContainer),G=E.blockLimit,H={div:1,th:1,td:1};r=E.block;if(!r&&!L.enforceRealBlocks&&H[G.getName()]&&s.checkStartOfBlock()&&s.checkEndOfBlock())r=G;else if(!r||L.enforceRealBlocks&&r.getName()=='li'){r=L.range.document.createElement(q||'p');s.extractContents().appendTo(r);r.trim();s.insertNode(r);u=v=true;}else if(r.getName()!='li')if(!s.checkStartOfBlock()||!s.checkEndOfBlock()){r=r.clone(false);s.extractContents().appendTo(r);r.trim();var I=s.splitBlock();u=!I.wasStartOfBlock;v=!I.wasEndOfBlock;s.insertNode(r);}else if(!t)L._.nextNode=r.equals(x)?null:n(s.getBoundaryNodes().endNode,true,null,x);}if(u){var J=r.getPrevious();if(J&&J.type==1)if(J.getName()=='br')J.remove();else if(J.getLast()&&J.getLast().$.nodeName.toLowerCase()=='br')J.getLast().remove();}if(v){var K=r.getLast();if(K&&K.type==1&&K.getName()=='br')K.remove();}if(!L._.nextNode)L._.nextNode=t||r.equals(x)?null:n(r,true,null,x);return r;}};d.range.prototype.createIterator=function(){return new o(this);};})();j.add('panelbutton',{requires:['button'],beforeInit:function(l){l.ui.addHandler(4,k.panelButton.handler);}});a.UI_PANELBUTTON=4;k.panelButton=e.createClass({$:function(l){var n=this;
e.extend(n,l,{title:l.label,modes:{wysiwyg:1}});var m=n.panel;delete n.panel;n.document=m&&m.parent&&m.parent.getDocument()||a.document;n._={panelDefinition:m};},statics:{handler:{create:function(l){return new k.panelButton(l);}}},proto:{render:function(l,m){var n=this._.id='cke_'+e.getNextNumber(),o={id:n,focus:function(){var t=a.document.getById(n);t.focus();},execute:function(){this.button.click(l);}},p=e.addFunction(function(t){var u=this._;if(u.state==0)return;this.createPanel(l);if(u.on){u.panel.hide();return;}u.panel.showBlock(this._.id,new g(t),4);},this),q=e.addFunction(function(t,u){t=new d.event(t);var v=t.getKeystroke();switch(v){case 13:case 32:case 40:e.callFunction(p,u);break;default:o.onkey(o,v);}t.preventDefault();}),r=this.label||'',s='cke_off';if(this.className)s+=' '+this.className;l.on('mode',function(){this.setState(this.modes[l.mode]?2:0);},this);m.push('<span class="cke_button">','<a id="',n,'" class="',s,'" href="javascript:void(\'',(this.title||'').replace("'",''),'\')" title="',this.title,'" tabindex="-1" hidefocus="true"');if(b.opera||b.gecko&&b.mac)m.push(' onkeypress="return false;"');if(b.gecko)m.push(' onblur="this.style.cssText = this.style.cssText;"');m.push(' onkeydown="CKEDITOR.tools.callFunction( ',q,', event, this );" onclick="CKEDITOR.tools.callFunction(',p,', this);"><span class="cke_icon"></span><span class="cke_label">',this.label,'</span><span class="cke_buttonarrow"></span></a></span>');return o;},createPanel:function(l){var m=this._;if(m.panel)return;var n=this._.panelDefinition||{},o=n.parent||a.document.getBody(),p=this._.panel=new k.floatPanel(l,o,n),q=this;p.onShow=function(){if(q.className)this.element.getFirst().addClass(q.className+'_panel');q.setState(1);m.on=1;if(q.onOpen)q.onOpen();};p.onHide=function(){if(q.className)this.element.getFirst().removeClass(q.className+'_panel');q.setState(2);m.on=0;if(q.onClose)q.onClose();};p.onEscape=function(){p.hide();q.document.getById(m.id).focus();};if(this.onBlock)this.onBlock(p,m.id);},setState:k.button.prototype.setState}});j.add('floatpanel',{requires:['panel']});(function(){var l={};function m(n,o,p,q,r){var s=o.getUniqueId()+'-'+p.getUniqueId()+'-'+n.skinName+(q.css&&'-'+q.css||'')+(r&&'-'+r||''),t=l[s];if(!t){t=l[s]=new k.panel(o,q);t.element=p.append(g.createFromHtml(t.renderHtml(n),o));t.element.setStyles({display:'none',position:'absolute'});}return t;};k.floatPanel=e.createClass({$:function(n,o,p,q){p.forceIFrame=true;var r=o.getDocument(),s=m(n,r,o,p,q||0),t=s.element,u=t.getFirst().getFirst();
this.element=t;this._={panel:s,parentElement:o,definition:p,document:r,iframe:u,children:[]};},proto:{addBlock:function(n,o){return this._.panel.addBlock(n,o);},addListBlock:function(n,o){return this._.panel.addListBlock(n,o);},getBlock:function(n){return this._.panel.getBlock(n);},showBlock:function(n,o,p,q,r){var s=this._.panel,t=s.showBlock(n),u=this.element,v=this._.iframe,w=o.getDocumentPosition(u.getDocument()),x=w.x+(q||0),y=w.y+(r||0);if(p==2||p==3)x+=o.$.offsetWidth-1;if(p==3||p==4)y+=o.$.offsetHeight-1;u.setStyles({left:x+'px',top:y+'px',display:''});if(t.autoSize){function z(){u.getFirst().setStyle('height',t.element.$.scrollHeight+'px');};if(!b.gecko||s.isLoaded)z();else s.onLoad=z;}else u.getFirst().removeStyle('height');if(!this._.blurSet){var A=c?v:new d.window(v.$.contentWindow);A.on('blur',function(){if(!this._.activeChild)this.hide();},this);A.on('focus',function(){this._.focused=true;this.hideChild();},this);this._.blurSet=1;}setTimeout(function(){v.$.contentWindow.focus();},0);s.onEscape=e.bind(function(){this.onEscape&&this.onEscape();},this);if(this.onShow)this.onShow.call(this);},hide:function(){var n=this;if(!n.onHide||n.onHide.call(n)!==true){n.hideChild();n.element.setStyle('display','none');}},showAsChild:function(n,o,p,q,r,s){this.hideChild();n.onHide=e.bind(function(){e.setTimeout(function(){if(!this._.focused)this.hide();},0,this);},this);this._.activeChild=n;this._.focused=false;n.showBlock(o,p,q,r,s);},hideChild:function(){var n=this._.activeChild;if(n){delete n.onHide;delete this._.activeChild;n.hide();}}}});})();j.add('menu',{beforeInit:function(l){var m=l.config.menu_groups.split(','),n={};for(var o=0;o<m.length;o++)n[m[o]]=o+1;l._.menuGroups=n;l._.menuItems={};}});e.extend(a.editor.prototype,{addMenuItem:function(l,m){if(this._.menuGroups[m.group])this._.menuItems[l]=new a.menuItem(this,l,m);},addMenuItems:function(l){for(var m in l)this.addMenuItem(m,l[m]);},getMenuItem:function(l){return this._.menuItems[l];}});(function(){a.menu=e.createClass({$:function(m,n){var o=this;o.id='cke_'+e.getNextNumber();o.editor=m;o.items=[];o._.level=n||1;},_:{showSubMenu:function(m){var s=this;var n=s._.subMenu,o=s.items[m],p=o.getItems&&o.getItems();if(!p){s._.panel.hideChild();return;}if(n)n.removeAll();else{n=s._.subMenu=new a.menu(s.editor,s._.level+1);n.parent=s;n.onClick=e.bind(s.onClick,s);}for(var q in p)n.add(s.editor.getMenuItem(q));var r=s._.panel.getBlock(s.id).element.getDocument().getById(s.id+String(m));n.show(r,2);}},proto:{add:function(m){this.items.push(m);
},removeAll:function(){this.items=[];},show:function(m,n,o,p){var q=this.items,r=this.editor,s=this._.panel,t=this._.element;if(!s){s=this._.panel=new k.floatPanel(this.editor,a.document.getBody(),{css:[a.getUrl(r.skinPath+'editor.css')],level:this._.level-1,className:r.skinClass+' cke_contextmenu'},this._.level);s.onEscape=e.bind(function(){this.hide();this.onEscape&&this.onEscape();},this);var u=s.addBlock(this.id);u.autoSize=true;var v=u.keys;v[40]='next';v[9]='next';v[38]='prev';v[2000+9]='prev';v[32]='click';v[39]='click';t=this._.element=u.element;t.addClass(r.skinClass);t.getDocument().getBody().setStyle('overflow','hidden');this._.itemOverFn=e.addFunction(function(B){var C=this;clearTimeout(C._.showSubTimeout);C._.showSubTimeout=e.setTimeout(C._.showSubMenu,r.config.menu_subMenuDelay,C,[B]);},this);this._.itemOutFn=e.addFunction(function(B){clearTimeout(this._.showSubTimeout);},this);this._.itemClickFn=e.addFunction(function(B){var D=this;var C=D.items[B];if(C.getItems)D._.showSubMenu(B);else D.onClick&&D.onClick(C);},this);}l(q);var w=['<div class="cke_menu">'],x=q.length,y=x&&q[0].group;for(var z=0;z<x;z++){var A=q[z];if(y!=A.group){w.push('<div class="cke_menuseparator"></div>');y=A.group;}A.render(this,z,w);}w.push('</div>');t.setHtml(w.join(''));if(this.parent)this.parent._.panel.showAsChild(s,this.id,m,n,o,p);else s.showBlock(this.id,m,n,o,p);},hide:function(){this._.panel&&this._.panel.hide();}}});function l(m){m.sort(function(n,o){if(n.group<o.group)return-1;else if(n.group>o.group)return 1;return n.order<o.order?-1:n.order>o.order?1:0;});};})();a.menuItem=e.createClass({$:function(l,m,n){var o=this;e.extend(o,n,{order:0,className:'cke_button_'+m});o.group=l._.menuGroups[o.group];o.editor=l;o.name=m;},proto:{render:function(l,m,n){var s=this;var o=l.id+String(m),p=s.state||2,q=' cke_'+(p==1?'on':p==0?'disabled':'off');if(s.className)q+=' '+s.className;n.push('<span class="cke_menuitem"><a id="',o,'" class="',q,'" href="javascript:void(\'',(s.label||'').replace("'",''),'\')" title="',s.label,'" tabindex="-1"_cke_focus=1 hidefocus="true"');if(b.opera||b.gecko&&b.mac)n.push(' onkeypress="return false;"');if(b.gecko)n.push(' onblur="this.style.cssText = this.style.cssText;"');var r=(s.iconOffset||0)*(-16);n.push(' onmouseover="CKEDITOR.tools.callFunction(',l._.itemOverFn,',',m,');" onmouseout="CKEDITOR.tools.callFunction(',l._.itemOutFn,',',m,');" onclick="CKEDITOR.tools.callFunction(',l._.itemClickFn,',',m,');"><span class="cke_icon"'+(s.icon?' style="background-image:url('+a.getUrl(s.icon)+');background-position:0 '+r+'px;"':'')+'></span>'+'<span class="cke_label">');
if(s.getItems)n.push('<span class="cke_menuarrow"></span>');n.push(s.label,'</span></a></span>');}}});i.menu_subMenuDelay=400;i.menu_groups='clipboard,form,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea';(function(){var l=function(){var v=this;var s=v.getSelection();if(!s)return;var t=s.getStartElement(),u=new d.elementPath(t);if(!u.compare(v._.selectionPreviousPath)){v._.selectionPreviousPath=u;v.fire('selectionChange',{selection:s,path:u,element:t});}},m,n,o=function(){n=true;if(m)return;p.call(this);m=e.setTimeout(p,200,this);},p=function(){m=null;if(n){e.setTimeout(l,0,this);n=false;}},q={exec:function(s){switch(s.mode){case 'wysiwyg':s.document.$.execCommand('SelectAll',false,null);break;case 'source':}}};j.add('selection',{init:function(s){s.on('contentDom',function(){if(c)s.document.on('selectionchange',o,s);else{s.document.on('mouseup',o,s);s.document.on('keyup',o,s);}});s.addCommand('selectAll',q);s.ui.addButton('SelectAll',{label:s.lang.selectAll,command:'selectAll'});s.selectionChange=o;}});a.editor.prototype.getSelection=function(){var u=this;var s=u.document?u.document.getSelection():null;if(s&&c){var t=s.getNative().createRange();if(!t)return null;else if(t.item)return t.item(0).ownerDocument==u.document.$?s:null;else return t.parentElement().ownerDocument==u.document.$?s:null;}return s;};a.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath;};h.prototype.getSelection=function(){return new d.selection(this);};a.SELECTION_NONE=1;a.SELECTION_TEXT=2;a.SELECTION_ELEMENT=3;d.selection=function(s){this.document=s;this._={cache:{}};};var r={img:1,hr:1,li:1,table:1,tr:1,td:1,embed:1,object:1,ol:1,ul:1};d.selection.prototype={getNative:c?function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.$.selection);}:function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.getWindow().$.getSelection());},getType:c?function(){var v=this;if(v._.cache.type)return v._.cache.type;var s=1;try{var t=v.getNative(),u=t.type;if(u=='Text')s=2;if(u=='Control')s=3;if(t.createRange().parentElement)s=2;}catch(w){}return v._.cache.type=s;}:function(){var w=this;if(w._.cache.type)return w._.cache.type;var s=2,t=w.getNative();if(!t)s=1;else if(t.rangeCount==1){var u=t.getRangeAt(0),v=u.startContainer;if(v==u.endContainer&&v.nodeType==1&&u.endOffset-u.startOffset==1&&r[v.childNodes[u.startOffset].nodeName.toLowerCase()])s=3;}return w._.cache.type=s;
},getRanges:c?(function(){var s=function(t,u){t=t.duplicate();t.collapse(u);var v=t.parentElement(),w=v.childNodes,x;for(var y=0;y<w.length;y++){var z=w[y];if(z.nodeType==1){x=t.duplicate();x.moveToElementText(z);x.collapse();var A=x.compareEndPoints('StartToStart',t);if(A>0)break;else if(A===0)return{container:v,offset:y};x=null;}}if(!x){x=t.duplicate();x.moveToElementText(v);x.collapse(false);}x.setEndPoint('StartToStart',t);var B=x.text.length;while(B>0)B-=w[--y].nodeValue.length;if(B===0)return{container:v,offset:y};else return{container:w[y],offset:-B};};return function(){var D=this;if(D._.cache.ranges)return D._.cache.ranges;var t=D.getNative(),u=t.createRange(),v=D.getType(),w;if(v==2){w=new d.range(D.document);var x=s(u,true);w.setStart(new d.node(x.container),x.offset);x=s(u);w.setEnd(new d.node(x.container),x.offset);return D._.cache.ranges=[w];}else if(v==3){var y=D._.cache.ranges=[];for(var z=0;z<u.length;z++){var A=u.item(z),B=A.parentNode,C=0;w=new d.range(D.document);for(;C<B.childNodes.length&&B.childNodes[C]!=A;C++){}w.setStart(new d.node(B),C);w.setEnd(new d.node(B),C+1);y.push(w);}return y;}return D._.cache.ranges=[];};})():function(){var x=this;if(x._.cache.ranges)return x._.cache.ranges;var s=[],t=x.getNative();for(var u=0;u<t.rangeCount;u++){var v=t.getRangeAt(u),w=new d.range(x.document);w.setStart(new d.node(v.startContainer),v.startOffset);w.setEnd(new d.node(v.endContainer),v.endOffset);s.push(w);}return x._.cache.ranges=s;},getStartElement:function(){var w=this;var s,t=w.getNative();switch(w.getType()){case 3:return w.getSelectedElement();case 2:var u=w.getRanges()[0];if(u)if(!u.collapsed){u.optimize();s=u.startContainer;if(s.type!=1)return s.getParent();s=s.getChild(u.startOffset);if(!s||s.type!=1)return u.startContainer;var v=s.getFirst();while(v&&v.type==1){s=v;v=v.getFirst();}return s;}if(c){u=t.createRange();u.collapse(true);s=u.parentElement();}else{s=t.anchorNode;if(s.nodeType!=1)s=s.parentNode;}}return s?new g(s):null;},getSelectedElement:function(){var s;if(this.getType()==3){var t=this.getNative();if(c)try{s=t.createRange().item(0);}catch(v){}else{var u=t.getRangeAt(0);s=u.startContainer.childNodes[u.startOffset];}}return s?new g(s):null;},reset:function(){this._.cache={};},selectElement:c?function(s){this.getNative().empty();var t;try{t=this.document.$.body.createControlRange();t.addElement(s.$);}catch(u){t=this.document.$.body.createTextRange();t.moveToElementText(s.$);}t.select();}:function(s){var t=this.document.$.createRange();
t.selectNode(s.$);var u=this.getNative();u.removeAllRanges();u.addRange(t);},selectRanges:c?function(s){if(s[0])s[0].select();}:function(s){var t=this.getNative();t.removeAllRanges();for(var u=0;u<s.length;u++){var v=s[u],w=this.document.$.createRange();w.setStart(v.startContainer.$,v.startOffset);w.setEnd(v.endContainer.$,v.endOffset);t.addRange(w);}},createBookmarks:function(s){var t=[],u=this.getRanges();for(var v=0;v<u.length;v++)t.push(u[v].createBookmark(s));return t;},createBookmarks2:function(s){var t=[],u=this.getRanges();for(var v=0;v<u.length;v++)t.push(u[v].createBookmark2(s));return t;},selectBookmarks:function(s){var t=[];for(var u=0;u<s.length;u++){var v=new d.range(this.document);v.moveToBookmark(s[u]);t.push(v);}this.selectRanges(t);return this;}};})();d.range.prototype.select=c?function(){var t=this;var l=t.collapsed,m,n,o=t.createBookmark(),p=o.startNode,q;if(!l)q=o.endNode;var r=t.document.$.body.createTextRange();r.moveToElementText(p.$);r.moveStart('character',1);if(q){var s=t.document.$.body.createTextRange();s.moveToElementText(q.$);r.setEndPoint('EndToEnd',s);r.moveEnd('character',-1);}else{n=t.document.createElement('span');n.setHtml('&#65279;');n.insertBefore(p);t.document.createText('?').insertBefore(p);}t.setStartBefore(p);p.remove();if(l){r.moveStart('character',-1);r.select();t.document.$.selection.clear();n.remove();}else{t.setEndBefore(q);q.remove();r.select();}}:function(){var o=this;var l=o.startContainer;if(o.collapsed&&l.type==1&&!l.getChildCount())l.append(new d.text(''));var m=o.document.$.createRange();m.setStart(l.$,o.startOffset);try{m.setEnd(o.endContainer.$,o.endOffset);}catch(p){if(p.toString().indexOf('NS_ERROR_ILLEGAL_VALUE')>=0){o.collapse(true);m.setEnd(o.endContainer.$,o.endOffset);}else throw p;}var n=o.document.getSelection().getNative();n.removeAllRanges();n.addRange(m);};(function(){var l={elements:{$:function(m,n){var o=m.attributes._cke_realelement;realFragment=o&&new a.htmlParser.fragment.fromHtml(decodeURIComponent(o),n),realElement=realFragment&&realFragment.children[0];if(realElement){var p=m.attributes.style;if(p){var q=/(?:^|\s)width\s*:\s*(\d+)/.exec(p),r=q&&q[1];q=/(?:^|\s)height\s*:\s*(\d+)/.exec(p);var s=q&&q[1];if(r)realElement.attributes.width=r;if(s)realElement.attributes.height=s;}}return realElement;}}};j.add('fakeobjects',{requires:['htmlwriter'],afterInit:function(m){var n=m.dataProcessor,o=n&&n.htmlFilter;if(o)o.addRules(l);}});})();a.editor.prototype.createFakeElement=function(l,m,n,o){var p={'class':m,src:a.getUrl('images/spacer.gif'),_cke_realelement:encodeURIComponent(l.getOuterHtml())};
if(n)p._cke_real_element_type=n;if(o)p._cke_resizable=o;return this.document.createElement('img',{attributes:p});};a.editor.prototype.createFakeParserElement=function(l,m,n,o){var p=new a.htmlParser.basicWriter();l.writeHtml(p);var q=p.getHtml(),r={'class':m,src:a.getUrl('images/spacer.gif'),_cke_realelement:encodeURIComponent(q)};if(n)r._cke_real_element_type=n;if(o)r._cke_resizable=o;return new a.htmlParser.element('img',r);};a.editor.prototype.restoreRealElement=function(l){var m=decodeURIComponent(l.getAttribute('_cke_realelement'));return g.createFromHtml(m,this.document);};j.add('richcombo',{requires:['floatpanel','listblock','button'],beforeInit:function(l){l.ui.addHandler(3,k.richCombo.handler);}});a.UI_RICHCOMBO=3;k.richCombo=e.createClass({$:function(l){var n=this;e.extend(n,l,{title:l.label,modes:{wysiwyg:1}});var m=n.panel||{};delete n.panel;n.id=e.getNextNumber();n.document=m&&m.parent&&m.parent.getDocument()||a.document;m.className=(m.className||'')+(' cke_rcombopanel');n._={panelDefinition:m,items:{},state:2};},statics:{handler:{create:function(l){return new k.richCombo(l);}}},proto:{renderHtml:function(l){var m=[];this.render(l,m);return m.join('');},render:function(l,m){var n='cke_'+this.id,o=e.addFunction(function(r){var u=this;var s=u._;if(s.state==0)return;u.createPanel(l);if(s.on){s.panel.hide();return;}if(!s.committed){s.list.commit();s.committed=1;}var t=u.getValue();if(t)s.list.mark(t);else s.list.unmarkAll();s.panel.showBlock(u.id,new g(r).getFirst(),4);},this),p={id:n,combo:this,focus:function(){var r=a.document.getById(n).getChild(1);r.focus();},execute:o};l.on('mode',function(){this.setState(this.modes[l.mode]?2:0);},this);var q=e.addFunction(function(r,s){r=new d.event(r);var t=r.getKeystroke();switch(t){case 13:case 32:case 40:e.callFunction(o,s);break;default:p.onkey(p,t);}r.preventDefault();});m.push('<span class="cke_rcombo">','<span id=',n);if(this.className)m.push(' class="',this.className,' cke_off"');m.push('><span class=cke_label>',this.label,'</span><a hidefocus=true title="',this.title,'" tabindex="-1" href="javascript:void(\'',this.label,"')\"");if(b.opera||b.gecko&&b.mac)m.push(' onkeypress="return false;"');if(b.gecko)m.push(' onblur="this.style.cssText = this.style.cssText;"');m.push(' onkeydown="CKEDITOR.tools.callFunction( ',q,', event, this );" onmousedown="CKEDITOR.tools.callFunction(',o,', this);"><span id="',n,'_text" class=cke_text>&nbsp;</span><span class=cke_openbutton></span></a></span></span>');if(this.onRender)this.onRender();
return p;},createPanel:function(l){if(this._.panel)return;var m=this._.panelDefinition,n=m.parent||a.document.getBody(),o=new k.floatPanel(l,n,m),p=o.addListBlock(this.id,this.multiSelect),q=this;o.onShow=function(){if(q.className)this.element.getFirst().addClass(q.className+'_panel');q.setState(1);p.focus(!q.multiSelect&&q.getValue());q._.on=1;if(q.onOpen)q.onOpen();};o.onHide=function(){if(q.className)this.element.getFirst().removeClass(q.className+'_panel');q.setState(2);q._.on=0;if(q.onClose)q.onClose();};o.onEscape=function(){o.hide();q.document.getById('cke_'+q.id).getFirst().getNext().focus();};p.onClick=function(r,s){q.document.getWindow().focus();if(q.onClick)q.onClick.call(q,r,s);if(s)q.setValue(r,q._.items[r]);else q.setValue('');o.hide();};this._.panel=o;this._.list=p;if(this.init)this.init();},setValue:function(l,m){this._.value=l;var n=this.document.getById('cke_'+this.id+'_text');n.setHtml(typeof m!='undefined'?m:l);},getValue:function(){return this._.value||'';},unmarkAll:function(){this._.list.unmarkAll();},mark:function(l){this._.list.mark(l);},hideItem:function(l){this._.list.hideItem(l);},hideGroup:function(l){this._.list.hideGroup(l);},showAll:function(){this._.list.showAll();},add:function(l,m,n){this._.items[l]=n||l;this._.list.add(l,m,n);},startGroup:function(l){this._.list.startGroup(l);},commit:function(){this._.list.commit();},setState:function(l){var m=this;if(m._.state==l)return;m.document.getById('cke_'+m.id).setState(l);m._.state=l;}}});k.prototype.addRichCombo=function(l,m){this.add(l,3,m);};j.add('htmlwriter');a.htmlWriter=e.createClass({base:a.htmlParser.basicWriter,$:function(){var n=this;n.base();n.indentationChars='\t';n.selfClosingEnd=' />';n.lineBreakChars='\n';n.forceSimpleAmpersand=false;n.sortAttributes=true;n._.indent=false;n._.indentation='';n._.rules={};var l=f;for(var m in e.extend({},l.$block,l.$listItem,l.$tableContent))n.setRules(m,{indent:true,breakBeforeOpen:true,breakAfterOpen:true,breakBeforeClose:!l[m]['#'],breakAfterClose:true});n.setRules('br',{breakAfterOpen:true});},proto:{openTag:function(l,m){var o=this;var n=o._.rules[l];if(o._.indent)o.indentation();else if(n&&n.breakBeforeOpen){o.lineBreak();o.indentation();}o._.output.push('<',l);},openTagClose:function(l,m){var o=this;var n=o._.rules[l];if(m)o._.output.push(o.selfClosingEnd);else{o._.output.push('>');if(n&&n.indent)o._.indentation+=o.indentationChars;}if(n&&n.breakAfterOpen)o.lineBreak();},attribute:function(l,m){if(this.forceSimpleAmpersand)m=m.replace(/&amp;/,'&');
this._.output.push(' ',l,'="',m,'"');},closeTag:function(l){var n=this;var m=n._.rules[l];if(m&&m.indent)n._.indentation=n._.indentation.substr(n.indentationChars.length);if(n._.indent)n.indentation();else if(m&&m.breakBeforeClose){n.lineBreak();n.indentation();}n._.output.push('</',l,'>');if(m&&m.breakAfterClose)n.lineBreak();},text:function(l){if(this._.indent){this.indentation();l=e.ltrim(l);}this._.output.push(l);},comment:function(l){if(this._.indent)this.indentation();this._.output.push('<!--',l,'-->');},lineBreak:function(){var l=this;if(l._.output.length>0)l._.output.push(l.lineBreakChars);l._.indent=true;},indentation:function(){this._.output.push(this._.indentation);this._.indent=false;},setRules:function(l,m){this._.rules[l]=m;}}});j.add('dialog',{requires:['dialogui']});a.DIALOG_RESIZE_NONE=0;a.DIALOG_RESIZE_WIDTH=1;a.DIALOG_RESIZE_HEIGHT=2;a.DIALOG_RESIZE_BOTH=3;(function(){function l(G){return!!this._.tabs[G][0].$.offsetHeight;};function m(){var K=this;var G=K._.currentTabId,H=K._.tabIdList.length,I=e.indexOf(K._.tabIdList,G)+H;for(var J=I-1;J>I-H;J--)if(l.call(K,K._.tabIdList[J%H]))return K._.tabIdList[J%H];return null;};function n(){var K=this;var G=K._.currentTabId,H=K._.tabIdList.length,I=e.indexOf(K._.tabIdList,G);for(var J=I+1;J<I+H;J++)if(l.call(K,K._.tabIdList[J%H]))return K._.tabIdList[J%H];return null;};a.dialog=function(G,H){var I=a.dialog._.dialogDefinitions[H];if(!I){console.log('Error: The dialog "'+H+'" is not defined.');return;}I=e.extend(I(G),o);I=new s(this,I);this.definition=I=a.fire('dialogDefinition',{name:H,definition:I},G).definition;var J=G.theme.buildDialog(G);this._={editor:G,element:J.element,name:H,size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:false,focusList:[],currentFocusIndex:0,hasFocus:false};this.parts={tl:[0,0],tl_resize:[0,0,0],t:[0,1],t_resize:[0,1,0],tr:[0,2],tr_resize:[0,2,0],l:[1,0],l_resize:[1,0,0],c:[1,1],r:[1,2],r_resize:[1,2,0],bl:[2,0],bl_resize:[2,0,0],b:[2,1],b_resize:[2,1,0],br:[2,2],br_resize:[2,2,0],title:[1,1,0],close:[1,1,0,0],tabs:[1,1,1,0,0],tabs_table:[1,1,1],contents:[1,1,2],footer:[1,1,3]};var K=this._.element.getFirst();for(var L in this.parts)this.parts[L]=K.getChild(this.parts[L]);a.event.call(this);if(I.onLoad)this.on('load',I.onLoad);if(I.onShow)this.on('show',I.onShow);if(I.onHide)this.on('hide',I.onHide);if(I.onOk)this.on('ok',function(U){if(I.onOk.call(this,U)===false)U.data.hide=false;
});if(I.onCancel)this.on('cancel',function(U){if(I.onCancel.call(this,U)===false)U.data.hide=false;});var M=this,N=function(U){var V=M._.contents,W=false;for(var X in V)for(var Y in V[X]){W=U.call(this,V[X][Y]);if(W)return;}};this.on('ok',function(U){N(function(V){if(V.validate){var W=V.validate(this);if(typeof W=='string'){alert(W);W=false;}if(W===false){if(V.select)V.select();else V.focus();U.data.hide=false;U.stop();return true;}}});},this,null,0);this.on('cancel',function(U){N(function(V){if(V.isChanged()){if(!confirm(G.lang.common.confirmCancel))U.data.hide=false;return true;}});},this,null,0);this.parts.close.on('click',function(U){if(this.fire('cancel',{hide:true}).hide!==false)this.hide();},this);function O(U){var V=M._.focusList,W=U?1:-1;if(V.length<1)return;var X=(M._.currentFocusIndex+W+V.length)%(V.length);while(!V[X].isFocusable()){X=(X+W+V.length)%(V.length);if(X==M._.currentFocusIndex)break;}V[X].focus();};function P(U){if(M!=a.dialog._.currentTop)return;var V=U.data.getKeystroke(),W=false;if(V==9||V==2000+9){var X=V==2000+9;if(M._.tabBarMode){var Y=X?m.call(M):n.call(M);M.selectPage(Y);M._.tabs[Y][0].getFirst().focus();}else O(!X);W=true;}else if(V==4000+121&&!M._.tabBarMode){M._.tabBarMode=true;M._.tabs[M._.currentTabId][0].getFirst().focus();W=true;}else if((V==37||V==39)&&(M._.tabBarMode)){var Y=V==37?m.call(M):n.call(M);M.selectPage(Y);M._.tabs[Y][0].getFirst().focus();W=true;}if(W){U.stop();U.data.preventDefault();}};this.on('show',function(){a.document.on('keydown',P,this,null,0);if(b.ie6Compat){var U=new h(frames('cke_dialog_background_iframe').document);U.on('keydown',P,this,null,0);}});this.on('hide',function(){a.document.removeListener('keydown',P);});this.on('show',function(){if(!this._.hasFocus){this._.currentFocusIndex=-1;O(true);}},this,null,4294967295);if(b.ie6Compat)this.on('load',function(U){var V=this.getElement(),W=V.getFirst();W.remove();W.appendTo(V);},this);u(this);v(this);new d.text(I.title,a.document).appendTo(this.parts.title);for(L=0;L<I.contents.length;L++)this.addPage(I.contents[L]);var Q=/cke_dialog_tab(\s|$|_)/,R=/cke_dialog_tab(\s|$)/;this.parts.tabs.on('click',function(U){var Z=this;var V=U.data.getTarget(),W=V,X,Y;if(!(Q.test(V.$.className)||V.getName()=='a'))return;while(V.getName()!='td'||!R.test(V.$.className))V=V.getParent();X=V.$.id.substr(0,V.$.id.lastIndexOf('_'));Z.selectPage(X);if(Z._.tabBarMode){Z._.tabBarMode=false;Z._.currentFocusIndex=-1;O(true);}},this);var S=[],T=a.dialog._.uiElementBuilders.hbox.build(this,{type:'hbox',className:'cke_dialog_footer_buttons',widths:[],children:I.buttons},S).getChild();
this.parts.footer.setHtml(S.join(''));for(L=0;L<T.length;L++)this._.buttons[T[L].id]=T[L];this._.dummyText=g.createFromHtml('<input type="text" style="position: absolute; left: -100000px; top: -100000px" />');this._.dummyText.appendTo(K);a.skins.load(G.config.skin,'dialog');};a.dialog.prototype={resize:(function(){return function(G,H){var I=this;if(I._.size&&I._.size.width==G&&I._.size.height==H)return;a.dialog.fire('resize',{dialog:I,skin:I._.editor.config.skin,width:G,height:H},I._.editor);I._.size={width:G,height:H};};})(),getSize:function(){return e.extend({},this._.size);},move:(function(){var G;return function(H,I){var K=this;if(G===undefined)G=K._.element.getFirst().getComputedStyle('position')=='fixed';if(G&&K._.position&&K._.position.x==H&&K._.position.y==I)return;K._.position={x:H,y:I};if(!G){var J=a.document.getWindow().getScrollPosition();H+=J.x;I+=J.y;}K._.element.getFirst().setStyles({left:H+'px',top:I+'px'});};})(),getPosition:function(){return e.extend({},this._.position);},show:function(){var G=this._.element,H=this.definition;if(!(G.getParent()&&G.getParent().equals(a.document.getBody())))G.appendTo(a.document.getBody());else return;this.resize(H.minWidth,H.minHeight);var I=a.document.getWindow().getViewPaneSize();this.move((I.width-this._.size.width)/(2),(I.height-this._.size.height)/(2));this.selectPage(this.definition.contents[0].id);this.reset();if(a.dialog._.currentZIndex===null)a.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex;this._.element.getFirst().setStyle('z-index',a.dialog._.currentZIndex+=10);if(a.dialog._.currentTop===null){a.dialog._.currentTop=this;this._.parentDialog=null;x(this._.editor);a.document.on('keydown',A);a.document.on('keyup',B);}else{this._.parentDialog=a.dialog._.currentTop;var J=this._.parentDialog.getElement().getFirst();J.$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2);a.dialog._.currentTop=this;}C(this,this,'\x1b',null,function(){this.getButton('cancel')&&this.getButton('cancel').click();});if(!this._.parentDialog)this.saveSelection();this._.dummyText.focus();this._.dummyText.$.select();this._.hasFocus=false;this.fireOnce('load',{});this.fire('show',{});this.foreach(function(K){K.setInitValue&&K.setInitValue();});},foreach:function(G){var J=this;for(var H in J._.contents)for(var I in J._.contents[H])G(J._.contents[H][I]);return J;},reset:(function(){var G=function(H){if(H.reset)H.reset();};return function(){this.foreach(G);return this;};})(),setupContent:function(){var G=arguments;
this.foreach(function(H){if(H.setup)H.setup.apply(H,G);});},commitContent:function(){var G=arguments;this.foreach(function(H){if(H.commit)H.commit.apply(H,G);});},hide:function(){var G=this._.element;if(!G.getParent())return;G.remove();D(this);if(!this._.parentDialog)y();else{var H=this._.parentDialog.getElement().getFirst();H.setStyle('z-index',parseInt(H.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2));}a.dialog._.currentTop=this._.parentDialog;if(!this._.parentDialog){a.dialog._.currentZIndex=null;a.document.removeListener('keydown',A);a.document.removeListener('keyup',B);this.restoreSelection();this._.editor.focus();}else a.dialog._.currentZIndex-=10;this.fire('hide',{});this.foreach(function(I){I.resetInitValue&&I.resetInitValue();});},addPage:function(G){var Q=this;var H=[],I=G.label?' title="'+e.htmlEncode(G.label)+'"':'',J=G.elements,K=a.dialog._.uiElementBuilders.vbox.build(Q,{type:'vbox',className:'cke_dialog_page_contents',children:G.elements,expand:!!G.expand},H),L=g.createFromHtml(H.join('')),M=g.createFromHtml(['<table><tbody><tr><td class="cke_dialog_tab">','<a href="javascript: void(0)"',I,' style="display: block; outline: none;" hidefocus="true">','<table border="0" cellspacing="0" cellpadding="0"><tbody><tr>','<td class="cke_dialog_tab_left"></td>','<td class="cke_dialog_tab_center">',e.htmlEncode(G.label.replace(/ /g,'\xa0')),'</td>','<td class="cke_dialog_tab_right"></td>','</tr></tbody></table></a></td></tr></tbody></table>'].join(''));M=M.getChild([0,0,0]);if(Q._.lastTab)Q._.lastTab.removeClass('last');M.addClass(Q._.pageCount>0?'last':'first');if(Q._.pageCount===0)Q.parts.c.addClass('single_page');else Q.parts.c.removeClass('single_page');Q._.tabs[G.id]=[M,L];Q._.tabIdList.push(G.id);Q._.pageCount++;Q._.lastTab=M;var N=Q._.contents[G.id]={},O,P=K.getChild();while(O=P.shift()){N[O.id]=O;if(typeof O.getChild=='function')P.push.apply(P,O.getChild());}M.unselectable();L.appendTo(Q.parts.contents);M.insertBefore(Q.parts.tabs.getChild(Q.parts.tabs.getChildCount()-1));M.setAttribute('id',G.id+'_'+e.getNextNumber());L.setAttribute('name',G.id);if(G.accessKey){C(Q,Q,'CTRL+'+G.accessKey,F,E);Q._.accessKeyMap['CTRL+'+G.accessKey]=G.id;}},selectPage:function(G){var L=this;for(var H in L._.tabs){var I=L._.tabs[H][0],J=L._.tabs[H][1];if(H!=G){I.removeClass('cke_dialog_tab_selected');J.hide();}}var K=L._.tabs[G];K[0].addClass('cke_dialog_tab_selected');K[1].show();L._.currentTabId=G;L._.currentTabIndex=e.indexOf(L._.tabIdList,G);
},hidePage:function(G){var H=this._.tabs[G]&&this._.tabs[G][0];if(!H)return;H.hide();},showPage:function(G){var H=this._.tabs[G]&&this._.tabs[G][0];if(!H)return;H.show();},getElement:function(){return this._.element;},getContentElement:function(G,H){return this._.contents[G][H];},getValueOf:function(G,H){return this.getContentElement(G,H).getValue();},setValueOf:function(G,H,I){return this.getContentElement(G,H).setValue(I);},getButton:function(G){return this._.buttons[G];},click:function(G){return this._.buttons[G].click();},disableButton:function(G){return this._.buttons[G].disable();},enableButton:function(G){return this._.buttons[G].enable();},getPageCount:function(){return this._.pageCount;},getParentEditor:function(){return this._.editor;},saveSelection:function(){var H=this;if(H._.editor.mode){H._.editor.focus();var G=new d.selection(H._.editor.document);H._.selectedRanges=G.getRanges();H._.selectedElement=G.getSelectedElement();}},clearSavedSelection:function(){delete this._.selectedRanges;delete this._.selectedElement;},getSelectedElement:function(){return this._.selectedElement;},restoreSelection:function(){var G=this;if(G._.editor.mode&&G._.selectedRanges)new d.selection(G._.editor.document).selectRanges(G._.selectedRanges);}};e.extend(a.dialog,{add:function(G,H){if(!this._.dialogDefinitions[G]||typeof H=='function')this._.dialogDefinitions[G]=H;},exists:function(G){return!!this._.dialogDefinitions[G];},getCurrent:function(){return a.dialog._.currentTop;},okButton:(function(){var G=function(H,I){I=I||{};return e.extend({id:'ok',type:'button',label:H.lang.common.ok,style:'width: 60px',onClick:function(J){var K=J.data.dialog;if(K.fire('ok',{hide:true}).hide!==false)K.hide();}},I,true);};G.type='button';G.override=function(H){return e.extend(function(I){return G(I,H);},{type:'button'},true);};return G;})(),cancelButton:(function(){var G=function(H,I){I=I||{};return e.extend({id:'cancel',type:'button',label:H.lang.common.cancel,style:'width: 60px',onClick:function(J){var K=J.data.dialog;if(K.fire('cancel',{hide:true}).hide!==false)K.hide();}},I,true);};G.type='button';G.override=function(H){return e.extend(function(I){return G(I,H);},{type:'button'},true);};return G;})(),addUIElement:function(G,H){this._.uiElementBuilders[G]=H;},setMargins:function(G,H,I,J){this._.margins=[G,H,I,J];}});a.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null,margins:[0,0,0,0]};a.event.implementOn(a.dialog);a.event.implementOn(a.dialog.prototype,true);
var o={resizable:0,minWidth:600,minHeight:400,buttons:[a.dialog.okButton,a.dialog.cancelButton]},p=function(G,H,I){for(var J=0,K;K=G[J];J++){if(K.id==H)return K;if(I&&K[I]){var L=p(K[I],H,I);if(L)return L;}}return null;},q=function(G,H,I,J,K){if(I){for(var L=0,M;M=G[L];L++){if(M.id==I){G.splice(L,0,H);return H;}if(J&&M[J]){var N=q(M[J],H,I,J,true);if(N)return N;}}if(K)return null;}G.push(H);return H;},r=function(G,H,I){for(var J=0,K;K=G[J];J++){if(K.id==H)return G.splice(J,1);if(I&&K[I]){var L=r(K[I],H,I);if(L)return L;}}return null;},s=function(G,H){this.dialog=G;var I=H.contents;for(var J=0,K;K=I[J];J++)I[J]=new t(G,K);e.extend(this,H);};s.prototype={getContents:function(G){return p(this.contents,G);},getButton:function(G){return p(this.buttons,G);},addContents:function(G,H){return q(this.contents,G,H);},addButton:function(G,H){return q(this.buttons,G,H);},removeContents:function(G){r(this.contents,G);},removeButton:function(G){r(this.buttons,G);}};var t=function(G,H){this._={dialog:G};e.extend(this,H);};t.prototype={get:function(G){return p(this.elements,G,'children');},add:function(G,H){return q(this.elements,G,H,'children');},remove:function(G){r(this.elements,G,'children');}};var u=function(G){var H=null,I=null,J=G.getElement().getFirst(),K=G._.editor.config.dialog_magnetDistance,L=function(N){var O=G.getSize(),P=a.document.getWindow().getViewPaneSize(),Q=N.data.$.screenX,R=N.data.$.screenY,S=Q-H.x,T=R-H.y,U,V;H={x:Q,y:R};I.x+=S;I.y+=T;if(I.x+a.dialog._.margins[3]<K)U=-a.dialog._.margins[3];else if(I.x-a.dialog._.margins[1]>P.width-O.width-K)U=P.width-O.width+a.dialog._.margins[1];else U=I.x;if(I.y+a.dialog._.margins[0]<K)V=-a.dialog._.margins[0];else if(I.y-a.dialog._.margins[2]>P.height-O.height-K)V=P.height-O.height+a.dialog._.margins[2];else V=I.y;G.move(U,V);N.data.preventDefault();},M=function(N){a.document.removeListener('mousemove',L);a.document.removeListener('mouseup',M);if(b.ie6Compat){var O=new h(frames('cke_dialog_background_iframe').document);O.removeListener('mousemove',L);O.removeListener('mouseup',M);}};G.parts.title.on('mousedown',function(N){H={x:N.data.$.screenX,y:N.data.$.screenY};a.document.on('mousemove',L);a.document.on('mouseup',M);I=G.getPosition();if(b.ie6Compat){var O=new h(frames('cke_dialog_background_iframe').document);O.on('mousemove',L);O.on('mouseup',M);}N.data.preventDefault();},G);},v=function(G){var H=G.definition,I=H.minWidth||0,J=H.minHeight||0,K=H.resizable,L=function(aa,ab){aa.y+=ab;},M=function(aa,ab){aa.x2+=ab;
},N=function(aa,ab){aa.y2+=ab;},O=function(aa,ab){aa.x+=ab;},P=null,Q=null,R=G._.editor.config.magnetDistance,S=['tl','t','tr','l','r','bl','b','br'],T=function(aa){var ab=aa.listenerData.part,ac=G.getSize();Q=G.getPosition();e.extend(Q,{x2:Q.x+ac.width,y2:Q.y+ac.height});P={x:aa.data.$.screenX,y:aa.data.$.screenY};a.document.on('mousemove',U,G,{part:ab});a.document.on('mouseup',V,G,{part:ab});if(b.ie6Compat){var ad=new h(frames('cke_dialog_background_iframe').document);ad.on('mousemove',U,G,{part:ab});ad.on('mouseup',V,G,{part:ab});}aa.data.preventDefault();},U=function(aa){var ab=aa.data.$.screenX,ac=aa.data.$.screenY,ad=ab-P.x,ae=ac-P.y,af=a.document.getWindow().getViewPaneSize(),ag=aa.listenerData.part;if(ag.search('t')!=-1)L(Q,ae);if(ag.search('l')!=-1)O(Q,ad);if(ag.search('b')!=-1)N(Q,ae);if(ag.search('r')!=-1)M(Q,ad);P={x:ab,y:ac};var ah,ai,aj,ak;if(Q.x+a.dialog._.margins[3]<R)ah=-a.dialog._.margins[3];else if(ag.search('l')!=-1&&Q.x2-Q.x<I+R)ah=Q.x2-I;else ah=Q.x;if(Q.y+a.dialog._.margins[0]<R)ai=-a.dialog._.margins[0];else if(ag.search('t')!=-1&&Q.y2-Q.y<J+R)ai=Q.y2-J;else ai=Q.y;if(Q.x2-a.dialog._.margins[1]>af.width-R)aj=af.width+a.dialog._.margins[1];else if(ag.search('r')!=-1&&Q.x2-Q.x<I+R)aj=Q.x+I;else aj=Q.x2;if(Q.y2-a.dialog._.margins[2]>af.height-R)ak=af.height+a.dialog._.margins[2];else if(ag.search('b')!=-1&&Q.y2-Q.y<J+R)ak=Q.y+J;else ak=Q.y2;G.move(ah,ai);G.resize(aj-ah,ak-ai);aa.data.preventDefault();},V=function(aa){a.document.removeListener('mouseup',V);a.document.removeListener('mousemove',U);if(b.ie6Compat){var ab=new h(frames('cke_dialog_background_iframe').document);ab.removeListener('mouseup',V);ab.removeListener('mousemove',U);}},W=/[lr]/,X=/[tb]/;for(var Y=0;Y<S.length;Y++){var Z=G.parts[S[Y]+'_resize'];if(K==0||K==2&&W.test(S[Y])||K==1&&X.test(S[Y])){Z.hide();continue;}Z.on('mousedown',T,G,{part:S[Y]});}},w,x=function(G){var H=a.document.getWindow(),I=['<div style="position: ',b.ie6Compat?'absolute':'fixed','; z-index: ',G.config.baseFloatZIndex,'; top: 0px; left: 0px; ','background-color: ',G.config.dialog_backgroundCoverColor,'" id="cke_dialog_background_cover">'];if(b.ie6Compat)I.push('<iframe hidefocus="true" frameborder="0" name="cke_dialog_background_iframe" src="javascript: \'\'" ','style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; ','progid:DXImageTransform.Microsoft.Alpha(opacity=0)" ></iframe>');I.push('</div>');var J=g.createFromHtml(I.join('')),K=function(){var N=H.getViewPaneSize();J.setStyles({width:N.width+'px',height:N.height+'px'});
},L=function(){var N=H.getScrollPosition(),O=a.dialog._.currentTop;J.setStyles({left:N.x+'px',top:N.y+'px'});do{var P=O.getPosition();O.move(P.x,P.y);}while(O=O._.parentDialog)};w=K;H.on('resize',K);K();if(b.ie6Compat){var M=function(){L();arguments.callee.prevScrollHandler.apply(this,arguments);};H.$.setTimeout(function(){M.prevScrollHandler=window.onscroll||(function(){});window.onscroll=M;},0);L();}J.setOpacity(G.config.dialog_backgroundCoverOpacity);J.appendTo(a.document.getBody());},y=function(){var G=a.document.getById('cke_dialog_background_cover'),H=a.document.getWindow();if(G){G.remove();H.removeListener('resize',w);if(b.ie6Compat)H.$.setTimeout(function(){var I=window.onscroll&&window.onscroll.prevScrollHandler;window.onscroll=I||null;},0);w=null;}},z={},A=function(G){var H=G.data.$.ctrlKey||G.data.$.metaKey,I=G.data.$.altKey,J=G.data.$.shiftKey,K=String.fromCharCode(G.data.$.keyCode),L=z[(H?'CTRL+':'')+(I?'ALT+':'')+(J?'SHIFT+':'')+K];if(!L||!L.length)return;L=L[L.length-1];L.keydown&&L.keydown.call(L.uiElement,L.dialog,L.key);G.data.preventDefault();},B=function(G){var H=G.data.$.ctrlKey||G.data.$.metaKey,I=G.data.$.altKey,J=G.data.$.shiftKey,K=String.fromCharCode(G.data.$.keyCode),L=z[(H?'CTRL+':'')+(I?'ALT+':'')+(J?'SHIFT+':'')+K];if(!L||!L.length)return;L=L[L.length-1];L.keyup&&L.keyup.call(L.uiElement,L.dialog,L.key);G.data.preventDefault();},C=function(G,H,I,J,K){var L=z[I]||(z[I]=[]);L.push({uiElement:G,dialog:H,key:I,keyup:K||G.accessKeyUp,keydown:J||G.accessKeyDown});},D=function(G){for(var H in z){var I=z[H];for(var J=I.length-1;J>=0;J--)if(I[J].dialog==G||I[J].uiElement==G)I.splice(J,1);if(I.length===0)delete z[H];}},E=function(G,H){if(G._.accessKeyMap[H])G.selectPage(G._.accessKeyMap[H]);},F=function(G,H){};(function(){k.dialog={uiElement:function(G,H,I,J,K,L,M){if(arguments.length<4)return;var N=(J.call?J(H):J)||('div'),O=['<',N,' '],P=(K&&K.call?K(H):K)||({}),Q=(L&&L.call?L(H):L)||({}),R=(M&&M.call?M(G,H):M)||(''),S=this.domId=Q.id||e.getNextNumber()+'_uiElement',T=this.id=H.id,U;Q.id=S;var V={};if(H.type)V['cke_dialog_ui_'+H.type]=1;if(H.className)V[H.className]=1;var W=Q['class']&&Q['class'].split?Q['class'].split(' '):[];for(U=0;U<W.length;U++)if(W[U])V[W[U]]=1;var X=[];for(U in V)X.push(U);Q['class']=X.join(' ');if(H.title)Q.title=H.title;var Y=(H.style||'').split(';');for(U in P)Y.push(U+':'+P[U]);for(U=Y.length-1;U>=0;U--)if(Y[U]==='')Y.splice(U,1);if(Y.length>0)Q.style=(Q.style||'')+(Y.join('; '));for(U in Q)O.push(U+'="'+e.htmlEncode(Q[U])+'" ');
O.push('>',R,'</',N,'>');I.push(O.join(''));(this._||(this._={})).dialog=G;if(typeof H.isChanged=='boolean')this.isChanged=function(){return H.isChanged;};if(typeof H.isChanged=='function')this.isChanged=H.isChanged;a.event.implementOn(this);this.registerEvents(H);if(this.accessKeyUp&&this.accessKeyDown&&H.accessKey)C(this,G,'CTRL+'+H.accessKey);var Z=this;G.on('load',function(){if(Z.getInputElement())Z.getInputElement().on('focus',function(){G._.tabBarMode=false;G._.hasFocus=true;Z.fire('focus');},Z);});if(this.keyboardFocusable){this.focusIndex=G._.focusList.push(this)-1;this.on('focus',function(){G._.currentFocusIndex=Z.focusIndex;});}e.extend(this,H);},hbox:function(G,H,I,J,K){if(arguments.length<4)return;this._||(this._={});var L=this._.children=H,M=K&&K.widths||null,N=K&&K.height||null,O={},P,Q=function(){var R=['<tbody><tr class="cke_dialog_ui_hbox">'];for(P=0;P<I.length;P++){var S='cke_dialog_ui_hbox_child',T=[];if(P===0)S='cke_dialog_ui_hbox_first';if(P==I.length-1)S='cke_dialog_ui_hbox_last';R.push('<td class="',S,'" ');if(M)if(M[P])T.push('width:'+e.cssLength(M[P]));else T.push('width:'+Math.floor(100/I.length)+'%');if(N)T.push('height:'+e.cssLength(N));if(K&&K.padding!=undefined)T.push('padding:'+e.cssLength(K.padding));if(T.length>0)R.push('style="'+T.join('; ')+'" ');R.push('>',I[P],'</td>');}R.push('</tr></tbody>');return R.join('');};k.dialog.uiElement.call(this,G,K||{type:'hbox'},J,'table',O,{align:K&&K.align||(G.getParentEditor().lang.dir=='ltr'?'left':'right')},Q);},vbox:function(G,H,I,J,K){if(arguments.length<3)return;this._||(this._={});var L=this._.children=H,M=K&&K.width||null,N=K&&K.heights||null,O=function(){var P=['<table cellspacing="0" border="0" '];P.push('style="');if(K&&K.expand)P.push('height:100%;');P.push('width:'+e.cssLength(M||'100%'),';');P.push('"');P.push('align="',e.htmlEncode(K&&K.align||(G.getParentEditor().lang.dir=='ltr'?'left':'right')),'" ');P.push('><tbody>');for(var Q=0;Q<I.length;Q++){var R=[];P.push('<tr><td ');if(M)R.push('width:'+e.cssLength(M||'100%'));if(N)R.push('height:'+e.cssLength(N[Q]));else if(K&&K.expand)R.push('height:'+Math.floor(100/I.length)+'%');if(K&&K.padding!=undefined)R.push('padding:'+e.cssLength(K.padding));if(R.length>0)P.push('style="',R.join('; '),'" ');P.push(' class="cke_dialog_ui_vbox_child">',I[Q],'</td></tr>');}P.push('</tbody></table>');return P.join('');};k.dialog.uiElement.call(this,G,K||{type:'vbox'},J,'div',null,null,O);}};})();k.dialog.uiElement.prototype={getElement:function(){return a.document.getById(this.domId);
},getInputElement:function(){return this.getElement();},getDialog:function(){return this._.dialog;},setValue:function(G){this.getInputElement().setValue(G);this.fire('change',{value:G});return this;},getValue:function(){return this.getInputElement().getValue();},isChanged:function(){return false;},selectParentTab:function(){var J=this;var G=J.getInputElement(),H=G,I;while((H=H.getParent())&&(H.$.className.search('cke_dialog_page_contents')==-1)){}if(!H)return J;I=H.getAttribute('name');J._.dialog.selectPage(I);return J;},focus:function(){this.selectParentTab().getInputElement().focus();return this;},registerEvents:function(G){var H=/^on([A-Z]\w+)/,I,J=function(L,M,N,O){M.on('load',function(){L.getInputElement().on(N,O,L);});};for(var K in G){if(!(I=K.match(H)))continue;if(this.eventProcessors[K])this.eventProcessors[K].call(this,this._.dialog,G[K]);else J(this,this._.dialog,I[1].toLowerCase(),G[K]);}return this;},eventProcessors:{onLoad:function(G,H){G.on('load',H,this);},onShow:function(G,H){G.on('show',H,this);},onHide:function(G,H){G.on('hide',H,this);}},accessKeyDown:function(G,H){this.focus();},accessKeyUp:function(G,H){},disable:function(){var G=this.getInputElement();G.setAttribute('disabled','true');G.addClass('cke_disabled');},enable:function(){var G=this.getInputElement();G.removeAttribute('disabled');G.removeClass('cke_disabled');},isEnabled:function(){return!this.getInputElement().getAttribute('disabled');},isVisible:function(){return!!this.getInputElement().$.offsetHeight;},isFocusable:function(){if(!this.isEnabled()||!this.isVisible())return false;return true;}};k.dialog.hbox.prototype=e.extend(new k.dialog.uiElement(),{getChild:function(G){var H=this;if(arguments.length<1)return H._.children.concat();if(!G.splice)G=[G];if(G.length<2)return H._.children[G[0]];else return H._.children[G[0]]&&H._.children[G[0]].getChild?H._.children[G[0]].getChild(G.slice(1,G.length)):null;}},true);k.dialog.vbox.prototype=new k.dialog.hbox();(function(){var G={build:function(H,I,J){var K=I.children,L,M=[],N=[];for(var O=0;O<K.length&&(L=K[O]);O++){var P=[];M.push(P);N.push(a.dialog._.uiElementBuilders[L.type].build(H,L,P));}return new k.dialog[I.type](H,N,M,J,I);}};a.dialog.addUIElement('hbox',G);a.dialog.addUIElement('vbox',G);})();a.dialogCommand=function(G){this.dialogName=G;};a.dialogCommand.prototype={exec:function(G){G.openDialog(this.dialogName);}};(function(){var G=/^([a]|[^a])+$/,H=/^\d*$/,I=/^\d*(?:\.\d+)?$/;a.VALIDATE_OR=1;a.VALIDATE_AND=2;a.dialog.validate={functions:function(){return function(){var P=this;
var J=P&&P.getValue?P.getValue():arguments[0],K=undefined,L=2,M=[],N;for(N=0;N<arguments.length;N++)if(typeof arguments[N]=='function')M.push(arguments[N]);else break;if(N<arguments.length&&typeof arguments[N]=='string'){K=arguments[N];N++;}if(N<arguments.length&&typeof arguments[N]=='number')L=arguments[N];var O=L==2?true:false;for(N=0;N<M.length;N++)if(L==2)O=O&&M[N](J);else O=O||M[N](J);if(!O){if(K!==undefined)alert(K);if(P&&(P.select||P.focus))P.select||P.focus();return false;}return true;};},regex:function(J,K){return function(){var M=this;var L=M&&M.getValue?M.getValue():arguments[0];if(!J.test(L)){if(K!==undefined)alert(K);if(M&&(M.select||M.focus))if(M.select)M.select();else M.focus();return false;}return true;};},notEmpty:function(J){return this.regex(G,J);},integer:function(J){return this.regex(H,J);},number:function(J){return this.regex(I,J);},equals:function(J,K){return this.functions(function(L){return L==J;},K);},notEqual:function(J,K){return this.functions(function(L){return L!=J;},K);}};})();})();e.extend(a.editor.prototype,{openDialog:function(l){var m=a.dialog._.dialogDefinitions[l];if(typeof m=='function'){var n=this._.storedDialogs||(this._.storedDialogs={}),o=n[l]||(n[l]=new a.dialog(this,l));o.show();return o;}var p=a.document.getBody(),q=p.$.style.cursor,r=this;p.setStyle('cursor','wait');a.scriptLoader.load(a.getUrl(m),function(){r.openDialog(l);p.setStyle('cursor',q);});return null;}});i.dialog_backgroundCoverColor='white';i.dialog_backgroundCoverOpacity=0.5;i.dialog_magnetDistance=20;(function(){var l=function(n,o){return n._.modes&&n._.modes[o||n.mode];},m;j.add('editingblock',{init:function(n){if(!n.config.editingBlock)return;n.on('themeSpace',function(o){if(o.data.space=='contents')o.data.html+='<br>';});n.on('themeLoaded',function(){n.fireOnce('editingBlockReady');});n.on('uiReady',function(){n.setMode(n.config.startupMode);if(n.config.startupFocus)n.focus();});n.on('afterSetData',function(){if(!m){function o(){m=true;l(n).loadData(n.getData());m=false;};if(n.mode)o();else n.on('mode',function(){o();n.removeListener('mode',arguments.callee);});}});n.on('beforeGetData',function(){if(!m&&n.mode){m=true;n.setData(l(n).getData());m=false;}});n.on('getSnapshot',function(o){if(n.mode)o.data=l(n).getSnapshotData();});n.on('loadSnapshot',function(o){if(n.mode)l(n).loadSnapshotData(o.data);});n.on('mode',function(o){o.removeListener();n.container.on('focus',function(){n.focus();});n.fireOnce('instanceReady');a.fire('instanceReady',null,n);
});}});a.editor.prototype.mode='';a.editor.prototype.addMode=function(n,o){o.name=n;(this._.modes||(this._.modes={}))[n]=o;};a.editor.prototype.setMode=function(n){var o,p=this.getThemeSpace('contents'),q=this.checkDirty();if(this.mode){if(n==this.mode)return;var r=l(this);o=r.getData();r.unload(p);this.mode='';}p.setHtml('');var s=l(this,n);if(!s)throw '[CKEDITOR.editor.setMode] Unknown mode "'+n+'".';if(!q)this.on('mode',function(){this.resetDirty();this.removeListener('mode',arguments.callee);});s.load(p,typeof o!='string'?this.getData():o);};a.editor.prototype.focus=function(){var n=l(this);if(n)n.focus();};})();i.startupMode='wysiwyg';i.startupFocus=false;i.editingBlock=true;j.add('panel',{beforeInit:function(l){l.ui.addHandler(2,k.panel.handler);}});a.UI_PANEL=2;k.panel=function(l,m){var n=this;if(m)e.extend(n,m);e.extend(n,{className:'',css:[]});n.id=e.getNextNumber();n.document=l;n._={blocks:{}};};k.panel.handler={create:function(l){return new k.panel(l);}};k.panel.prototype={renderHtml:function(l){var m=[];this.render(l,m);return m.join('');},render:function(l,m){var o=this;var n='cke_'+o.id;m.push('<div class="',l.skinClass,'"><div id=',n,' class="cke_panel');if(o.className)m.push(' ',o.className);m.push('">');if(o.forceIFrame||o.css.length)m.push('<iframe id="',n,'_frame" frameborder="0" src="javascript:void(0)"></iframe>');m.push('</div></div>');return n;},getHolderElement:function(){var l=this._.holder;if(!l){if(this.forceIFrame||this.css.length){var m=this.document.getById('cke_'+this.id+'_frame'),n=new h(m.$.contentWindow.document),o=m.getParent().getParent().getAttribute('class');n.$.open();n.$.write('<!DOCTYPE html><html><head><link type="text/css" rel=stylesheet href="'+this.css.join('"><link type="text/css" rel="stylesheet" href="')+'">'+'<style>.'+o+'_container{visibility:hidden}</style>'+'</head>'+'<body class="'+o+'_container cke_panel_frame" style="margin:0;padding:0">'+'</body>'+'</html>');n.$.close();var p=n.getWindow();p.$.CKEDITOR=a;p.on('load',function(q){this.isLoaded=true;if(this.onLoad)this.onLoad();},this);n.on('keydown',function(q){var s=this;var r=q.data.getKeystroke();if(s._.onKeyDown&&s._.onKeyDown(r)===false){q.data.preventDefault();return;}if(r==27)s.onEscape&&s.onEscape();},this);l=n.getBody();}else l=this.document.getById('cke_'+this.id);this._.holder=l;}return l;},addBlock:function(l,m){var n=this;m=n._.blocks[l]=m||new k.panel.block(n.getHolderElement());if(!n._.currentBlock)n.showBlock(l);return m;},getBlock:function(l){return this._.blocks[l];
},showBlock:function(l){var p=this;var m=p._.blocks,n=m[l],o=p._.currentBlock;if(o)o.hide();p._.currentBlock=n;n._.focusIndex=-1;p._.onKeyDown=n.onKeyDown&&e.bind(n.onKeyDown,n);n.show();return n;}};k.panel.block=e.createClass({$:function(l){this.element=l.append(l.getDocument().createElement('div',{attributes:{'class':'cke_panel_block'},styles:{display:'none'}}));this.keys={};this._.focusIndex=-1;},_:{},proto:{show:function(){this.element.setStyle('display','');},hide:function(){this.element.setStyle('display','none');},onKeyDown:function(l){var q=this;var m=q.keys[l];switch(m){case 'next':var n=q._.focusIndex,o=q.element.getElementsByTag('a'),p;while(p=o.getItem(++n))if(p.getAttribute('_cke_focus')&&p.$.offsetWidth){q._.focusIndex=n;p.focus();break;}return false;case 'prev':var n=q._.focusIndex,o=q.element.getElementsByTag('a'),p;while(n>0&&(p=o.getItem(--n)))if(p.getAttribute('_cke_focus')&&p.$.offsetWidth){q._.focusIndex=n;p.focus();break;}return false;case 'click':var n=q._.focusIndex,p=n>=0&&q.element.getElementsByTag('a').getItem(n);if(p)p.$.click();return false;}}}});j.add('listblock',{requires:['panel'],onLoad:function(){k.panel.prototype.addListBlock=function(l,m){return this.addBlock(l,new k.listBlock(this.getHolderElement(),m));};k.listBlock=e.createClass({base:k.panel.block,$:function(l,m){var o=this;o.base(l);o.multiSelect=!!m;var n=o.keys;n[40]='next';n[9]='next';n[38]='prev';n[2000+9]='prev';n[32]='click';o._.pendingHtml=[];o._.items={};o._.groups={};},_:{close:function(){if(this._.started){this._.pendingHtml.push('</ul>');delete this._.started;}},getClick:function(){if(!this._.click)this._.click=e.addFunction(function(l){var n=this;var m=true;if(n.multiSelect)m=n.toggle(l);else n.mark(l);if(n.onClick)n.onClick(l,m);},this);return this._.click;}},proto:{add:function(l,m,n){var q=this;var o=q._.pendingHtml,p='cke_'+e.getNextNumber();if(!q._.started){o.push('<ul class=cke_panel_list>');q._.started=1;}q._.items[l]=p;o.push('<li id=',p,' class=cke_panel_listItem><a _cke_focus=1 hidefocus=true title="',n||l,'" href="javascript:void(\'',l,'\')" onclick="CKEDITOR.tools.callFunction(',q._.getClick(),",'",l,"');\">",m||l,'</a></li>');},startGroup:function(l){this._.close();var m='cke_'+e.getNextNumber();this._.groups[l]=m;this._.pendingHtml.push('<h1 id=',m,' class=cke_panel_grouptitle>',l,'</h1>');},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(''));},toggle:function(l){var m=this.isMarked(l);if(m)this.unmark(l);else this.mark(l);
return!m;},hideGroup:function(l){var m=this.element.getDocument().getById(this._.groups[l]),n=m&&m.getNext();if(m){m.setStyle('display','none');if(n&&n.getName()=='ul')n.setStyle('display','none');}},hideItem:function(l){this.element.getDocument().getById(this._.items[l]).setStyle('display','none');},showAll:function(){var l=this._.items,m=this._.groups,n=this.element.getDocument();for(var o in l)n.getById(l[o]).setStyle('display','');for(title in m){var p=n.getById(m[title]),q=p.getNext();p.setStyle('display','');if(q&&q.getName()=='ul')q.setStyle('display','');}},mark:function(l){var m=this;if(!m.multiSelect)m.unmarkAll();m.element.getDocument().getById(m._.items[l]).addClass('cke_selected');},unmark:function(l){this.element.getDocument().getById(this._.items[l]).removeClass('cke_selected');},unmarkAll:function(){var l=this._.items,m=this.element.getDocument();for(var n in l)m.getById(l[n]).removeClass('cke_selected');},isMarked:function(l){return this.element.getDocument().getById(this._.items[l]).hasClass('cke_selected');},focus:function(l){this._.focusIndex=-1;if(l){var m=this.element.getDocument().getById(this._.items[l]).getFirst(),n=this.element.getElementsByTag('a'),o,p=-1;while(o=n.getItem(++p))if(o.equals(m)){this._.focusIndex=p;break;}setTimeout(function(){m.focus();},0);}}}});}});j.add('dialogui');(function(){var l=function(s){var v=this;v._||(v._={});v._['default']=v._.initValue=s['default']||'';var t=[v._];for(var u=1;u<arguments.length;u++)t.push(arguments[u]);t.push(true);e.extend.apply(e,t);return v._;},m={build:function(s,t,u){return new k.dialog.textInput(s,t,u);}},n={build:function(s,t,u){return new k.dialog[t.type](s,t,u);}},o={isChanged:function(){return this.getValue()!=this.getInitValue();},reset:function(){this.setValue(this.getInitValue());},setInitValue:function(){this._.initValue=this.getValue();},resetInitValue:function(){this._.initValue=this._['default'];},getInitValue:function(){return this._.initValue;}},p=e.extend({},k.dialog.uiElement.prototype.eventProcessors,{onChange:function(s,t){if(!this._.domOnChangeRegistered){s.on('load',function(){this.getInputElement().on('change',function(){this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',t);}},true),q=/^on([A-Z]\w+)/,r=function(s){for(var t in s)if(q.test(t)||t=='title'||t=='type')delete s[t];return s;};e.extend(k.dialog,{labeledElement:function(s,t,u,v){if(arguments.length<4)return;var w=l.call(this,t);w.labelId=e.getNextNumber()+'_label';
var x=this._.children=[],y=function(){var z=[];if(t.labelLayout!='horizontal')z.push('<div class="cke_dialog_ui_labeled_label" id="',w.labelId,'" >',e.htmlEncode(t.label),'</div>','<div class="cke_dialog_ui_labeled_content">',v(s,t),'</div>');else{var A={type:'hbox',widths:t.widths,padding:0,children:[{type:'html',html:'<span class="cke_dialog_ui_labeled_label" id="'+w.labelId+'">'+e.htmlEncode(t.label)+'</span>'},{type:'html',html:'<span class="cke_dialog_ui_labeled_content">'+v(s,t)+'</span>'}]};a.dialog._.uiElementBuilders.hbox.build(s,A,z);}return z.join('');};k.dialog.uiElement.call(this,s,t,u,'div',null,null,y);},textInput:function(s,t,u){if(arguments.length<3)return;l.call(this,t);var v=this._.inputId=e.getNextNumber()+'_textInput',w={'class':'cke_dialog_ui_input_'+t.type,id:v},x;if(t.validate)this.validate=t.validate;if(t.maxLength)w.maxlength=t.maxLength;if(t.size)w.size=t.size;var y=this,z=false;s.on('load',function(){y.getInputElement().on('keydown',function(B){if(B.data.getKeystroke()==13)z=true;});y.getInputElement().on('keyup',function(B){if(B.data.getKeystroke()==13&&z){s.getButton('ok')&&s.getButton('ok').click();z=false;}});});var A=function(){var B=['<div class="cke_dialog_ui_input_',t.type,'"><input '];for(var C in w)B.push(C+'="'+w[C]+'" ');B.push(' /></div>');return B.join('');};k.dialog.labeledElement.call(this,s,t,u,A);},textarea:function(s,t,u){if(arguments.length<3)return;l.call(this,t);var v=this,w=this._.inputId=e.getNextNumber()+'_textarea',x={};if(t.validate)this.validate=t.validate;x.rows=t.rows||5;x.cols=t.cols||20;var y=function(){var z=['<div class="cke_dialog_ui_input_textarea"><textarea class="cke_dialog_ui_input_textarea" id="',w,'" '];for(var A in x)z.push(A+'="'+e.htmlEncode(x[A])+'" ');z.push('>',e.htmlEncode(v._['default']),'</textarea></div>');return z.join('');};k.dialog.labeledElement.call(this,s,t,u,y);},checkbox:function(s,t,u){if(arguments.length<3)return;var v=l.call(this,t,{'default':!!t['default']});if(t.validate)this.validate=t.validate;var w=function(){var x=e.extend({},t,{id:t.id?t.id+'_checkbox':e.getNextNumber()+'_checkbox'},true),y=[],z={'class':'cke_dialog_ui_checkbox_input',type:'checkbox'};r(x);if(t['default'])z.checked='checked';v.checkbox=new k.dialog.uiElement(s,x,y,'input',null,z);y.push(' ',e.htmlEncode(t.label));return y.join('');};k.dialog.uiElement.call(this,s,t,u,'label',null,null,w);},radio:function(s,t,u){if(arguments.length<3)return;l.call(this,t);if(!this._['default'])this._['default']=this._.initValue=t.items[0][1];
if(t.validate)this.validate=t.valdiate;var v=[],w=this,x=function(){var y=[],z=[],A={'class':'cke_dialog_ui_radio_item'},B=t.id?t.id+'_radio':e.getNextNumber()+'_radio';for(var C=0;C<t.items.length;C++){var D=t.items[C],E=D[2]!==undefined?D[2]:D[0],F=D[1]!==undefined?D[1]:D[0],G=e.extend({},t,{id:e.getNextNumber()+'_radio_input',title:null,type:null},true),H=e.extend({},G,{id:null,title:E},true),I=[],J={type:'radio','class':'cke_dialog_ui_radio_input',name:B,value:F};if(w._['default']==F)J.checked='checked';r(G);r(H);v.push(new k.dialog.uiElement(s,G,I,'input',null,J));new k.dialog.uiElement(s,H,y,'label',null,null,I.join('')+' '+D[0]);}new k.dialog.hbox(s,[],y,z);return z.join('');};k.dialog.labeledElement.call(this,s,t,u,x);this._.children=v;},button:function(s,t,u){if(arguments.length<3)return;if(typeof t=='function')t=t(s.getParentEditor());l.call(this,t,{disabled:t.disabled||false});var v=function(){var y=[],z=t.align||(s.getParentEditor().lang.dir=='ltr'?'left':'right');if(t.style){var A=e.trim(t.style);y.push(A);if(A.charAt(A.length-1)!=';')y.push(';');}if(c&&b.version<8)y.push(['margin:','auto',z=='right'?'0px':'auto','auto',z=='left'?'0px':'auto'].join(' '),';');return['<table align="',z,'" ',y.length>0?'style="'+y.join('')+'">':'>','<tbody><tr><td class="cke_dialog_ui_button_txt">',e.htmlEncode(t.label),'</td></tr></tbody></table>'].join('');};a.event.implementOn(this);var w=this;s.on('load',function(y){var z=this.getElement();(function(){z.on('mousedown',function(A){if(w._.disabled)return;k.dialog.button._.activeButton=[w,w.getElement()];});z.on('keydown',function(A){if(A.data.$.keyCode==13){w.fire('click',{dialog:w.getDialog()});A.data.preventDefault();}});})();if(c)z.getChild([0,0,0,0]).$.innerHTML+='';if(!y.data.buttonHandlerRegistered){a.document.on('mouseup',function(A){var B=A.data.getTarget(),C=k.dialog.button._.activeButton;if(!C)return;if(C[1].equals(B.getAscendant('a')))C[0].fire('click',{dialog:C[0].getDialog()});k.dialog.button._.activeButton=null;});y.data.buttonHandlerRegistered=true;}this.getElement().getFirst().unselectable();},this);var x=e.extend({},t);delete x.style;k.dialog.uiElement.call(this,s,x,u,'a',{display:'block',outline:'none'},{href:'javascript:void(0);',title:t.label,hidefocus:'true'},v);},select:function(s,t,u){if(arguments.length<3)return;var v=l.call(this,t);if(t.validate)this.validate=t.validate;var w=function(){var x=e.extend({},t,{id:t.id?t.id+'_select':e.getNextNumber()+'_select'},true),y=[],z=[],A={'class':'cke_dialog_ui_input_select'};
if(t.size!=undefined)A.size=t.size;if(t.multiple!=undefined)A.multiple=t.multiple;r(x);for(var B=0,C;B<t.items.length&&(C=t.items[B]);B++)z.push('<option value="',e.htmlEncode(C[1]!==undefined?C[1]:C[0]),'" /> ',e.htmlEncode(C[0]));v.select=new k.dialog.uiElement(s,x,y,'select',null,A,z.join(''));return y.join('');};k.dialog.labeledElement.call(this,s,t,u,w);},file:function(s,t,u){if(arguments.length<3)return;if(t['default']===undefined)t['default']='';var v=e.extend(l.call(this,t),{definition:t,buttons:[]});if(t.validate)this.validate=t.validate;var w=function(){v.frameId=e.getNextNumber()+'_fileInput';var x=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" id="',v.frameId,'" src="javascript: void(0)" ></iframe>'];return x.join('');};s.on('load',function(){var x=a.document.getById(v.frameId),y=x.getParent();y.addClass('cke_dialog_ui_input_file');});k.dialog.labeledElement.call(this,s,t,u,w);},fileButton:function(s,t,u){if(arguments.length<3)return;var v=l.call(this,t),w=this;if(t.validate)this.validate=t.validate;var x=e.extend({},t);x.className=(x.className?x.className+' ':'')+('cke_dialog_ui_button');x.onClick=function(y){var z=t['for'];s.getContentElement(z[0],z[1]).submit();this.disable();};s.on('load',function(){s.getContentElement(t['for'][0],t['for'][1])._.buttons.push(w);});k.dialog.button.call(this,s,x,u);},html:(function(){var s=/^\s*<[\w:]+\s+([^>]*)?>/,t=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,u=/\/$/;return function(v,w,x){if(arguments.length<3)return;var y=[],z,A=w.html,B,C;if(A.charAt(0)!='<')A='<span>'+A+'</span>';k.dialog.uiElement.call(this,v,w,y,'span',null,null,'');z=y.join('');B=z.match(s);C=A.match(t)||['','',''];if(u.test(C[1])){C[1]=C[1].slice(0,-1);C[2]='/'+C[2];}x.push([C[1],' ',B[1]||'',C[2]].join(''));};})()},true);k.dialog.html.prototype=new k.dialog.uiElement();k.dialog.labeledElement.prototype=e.extend(new k.dialog.uiElement(),{setLabel:function(s){var t=a.document.getById(this._.labelId);if(t.getChildCount()<1)new d.text(s,a.document).appendTo(t);else t.getChild(0).$.nodeValue=s;return this;},getLabel:function(){var s=a.document.getById(this._.labelId);if(!s||s.getChildCount()<1)return '';else return s.getChild(0).getText();},eventProcessors:p},true);k.dialog.button.prototype=e.extend(new k.dialog.uiElement(),{click:function(){var s=this;if(!s._.disabled)return s.fire('click',{dialog:s._.dialog});s.getElement().$.blur();},enable:function(){this._.disabled=false;this.getElement().removeClass('disabled');
},disable:function(){this._.disabled=true;this.getElement().addClass('disabled');},isVisible:function(){return!!this.getElement().$.firstChild.offsetHeight;},isEnabled:function(){return!this._.disabled;},eventProcessors:e.extend({},k.dialog.uiElement.prototype.eventProcessors,{onClick:function(s,t){this.on('click',t);}},true),accessKeyUp:function(){this.click();},accessKeyDown:function(){this.focus();},keyboardFocusable:true},true);k.dialog.textInput.prototype=e.extend(new k.dialog.labeledElement(),{getInputElement:function(){return a.document.getById(this._.inputId);},focus:function(){var s=this.selectParentTab();setTimeout(function(){s.getInputElement().$.focus();},0);},select:function(){var s=this.selectParentTab();setTimeout(function(){var t=s.getInputElement().$;t.focus();t.select();},0);},accessKeyUp:function(){this.select();},setValue:function(s){s=s||'';return k.dialog.uiElement.prototype.setValue.call(this,s);},keyboardFocusable:true},o,true);k.dialog.textarea.prototype=new k.dialog.textInput();k.dialog.select.prototype=e.extend(new k.dialog.labeledElement(),{getInputElement:function(){return this._.select.getElement();},add:function(s,t,u){var v=new g('option',this.getDialog().getParentEditor().document),w=this.getInputElement().$;v.$.text=s;v.$.value=t===undefined||t===null?s:t;if(u===undefined||u===null)if(c)w.add(v.$);else w.add(v.$,null);else w.add(v.$,u);return this;},remove:function(s){var t=this.getInputElement().$;t.remove(s);return this;},clear:function(){var s=this.getInputElement().$;while(s.length>0)s.remove(0);return this;},keyboardFocusable:true},o,true);k.dialog.checkbox.prototype=e.extend(new k.dialog.uiElement(),{getInputElement:function(){return this._.checkbox.getElement();},setValue:function(s){this.getInputElement().$.checked=s;this.fire('change',{value:s});},getValue:function(){return this.getInputElement().$.checked;},accessKeyUp:function(){this.setValue(!this.getValue());},eventProcessors:{onChange:function(s,t){if(!c)return p.onChange.apply(this,arguments);else{s.on('load',function(){var u=this._.checkbox.getElement();u.on('propertychange',function(v){v=v.data.$;if(v.propertyName=='checked')this.fire('change',{value:u.$.checked});},this);},this);this.on('change',t);}return null;}},keyboardFocusable:true},o,true);k.dialog.radio.prototype=e.extend(new k.dialog.uiElement(),{setValue:function(s){var t=this._.children,u;for(var v=0;v<t.length&&(u=t[v]);v++)u.getElement().$.checked=u.getValue()==s;this.fire('change',{value:s});},getValue:function(){var s=this._.children;
for(var t=0;t<s.length;t++)if(s[t].getElement().$.checked)return s[t].getValue();return null;},accessKeyUp:function(){var s=this._.children,t;for(t=0;t<s.length;t++)if(s[t].getElement().$.checked){s[t].getElement().focus();return;}s[0].getElement().focus();},eventProcessors:{onChange:function(s,t){if(!c)return p.onChange.apply(this,arguments);else{s.on('load',function(){var u=this._.children,v=this;for(var w=0;w<u.length;w++){var x=u[w].getElement();x.on('propertychange',function(y){y=y.data.$;if(y.propertyName=='checked'&&this.$.checked)v.fire('change',{value:this.getAttribute('value')});});}},this);this.on('change',t);}return null;}},keyboardFocusable:true},o,true);k.dialog.file.prototype=e.extend(new k.dialog.labeledElement(),o,{getInputElement:function(){return new g(a.document.getById(this._.frameId).$.contentWindow.document.forms[0].elements[0]);},submit:function(){this.getInputElement().getParent().$.submit();return this;},reset:function(){var s=a.document.getById(this._.frameId),t=s.$.contentWindow.document,u=this._.definition,v=this._.buttons;t.open();t.write(['<html><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" action="',e.htmlEncode(u.action),'">','<input type="file" name="',e.htmlEncode(u.id||'cke_upload'),'" size="',e.htmlEncode(u.size||''),'" />','</form>','</body></html>'].join(''));t.close();for(var w=0;w<v.length;w++)v[w].enable();},eventProcessors:p,keyboardFocusable:true},true);k.dialog.fileButton.prototype=new k.dialog.button();k.dialog.button._={activeButton:null};a.dialog.addUIElement('text',m);a.dialog.addUIElement('password',m);a.dialog.addUIElement('textarea',n);a.dialog.addUIElement('checkbox',n);a.dialog.addUIElement('radio',n);a.dialog.addUIElement('button',n);a.dialog.addUIElement('select',n);a.dialog.addUIElement('file',n);a.dialog.addUIElement('fileButton',n);a.dialog.addUIElement('html',n);})();a.skins.add('default',(function(){var l=[],m=[];if(c&&b.version<=6)l.push('icons.gif','images/sprites.gif','images/dialog.sides.gif');return{preload:l,editor:{css:['editor.css']},dialog:{css:['dialog.css'],js:m},templates:{css:['templates.css']}};})());(function(){var l='default',m=function(n,o,p,q){var r=o?n.parts[o]:n._.element.getFirst();if(p)r.setStyle('width',p+'px');if(q)r.setStyle('height',q+'px');};if(a.dialog){a.dialog.setMargins(0,14,18,14);a.dialog.on('resize',function(n){var o=n.data,p=o.width,q=o.height,r=o.dialog,s=a.document.$.compatMode=='CSS1Compat';
if(o.skin!=l)return;m(r,'t',p-32,16);m(r,'t_resize',p-32,null);m(r,'l',16,q-67);m(r,'l_resize',null,q-22);m(r,'c',p-32,q-67);m(r,'r',16,q-67);m(r,'r_resize',null,q-22);m(r,'b',p-60,51);m(r,'b_resize',p-32,null);m(r,'tabs_table',p-32,null);if(c){var t=p-34,u=r.getPageCount()>1?q-106:q-84,v=r.parts.contents.getChildCount();if(!s){t+=2;u+=2;r.parts.tabs.setStyle('top','33px');}m(r,'title',s?p-52:p-32,s?null:31);m(r,'contents',t,u);m(r,'footer',p-32);for(var w=0;w<v;w++){var x=r.parts.contents.getChild(w);if(x instanceof g&&(x.$.className||'').search('cke_dialog_page_contents')>-1)x.setStyles({width:t-(s?20:0)+'px',height:u-(s?20:0)+'px'});}}m(r,null,p,q);});}})();a.themes.add('default',(function(){var l='cke_browser_'+(c?'ie':b.gecko?'gecko':b.opera?'opera':b.air?'air':b.webkit?'webkit':'unknown');if(c){if(b.version<7)l+=' cke_browser_ie6';if(b.quirks)l+=' cke_browser_iequirks';}return{build:function(m,n){var o=m.name,p=m.element,q=m.elementMode;if(!p||q==0)return;if(q==1)p.hide();var r=m.fire('themeSpace',{space:'top',html:''}).html,s=m.fire('themeSpace',{space:'contents',html:''}).html,t=m.fireOnce('themeSpace',{space:'bottom',html:''}).html,u=s&&m.config.height,v=m.config.width,w=m.config.tabIndex||m.element.getAttribute('tabindex')||0;if(!s)u='auto';else if(!isNaN(u))u+='px';if(!isNaN(v))v+='px';var x=g.createFromHtml(['<span id="cke_',o,'" onmousedown="return false;" class="',m.skinClass,'" dir="',m.lang.dir,'" title="',b.gecko?' ':'','" tabindex="'+w+'">'+'<span class="',l,' cke_',m.lang.dir,'"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0" style="width:',v,';height:',u,'"><tbody><tr',r?'':' style="display:none"','><td id="cke_top_',o,'" class="cke_top">',r,'</td></tr><tr',s?'':' style="display:none"','><td id="cke_contents_',o,'" class="cke_contents" style="height:100%">',s,'</td></tr><tr',t?'':' style="display:none"','><td id="cke_bottom_',o,'" class="cke_bottom">',t,'</td></tr></tbody></table><style>.',m.skinClass,'{visibility:hidden;}</style></span></span>'].join(''));x.getChild([0,0,0,0]).unselectable();x.getChild([0,0,0,2]).unselectable();if(q==1)x.insertAfter(p);else p.append(x);m.container=x;m.fireOnce('themeLoaded');m.fireOnce('uiReady');},buildDialog:function(m){var n=e.getNextNumber(),o=g.createFromHtml(['<div class="cke_skin_',m.config.skin,' ',l,' ',a.document.$.compatMode=='CSS1Compat'?'cke_mode_standards':'cke_mode_quirks',' cke_',m.lang.dir,'" dir="',m.lang.dir,'"><div id="%#" class="cke_dialog" style="position:',b.ie6Compat?'absolute;':'fixed;','">','<div><div id="%tl_#" class="%tl"><div id="%tl_resize_#" class="%tl_resize"></div></div><div id="%t_#" class="%t"><div id="%t_resize_#" class="%t_resize"></div></div><div id="%tr_#" class="%tr"><div id="%tr_resize_#" class="%tr_resize"></div></div></div><div><div id="%l_#" class="%l"><div id="%l_resize_#" class="%l_resize"></div></div><div id="%c_#" class="%c"><div id="%title_#" class="%title"><div id="%close_button_#" class="%close_button"></div></div><table id="%tabs_#" class="%tabs" cellpadding="0" border="0" cellspacing="0"><tbody><tr><td class="head_filler">&nbsp;</td><td class="tail_filler">&nbsp;</td></tr></tbody></table><div id="%contents_#" class="%contents"></div><div id="%footer_#" class="%footer"></div></div><div id="%r_#" class="%r"><div id="%r_resize_#" class="%r_resize"></div></div></div><div><div id="%bl_#" class="%bl"><div id="%bl_resize_#" class="%bl_resize"></div></div><div id="%b_#" class="%b"><div id="%b_resize_#" class="%b_resize"></div></div><div id="%br_#" class="%br"><div id="%br_resize_#" class="%br_resize"></div></div></div></div>',c?'':'<style>.cke_dialog{visibility:hidden;}</style>','</div>'].join('').replace(/#/g,n).replace(/%/g,'cke_dialog_'));
o.getChild([0,1,1,0]).unselectable();return{element:o,titleId:'cke_dialog_title_'+n,contentsId:'cke_dialog_contents_'+n,footerId:'cke_dialog_footer_'+n,closeIds:['cke_dialog_close_button_'+n],dragIds:['cke_dialog_title_'+n,'cke_dialog_tabs_'+n]};},destroy:function(m){var n=m.container;if(n)n.remove();if(m.elementMode==1)m.element.show();}};})());a.editor.prototype.getThemeSpace=function(l){var m='cke_'+l,n=this._[m]||(this._[m]=a.document.getById(m+'_'+this.name));return n;};})();
