/*
Copyright (c) 2003-2009, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){var a=function(){this.toolbars=[];this.focusCommandExecuted=false;};a.prototype.focus=function(){for(var c=0,d;d=this.toolbars[c++];)for(var e=0,f;f=d.items[e++];)if(f.focus){f.focus();return;}};var b={toolbarFocus:{exec:function(c){if(c.toolbox){c.toolbox.focusCommandExecuted=true;c.toolbox.focus();}}}};CKEDITOR.plugins.add('toolbar',{init:function(c){var d=function(e,f){switch(f){case 39:case 9:while((e=e.next||e.toolbar.next&&e.toolbar.next.items[0])&&(!e.focus)){}if(e)e.focus();else c.toolbox.focus();return false;case 37:case CKEDITOR.SHIFT+9:while((e=e.previous||e.toolbar.previous&&e.toolbar.previous.items[e.toolbar.previous.items.length-1])&&(!e.focus)){}if(e)e.focus();else{var g=c.toolbox.toolbars[c.toolbox.toolbars.length-1].items;g[g.length-1].focus();}return false;case 27:c.focus();return false;case 13:case 32:e.execute();return false;}return true;};c.on('themeSpace',function(e){if(e.data.space==c.config.toolbarLocation){c.toolbox=new a();var f=['<div class="cke_toolbox">'],g=c.toolbox.toolbars,h=c.config.toolbar;for(var i=0;i<h.length;i++){var j=h[i],k='cke_'+CKEDITOR.tools.getNextNumber(),l={id:k,items:[]};if(j==='/'){f.push('<div class="cke_break"></div>');continue;}f.push('<div id="',k,'" class="cke_toolbar">');var m=g.push(l)-1;if(m>0){l.previous=g[m-1];l.previous.next=l;}for(var n=0;n<j.length;n++){var o,p=j[n];if(p=='-')o=CKEDITOR.ui.separator;else o=c.ui.create(p);if(o){var q=o.render(c,f);m=l.items.push(q)-1;if(m>0){q.previous=l.items[m-1];q.previous.next=q;}q.toolbar=l;q.onkey=d;q.onfocus=function(){if(!c.toolbox.focusCommandExecuted)c.focus();};}}f.push('</div>');}f.push('</div>');e.data.html+=f.join('');}});c.addCommand('toolbarFocus',b.toolbarFocus);}});})();CKEDITOR.ui.separator={render:function(a,b){b.push('<span class="cke_separator"></span>');return{};}};CKEDITOR.config.toolbarLocation='top';CKEDITOR.config.toolbar=[['Source','-','Save','NewPage','Preview','-','Templates'],['Cut','Copy','Paste','PasteText','PasteFromWord','-','Print','SpellChecker'],['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'],['Form','Checkbox','Radio','TextField','Textarea','Select','Button','ImageButton','HiddenField'],'/',['Bold','Italic','Underline','Strike','-','Subscript','Superscript'],['NumberedList','BulletedList','-','Outdent','Indent','Blockquote'],['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'],['Link','Unlink','Anchor'],['Image','Flash','Table','HorizontalRule','Smiley','SpecialChar','PageBreak'],'/',['Styles','Format','Font','FontSize'],['TextColor','BGColor'],['ShowBlocks']];
