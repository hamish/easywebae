/*
Copyright (c) 2003-2009, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

CKEDITOR.dialog.add('textfield',function(a){return{title:a.lang.textfield.title,minWidth:400,minHeight:230,onShow:function(){var c=this;c.restoreSelection();var b=c.getParentEditor().getSelection().getSelectedElement();if(b&&b.getName()=='input'&&b.getAttribute('type')=='text'&&!b.getAttribute('type')){c._element=b;c.setupContent(b);}},onOk:function(){var e=this;var b,c=e._element,d=!c;if(d){b=e.getParentEditor();c=b.document.createElement('input');c.setAttribute('type','text');}e.commitContent(c);if(d){e.restoreSelection();e.clearSavedSelection();b.insertElement(c);}},contents:[{id:'info',label:a.lang.textfield.title,title:a.lang.textfield.title,elements:[{type:'hbox',widths:['50%','50%'],children:[{id:'txtName',type:'text',label:a.lang.textfield.name,'default':'',accessKey:'N',setup:function(b){this.setValue(b.getAttribute('name'));this.focus();},commit:function(b){if(this.getValue()!=''||this.isChanged())b.setAttribute('name',this.getValue());}},{id:'txtValue',type:'text',label:a.lang.textfield.value,'default':'',accessKey:'V',setup:function(b){this.setValue(b.getAttribute('value'));},commit:function(b){if(this.getValue()!=''||this.isChanged())b.setAttribute('value',this.getValue());}}]},{type:'hbox',widths:['50%','50%'],children:[{id:'txtTextCharWidth',type:'text',label:a.lang.textfield.charWidth,'default':'',accessKey:'C',style:'width:50px',validate:function(){var b=CKEDITOR.dialog.validate.integer(a.lang.common.validateNumberFailed);return isValid=b.apply(this);},setup:function(b){this.setValue(b.getAttribute('size'));},commit:function(b){if(this.getValue()!=''||this.isChanged())b.setAttribute('size',this.getValue());}},{id:'txtMaxChars',type:'text',label:a.lang.textfield.maxChars,'default':'',accessKey:'M',style:'width:50px',validate:function(){var b=CKEDITOR.dialog.validate.integer(a.lang.common.validateNumberFailed);return isValid=b.apply(this);},setup:function(b){this.setValue(b.getAttribute('maxlength'));},commit:function(b){if(this.getValue()!=''||this.isChanged())b.setAttribute('maxlength',this.getValue());}}]},{id:'cmbType',type:'select',label:a.lang.textfield.type,'default':'text',accessKey:'M',items:[[a.lang.textfield.typeText,'text'],[a.lang.textfield.typePass,'pass']],setup:function(b){this.setValue(b.getAttribute('type'));},commit:function(b){b.setAttribute('type',this.getValue());}}]}]};});
